!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=85)}([function(e,t,n){"use strict";function a(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&apos;")}function i(e){return e.replace(/&apos;/gm,"'").replace(/&quot;/gm,'"').replace(/&gt;/gm,">").replace(/&lt;/gm,"<").replace(/&amp;/gm,"&")}function o(e){return a(e).replace(/^@/gm,"\\ufeff@")}function r(e){setTimeout(function(){e.focus(),e.select()},4)}function s(e){for(var t=e.parentElement;t&&t.scrollHeight<=t.clientHeight;)t=t.parentElement;return t}function l(e,t){var n=document.createElement("div"),a=document.createElement("div");n.appendChild(a),n.classList.add("toastContainer"),a.classList.add("toast"),a.textContent=e,(t=t||document.body).appendChild(n),setTimeout(function(){n.classList.add("show"),setTimeout(function(){n.addEventListener("transitionend",function(){n.remove()}),n.classList.remove("show")},3e3)},50)}function c(e){getSelection().removeAllRanges();var t=document.createRange();t.selectNodeContents(e),getSelection().addRange(t)}function u(e){var t=document.createElement("div");t.classList.add("copyContainer"),t.textContent=e.content,e.container?e.container.appendChild(t):document.body.appendChild(t),c(t);try{document.execCommand("copy")&&e.toastContainer&&l("Copied to clipboard!",e.toastContainer)}catch(e){}getSelection().removeAllRanges(),t.remove()}function d(e,t){if(!(t=t||s(e)))return!0;var n=e.getBoundingClientRect(),a=t.getBoundingClientRect();return a.top<=n.top&&a.bottom>=n.bottom&&a.left<=n.left&&a.right>=n.right}function m(e,t){return new Promise(function(n){var a=document.createElement("canvas");a.width=t.width,a.height=t.height;var i=a.getContext("2d");i.webkitImageSmoothingEnabled=!0,i.mozImageSmoothingEnabled=!0,i.msImageSmoothingEnabled=!0,i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="medium";var o=document.createElement("img");o.crossOrigin="anonymous";var r,s,l,c=1,u=0,d=0;o.addEventListener("load",function(e){o.width<=a.width?(r=o.width,u=(a.width-o.width)/2):(c=a.width/o.width,r=a.width),t.height||(a.height=a.width*o.height/o.width),(l=c*o.height)<=a.height?(s=o.height,d=(a.height-l)/2):(s=a.height/c,l=a.height),i.drawImage(o,0,0,o.width,s,u,d,r,l),a.toBlob(function(e){n(URL.createObjectURL(e))})}),o.addEventListener("error",function(t){n(e)}),o.src=e})}function p(e,t,n){t[Symbol.for("thumbnail")]?Object.assign(e,t[Symbol.for("thumbnail")]):Promise.all([m(t[n],{width:e.width,height:e.height}),m(t[n],{width:2*e.width,height:2*e.height})]).then(function(n){t[Symbol.for("thumbnail")]={src:n[0],srcset:n[1]},Object.assign(e,t[Symbol.for("thumbnail")])})}function g(e,t,n){var a=Zeplin.urls.imgURL+"/"+encodeURIComponent(t[n]),i="?w="+e.width,o="?w="+2*e.width;e.height&&(i+="&cropTop=0&cropLeft=0&cropWidth="+e.width+"&cropHeight="+e.height,o+="&cropTop=0&cropLeft=0&cropWidth="+2*e.width+"&cropHeight="+2*e.height),e.addEventListener("error",function a(){e.removeEventListener("error",a),p(e,t,n)}),Object.assign(e,{src:a+i,srcset:a+o+" 2x"})}function f(e,t){var n=Number(e).toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:t});return Number(n)}function h(e,t){if(t=t||s(e)){var n=e.getBoundingClientRect(),a=t.getBoundingClientRect();setTimeout(function(){n.top<a.top?t.scrollTop-=a.top-n.top:n.bottom>a.bottom&&(t.scrollTop+=n.bottom-a.bottom)},4)}}function y(e,t){if(!e)return Zeplin.urls.appURL+"/img/emotars/emotarAnonymous.png";var n=!1;if("ignoreRandomEmotar"in(t=t||{})&&(n=t.ignoreRandomEmotar),!n&&e.emotar){var a=e.emotar.replace(/_\w/g,function(e){return e.charAt(1).toUpperCase()});return a=C(a),{src:Zeplin.urls.appURL+"/img/emotars/emotar"+a+".png"}}if(e.avatar)return{src:e.avatar};var i;if(n)return{src:Zeplin.urls.appURL+"/img/emotars/icRandom.svg"};if(e.email){var o=Y[e._id];o||(o=Array.from(Z()(e._id)).reduce(function(e,t){return e+t.charCodeAt()},0),Y[e._id]=o),i=C(i=W[o%W.length].replace(/_\w/g,function(e){return e.charAt(1).toUpperCase()})),i=Zeplin.urls.appURL+"/img/emotars/emotar"+i+".png";var r="https://secure.gravatar.com/avatar/"+Z()(e.email);return{src:r+"?"+(t.size?"s="+t.size+"&":"")+"d="+i,srcset:r+"?"+(t.size?"s="+2*t.size+"&":"")+"d="+i+" 2x"}}}function b(e,t,n){var a=e.parentElement;a.classList.add("loading"),e.removeAttribute("src"),e.removeAttribute("srcset"),e.addEventListener("load",function t(){e.removeEventListener("load",t),a.classList.remove("loading")});var i=y(t,{ignoreRandomEmotar:!!n,size:e.width});i&&Object.assign(e,i)}function v(e){e.addEventListener("animationend",function(t){e.classList.remove("wiggle")}),e.classList.add("wiggle")}function S(e){return e.replace(J,function(e){return K.test(e)?'<span class="emoji skinType">'+e+"</span>":'<span class="emoji">'+e+"</span>"}).replace(/<\/span><span class="emoji skinType">/g,"")}function j(e,t){var n=e.findIndex(t);if(-1!==n)return e.splice(n,1)[0]}function E(e,t){return e.fontSize>t.fontSize?-1:e.fontSize===t.fontSize?e.fontWeight>t.fontWeight?-1:e.fontWeight===t.fontWeight?e.color&&t.color?e.fontFace<=t.fontFace?-1:1:e.color?-1:t.color?1:e.fontFace<=t.fontFace?-1:1:1:1}function L(e,t,n){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(!n(e[a],t[a]))return!1;return!0}function D(e,t){return!(!e||!/^[0-9a-f]{24}$/i.test(e))||("Raven"in window&&Raven.captureException(new Error("Invalid "+(t||"object")+" id"),{extra:{id:e}}),!1)}function w(e){return e.charAt(0).toLowerCase()+e.substring(1)}function C(e){return e.charAt(0).toUpperCase()+e.substring(1)}function x(e){return!e.users.length||te.includes(e.users[0].role)}function k(e,t,n){var a=t.toLowerCase();if(e===a)return{score:1,hasFuzzyMatch:!1};var i=0,o=e,r=n&&n.toLowerCase();if(r&&o.includes(r)){i+=.3;var s=o.replace(new RegExp("\\s*\\b"+r+"\\s*\\b","g")," ").trim();s.length&&(o=s)}var l=a.indexOf(o);l>-1&&(i+=.3,a.startsWith(o)?i+=.3:" "===a.charAt(l-1)&&(i+=.2),i+=(a.length-l)/a.length/200);for(var c=-1,u=0,d=0,m=c=a.indexOf(o.charAt(d));m<a.length&&-1!==c;m++){u+=(a.length-c)/a.length/200," "===a.charAt(c>0?c-1:c)&&(u+=(a.length-c)/a.length/200);var p=o[++d];c=p?a.indexOf(p,c+1):-1}var g=!1;return d===o.length&&(i+=.05,i+=u,g=!0),{score:i,hasFuzzyMatch:g}}function T(e,t,n,i){var o=0,r=t.toLowerCase();if(r.includes(n))o=r.indexOf(n),e.innerHTML=a(t.slice(0,o))+"<span class='highlight'>"+a(t.slice(o,o+n.length))+"</span>"+a(t.slice(o+n.length,t.length));else if(i){var s=Array.from(t),l=Array.from(r),c=Array.from(n),u="",d=0;o=l.indexOf(c[0]);for(var m=0;m<l.length;m++)if(o===m){var p=c[++d];o=p?l.indexOf(p,o+1):-1,u+="<span class='highlight'>"+a(s[m])+"</span>"}else u+=a(s[m]);e.innerHTML=u}else e.textContent=t}function _(e){return(e=Math.round(e))?255===e?"1.0f ":e+".0f / 255.0f ":"0.0f "}function q(e){return(e=Math.round(e))?255===e?"1.0, ":e+".0 / 255.0, ":"0.0, "}function O(e){var t=(e="?"===e[0]?e.substring(1):e).split("&").map(function(e){return e.split("=").map(function(e){return e.replace(/\+/g,"%20")}).map(decodeURIComponent)}),n=Array.from(new Set(t.map(function(e){return e[0]}))).reduce(function(e,t){return e[t]=[],e},{});return t.forEach(function(e){var t=n[e[0]];t&&e[1]&&t.push(e[1])}),n}function I(e){if(!Object.keys(e))return"";var t=[];return Object.keys(e).forEach(function(n){e[n]&&("string"==typeof e[n]?t.push([n,e[n]]):e[n].forEach(function(e){t.push([n,e])}))}),t.map(function(e){return e.map(encodeURIComponent).join("=")}).join("&")}function A(e,t){return Object.keys(t).reduce(function(e,n){return e.replace(new RegExp(":"+n),t[n])},e)}function N(e){return 0===Object.keys(e).length}function F(e,t){t=t||{};var n=new URL(t.origin||"https://app.zeplin.io");return n.pathname=t.url?A(ne[e],t.url):ne[e],t.query&&!N(t.query)&&(n.search=I(t.query)),t.hash&&!N(t.hash)&&(n.hash=I(t.hash)),n.toString()}function P(e){return(e.getDay()+6)%7}function R(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=t.getTime(),a=new Date(n-864e5),i=new Date(n-864e5*P(e)),o=new Date(n-864e5*(P(e)+7)),r=new Date(n-864e5*(e.getDate()-1)),s=new Date(n-864e5*(e.getDate()+1));return s.setDate(1),[["today",t],["yesterday",a],["this week",i],["last week",o],["this month",r],["last month",s]]}function M(e){var t=R().find(function(t){return e>=t[1]});if(t)return t[0];return((new Date).getFullYear()===e.getFullYear()?Intl.DateTimeFormat("en",{month:"long"}):Intl.DateTimeFormat("en",{year:"numeric",month:"long"})).format(e)}function B(e,t){return e.split(/[\W_]/).some(function(e){return e.startsWith(t)})}function U(e,t){return t?e.length-e.split("").reverse().join("").search(/\W/)-1:e.search(/\W/)}function z(){for(var e=Math.random(),t=0,n=0;t<ae.length;t++)if(e<=(n+=ie[t]))return ae[t];return ae[ae.length-1]}n.d(t,"h",function(){return a}),n.d(t,"H",function(){return i}),n.d(t,"o",function(){return r}),n.d(t,"k",function(){return s}),n.d(t,"D",function(){return l}),n.d(t,"B",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"q",function(){return d}),n.d(t,"y",function(){return g}),n.d(t,"z",function(){return f}),n.d(t,"A",function(){return h}),n.d(t,"n",function(){return y}),n.d(t,"C",function(){return b}),n.d(t,"E",function(){return G}),n.d(t,"L",function(){return v}),n.d(t,"c",function(){return j}),n.d(t,"i",function(){return E}),n.d(t,"f",function(){return J}),n.d(t,"F",function(){return S}),n.d(t,"b",function(){return L}),n.d(t,"K",function(){return D}),n.d(t,"t",function(){return w}),n.d(t,"I",function(){return C}),n.d(t,"x",function(){return Q}),n.d(t,"r",function(){return x}),n.d(t,"d",function(){return k}),n.d(t,"p",function(){return T}),n.d(t,"w",function(){return O}),n.d(t,"s",function(){return I}),n.d(t,"J",function(){return F}),n.d(t,"g",function(){return o}),n.d(t,"m",function(){return M}),n.d(t,"G",function(){return B}),n.d(t,"j",function(){return U}),n.d(t,"u",function(){return _}),n.d(t,"v",function(){return q}),n.d(t,"l",function(){return z}),n.d(t,"a",function(){return oe});var H=n(4),Z=n.n(H),W=["alien","bear","grapes","meat_on_bone","bread","lollipop","chicken","cookie","dark_sunglasses","dart","dog","eyes","frog","ghost","gift","jack_o_lantern","hamburger","koala","four_leaf_clover","lemon","lion_face","tophat","monkey_face","new_moon_with_face","hamster","mushroom","chestnut","octopus","panda_face","penguin","pig_nose","rabbit","mouse","robot_face","space_invader","full_moon_with_face","tennis","tomato","tv"],Y={},V={king:4,queen:3,rook:2,knight:1,pawn:0,owner:2,admin:1,user:0},G={role:function(e,t){return"invited"===e.user.status?"invited"===t.user.status&&e.user.email<t.user.email?-1:1:"invited"===t.user.status?-1:e.role===t.role?e.user.username<t.user.username?-1:1:V[t.role]-V[e.role]},created:function(e,t){return new Date(t.created)-new Date(e.created)},lastUpdated:function(e,t){return new Date(t.updated)-new Date(e.updated)},_property:function(e,t,n){e&&(t=t[e],n=n[e]);for(var a=t.toLowerCase().match(/\D+|\d+/g),i=n.toLowerCase().match(/\D+|\d+/g),o=Math.min(a.length,i.length),r=0;r<o;r++)if(a[r]!==i[r]){var s=parseInt(a[r],10),l=parseInt(i[r],10);return isNaN(s)||isNaN(l)?a[r]<i[r]?-1:a[r]>i[r]?1:0:s-l}return a.length-i.length},naturally:function(e,t){return G._property(null,e,t)},name:function(e,t){return G._property("name",e,t)}},J=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]\uFE0F|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83D\uDC69\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83D\uDC69\u200D[\u2695\u2696\u2708])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC68(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F/g,K=/\ud83c[\udffb-\udfff]/g,X=["user","admin","owner","pawn","knight","rook","queen","king"],$={canTransferOwnership:["king","queen","rook","owner"],canLeaveProject:["king","queen","rook","knight","pawn","user","admin"],canCreateProject:["king","queen","rook"],canUpdateProject:["king","queen","rook","owner","admin","user"],canChangeProjectAccesibility:["king","queen","rook","owner","admin"],canChangeProjectStatus:["king","queen","rook","owner","admin"],canDeleteProject:["king","queen","rook","owner"],canManageScreens:["king","queen","rook","owner","admin","user"],canMoveScreens:["king","queen","rook","owner","admin"],canManageColors:["king","queen","rook","owner","admin","user"],canManageTextStyles:["king","queen","rook","owner","admin","user"],canRemoveNotes:["king","queen","owner","admin"]},Q={isSuperior:function(e,t,n){var a=X.indexOf(e.role),i=X.indexOf(t.role);return n&&a===i||a>i}};for(var ee in $)Q[ee]=function(e){return function(t){return $[e].indexOf(t.role)>=0}}(ee);var te=["king","queen","rook","knight","pawn"],ne={downloads:"/downloads",forgotPassword:"/forgot-password",hodor:"/hodor",huggingSlack:"/hugging-slack",login:"/login",preview:"/project/:pid/preview",profile:"/profile","profile-account":"/profile/account","profile-password":"/profile/password","profile-billing":"/profile/billing",project:"/project/:pid","project-dashboard":"/project/:pid/dashboard","project-styleguide":"/project/:pid/styleguide","project-screen":"/project/:pid/screen/:sid",projects:"/projects",register:"/register",resetPassword:"/reset-password",thanks:"/thanks",verify:"/verify",welcome:"/welcome","organization-create":"/organization/create","organization-dashboard":"/organization/:oid/dashboard","organization-profile":"/organization/:oid/profile","organization-profile-billing":"/organization/:oid/profile/billing","organization-projects":"/organization/:oid/projects"},ae=["broccoli","car","cook","elephant","mariachi","paw","pear","rocket"],ie=ae.map(function(){return.95/(ae.length-1)});ie[ae.indexOf("mariachi")]=.05;var oe=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2})},function(e,t,n){"use strict";function a(e,t){return t=t||{},e>=400&&e<500?new o.a(e,t.title,t.message):e>=500&&e<600?new r.a(e):new Error("We're experiencing a problem here, our developers are on the case. Please try it later.")}function i(e,t){var n={title:e.title,message:e.message};if(e instanceof r.a)t?"serverErrorHandler"in t?t.serverErrorHandler(e):("serverErrorDialogCallback"in t?n.done={cb:t.serverErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),s.a(n)):s.a(n);else if(e instanceof o.a)if(401===e.status){if(t&&"clientErrorHandler"in t&&"object"==typeof t.clientErrorHandler&&"function"==typeof(i=t.clientErrorHandler[401]))return void i();Cookies.expire("userToken"),localStorage.removeItem("user"),Raven.setUserContext(),s.a({title:e.title,message:e.message},{defer:!0}),Zeplin.requireLogin()}else if(400===e.status&&Raven.captureException(e),t)if("clientErrorHandler"in t){var a=t.clientErrorHandler;if("function"==typeof a)a(e);else if("object"==typeof a){var i=a[e.status];"function"==typeof i?i(e):"default"in a&&a.default(e)}}else"clientErrorDialogCallback"in t?n.done={cb:t.clientErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),s.a(n);else s.a(n);else Raven.captureException(e),t&&"fallbackHandler"in t?t.fallbackHandler():s.a()}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var o=n(5),r=n(7),s=n(2)},function(e,t,n){"use strict";function a(e){var t=document.createElement("dialog"),n=document.createElement("h1"),a=document.createElement("div"),o=document.createElement("form"),r=document.createElement("button"),s=document.createElement("div"),l=document.createElement("div");if(e&&e.img){var c=document.createElement("div");c.classList.add("iconContainer"),s.appendChild(c),i(e.img,t)}if(n.classList.add("title"),s.appendChild(n),a.classList.add("message"),s.appendChild(a),e&&e.input){s.classList.add("inputDialogContainer");var u=document.createElement("div"),d=document.createElement("span"),m=document.createElement("input");u.classList.add("inputContainer"),d.classList.add("subtitle"),d.textContent=e.input.title,m.type=e.input.type,u.appendChild(d),u.appendChild(m),o.appendChild(u)}if(e&&e.cancel){var p=document.createElement("button");p.classList.add("cancel"),p.type="submit",p.textContent=e.cancel.name||"CANCEL",p.appendChild(document.createElement("paper-ripple")),e.cancel.cb&&p.addEventListener("click",e.cancel.cb),l.appendChild(p)}return r.classList.add("done"),r.type="submit",r.autofocus=!0,r.textContent=e&&e.done&&e.done.name||"OK",r.appendChild(document.createElement("paper-ripple")),e&&e.done&&e.done.cb&&r.addEventListener("click",e.done.cb),l.appendChild(r),l.classList.add("buttonContainer"),o.appendChild(l),o.setAttribute("method","dialog"),s.appendChild(o),t.appendChild(s),document.querySelector("body").appendChild(t),t}function i(e,t){var n=t.querySelector("img");n?(n.src=e.src,n.srcset=e.srcset||""):((n=document.createElement("img")).src=e.src,n.srcset=e.srcset||"",t.querySelector(".iconContainer").appendChild(n))}function o(e,t){if(!document.querySelector("dialog.generic")||e){var n=e&&e.title||"",i=e&&e.message||"We're experiencing a problem here, our developers are on the case. Please try it later.",o=!1;if(t&&"defer"in t&&(o=t.defer),o)sessionStorage.setItem("deferredDialog",JSON.stringify({title:n,message:i}));else{var r=a(e);s.a.registerDialog(r),r.querySelector(".title").textContent=n,r.querySelector(".message").textContent=i,r.addEventListener("click",function(e){e.stopPropagation()}),r.addEventListener("close",function(){r.remove()}),e||r.classList.add("generic"),r.showModal()}}}n.d(t,"a",function(){return o});var r=n(6),s=n.n(r);n.d(t,"b",function(){return s.a});var l=JSON.parse(sessionStorage.getItem("deferredDialog"));l&&(sessionStorage.removeItem("deferredDialog"),o(l))},function(e,t){e.exports=preact},function(e,t){e.exports=md5},function(e,t,n){"use strict";function a(e,t,n){this.stack=(new Error).stack,this.status=e||400,this.title=t||"Ooops!",this.message=n||"We're experiencing a problem here, our developers are on the case. Please try it later."}t.a=a,(a.prototype=Object.create(Error.prototype)).name="ClientError",a.prototype.toString=function(){return"("+this.status+") "+this.title+"\n"+this.message}},function(e,t){e.exports=dialogPolyfill},function(e,t,n){"use strict";function a(e){switch(this.stack=(new Error).stack,this.status=e||500,this.status){case 503:this.message="Under maintenance, please try again in a little while.";break;default:this.message="We're experiencing a problem here, our developers are on the case. Please try it later."}}t.a=a,(a.prototype=Object.create(Error.prototype)).name="ServerError",a.prototype.toString=function(){return"("+this.status+") "+this.message}},function(e,t,n){"use strict";function a(){return s?Promise.resolve(s):fetch(Zeplin.urls.baseURL+"/api/plans").then(function(e){return e.json().then(function(t){if(e.ok)return s=Object.freeze(t.plans);throw u.a(e.status,t)})})}function i(){S||"dismissed"===sessionStorage.getItem("socketErrorBannerStatus")||(S=setTimeout(function(){d.b({contentType:"text",group:"socket",content:"Real-time updates are disabled due to socket connectivity problem.",closeCallback:function(){sessionStorage.setItem("socketErrorBannerStatus","dismissed")}})},y))}function o(e){function t(){d.a("payment"),i&&(document.querySelector("header.tabs").dataset.selection="billing",document.querySelector("#billingTab").checked=!0)}var n,a={contentType:"html",group:"payment"},i=document.querySelector("#billingTab");e.oid?"queen"===e.currentRole||"king"===e.currentRole?(n="Payment failed: To continue accessing "+(e.isGeneric?"the projects of the organization":"this project")+", please <a href='"+Object(m.J)("organization-profile-billing",{url:{oid:e.oid}})+"'>update</a> your organization payment information.",a.bodyCallbacks={a:t}):n="Payment failed: To continue accessing "+(e.isGeneric?"the projects of the organization":"this project")+", please contact organization admins and ask them to update payment information.":"owner"===e.currentRole?(n="Payment failed: To continue accessing "+(e.isGeneric?"your projects":"this project")+", please <a href='"+Object(m.J)("profile-billing")+"'>update</a> your payment information.",a.bodyCallbacks={a:t}):n="Payment failed: To continue accessing this project, please contact the owner ("+e.ownerEmail+") and ask them to update their payment information.",a.content=n,d.b(a)}function r(e){return fetch(Zeplin.urls.baseURL+"/users/emotar",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({emotar:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw u.a(e.status,t)})})}n.d(t,"b",function(){return h}),n.d(t,"c",function(){return b}),n.d(t,"f",function(){return v}),n.d(t,"a",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return r});var s,l=n(20),c=n.n(l),u=n(1),d=n(11),m=n(0),p=n(3),g=n.n(p),f=n(21),h=Object.freeze({android:"Android",ios:"iOS",osx:"macOS",web:"Web"}),y=3e4;window.addEventListener("storage",function(e){if(e.storageArea===localStorage&&"user"===e.key){var t=JSON.parse(e.oldValue),n=JSON.parse(e.newValue);if(!n)return;if(Zeplin.user=n,t._id!==n._id)return location.reload()}});var b,v,S;!function(){function e(){var e=a.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.intercom.io/widget/41ycdg94";var t=a.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}var t=window,n=t.Intercom;if("function"==typeof n)n("reattach_activator"),n("update",intercomSettings);else{var a=document,i=function(){i.c(arguments)};i.q=[],i.c=function(e){i.q.push(e)},t.Intercom=i,t.attachEvent?t.attachEvent("onload",e):t.addEventListener("load",e,!1)}}(),g.a.render(g.a.h(f.a),document.body),Cookies.get("userToken")&&(Intercom("boot",{app_id:"41ycdg94",user_id:Zeplin.user._id,email:Zeplin.user.email,last_seen_user_agent:navigator.userAgent,"last seen at web":Math.floor(Date.now()/1e3),username:Zeplin.user.username,verified:"verified"===Zeplin.user.status,plan:Zeplin.user.paymentPlan}),(b=new c.a("12ddd9afec9f9b421244",{cluster:"zeplin",encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:Zeplin.urls.baseURL+"/v2/pusher/auth",auth:{headers:{"Zeplin-Token":Cookies.get("userToken")}}})).connection.bind("failed",i),b.connection.bind("unavailable",i),b.connection.bind("connected",function(){Zeplin.headers.set("Zeplin-Socket-Id",b.connection.socket_id),clearTimeout(S),d.a("socket")}),(v=b.subscribe("private-user@"+Zeplin.user._id)).bind("UpdateUsername",function(e){Zeplin.updateUser({username:e.body.username})}),v.bind("UpdateEmail",function(e){Zeplin.updateUser({email:e.body.email})}),v.bind("VerifyUser",function(){Zeplin.updateUser({status:"verified"})}),v.bind("UpdateEmailNotifications",function(e){Zeplin.updateUser({emailNotifications:e.body.emailNotifications})}),v.bind("UpdateUserBilling",function(e){Zeplin.updateUser({billing:{email:e.body.email,extraInfo:e.body.extraInfo}})}),v.bind("DeleteUser",function(){Cookies.expire("userToken"),localStorage.removeItem("user"),location.replace(Object(m.J)("login"))}))},function(e,t,n){"use strict";var a;"function"==typeof window.require&&(a=window.require("electron")),t.a=a},function(e,t,n){"use strict";function a(){r=u.a.createInstance({driver:[u.a.INDEXEDDB,u.a.LOCALSTORAGE],name:"userPrefs",version:1}),s=u.a.createInstance({driver:[u.a.INDEXEDDB,u.a.LOCALSTORAGE],name:"projectPrefs",version:1}),l=u.a.createInstance({driver:[u.a.INDEXEDDB,u.a.LOCALSTORAGE],name:"extensionPrefs",version:1})}function i(e){return function(){var t=arguments;return e.apply(null,t).catch(function(){a(),e.apply(null,t)})}}function o(e,t){if(t in e){var n=e[t];return delete e[t],n}return null}n.d(t,"c",function(){return p}),n.d(t,"b",function(){return g}),n.d(t,"a",function(){return f});var r,s,l,c=n(16),u=n.n(c),d={notificationStatus:!1,notificationBannerStatus:!0,projectSortType:"created",tabTutorialSeen:!1,versionsTutorialSeen:!1,hideNoVectorAssetInfo:!1,lastOrganization:"user",dashboardMemberSortKey:{field:"role",reverse:!0},resolvedDotsTutorialSeen:!1,noScreensDesignToolSelection:"photoshop"},m={assetNamingConvention:"default",dotListingsStatusFilter:"open",generatorContainerWidth:300,lastNoteColorUsed:"yellow",layoutGridEnabled:!1,noResourceInfoDismissed:!1,noteVisibility:!0,projectInfoWidth:280,rightSidebarWrapperWidth:280,sectionsCollapseState:{},showOptimizedSVG:!0,versionsLastSeen:{},versionsSidebarWrapperWidth:280,zoomLevel:1,androidResFolderReminderSeen:!1,extensionPrefsMigrated:!1};a();var p={get:function(e){return r.getItem(e).then(function(t){return null===t?d[e]:t})},set:function(e,t){return r.setItem(e,t)}},g={get:function(e,t,n){return s.getItem(e).then(function(e){return e&&t in e?n?e[t][n]:e[t]:m[t]})},set:function(e,t,n,a){return s.getItem(e).then(function(i){return i||(i={}),a?(i[t]||(i[t]={}),i[t][n]=a,s.setItem(e,i)):(i[t]=n,s.setItem(e,i))})}},f={get:function(e,t,n){return l.getItem(e).then(function(e){return e&&t in e?e[t][n]:null})},set:function(e,t,n,a){return l.getItem(e).then(function(i){return i||(i={}),i[t]||(i[t]={}),i[t][n]=a,l.setItem(e,i)})}};g.get=i(g.get),g.set=i(g.set),p.get=i(p.get),p.set=i(p.set),f.get=i(f.get),f.set=i(f.set),s.iterate(function(e,t){var n=!1;"webStyleColorFormat"in e&&(e.styleColorFormat=e.webStyleColorFormat,delete e.webStyleColorFormat,n=!0),"webDefaultValues"in e&&(e.showDefaultValues=e.webDefaultValues,delete e.webDefaultValues,n=!0),"webShowDimensions"in e&&(e.showDimensions=e.webShowDimensions,delete e.webShowDimensions,n=!0),e.extensionPrefsMigrated&&(n=n||["iosStyleExportType","androidStyleExportType","webStyleExportType","osxStyleExportType","styleColorFormat","showDefaultValues","showDimensions","webUnitlessLineHeight","webMixin","androidLineSpacingType","attributedStringShowDefaultAttributes","iosDeploymentTarget","osxDeploymentTarget"].map(function(t){return o(e,t)}).some(Boolean)),n&&s.setItem(t,e)})},function(e,t,n){"use strict";t.b=function(e){e=e||{};var t=document.importNode(a.content,!0).querySelector(".banner"),n=t.querySelector(".bannerContent");if(e.group){if(document.querySelector("."+e.group+"Banner"))return;t.classList.add(e.group+"Banner")}switch(e.contentType){case"html":n.innerHTML=e.content;break;case"text":default:n.textContent=e.content}if(t.classList.add(e.type||"warn"),t.addEventListener("click",function(e){e.stopPropagation()}),e.bannerCloseText&&(t.querySelector(".bannerCloseButton span").textContent=e.bannerCloseText),e.style&&e.style.zIndex&&(t.style.zIndex=e.style.zIndex),t.querySelector(".bannerCloseButton").addEventListener("click",function(n){n.stopPropagation(),n.preventDefault(),e.closeCallback&&e.closeCallback(),t.remove()}),e.bodyCallbacks)for(var i in e.bodyCallbacks)t.querySelector(i).addEventListener("click",e.bodyCallbacks[i]);e.container?e.container.appendChild(t):document.body.appendChild(t)},t.a=function(e){var t=document.querySelector("."+e+"Banner");t&&t.remove()};var a=document.getElementById("bannerTemplate")},function(e,t,n){"use strict";function a(e,t,n){var a,i=[];a=n?S+"--"+e.selector.substr(1)+":":e.selector,a+=" {\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var r=e[o],s=(n?S:"")+S+o+": "+(Array.isArray(r)?r.join(", "):r)+";\n";if(i.push(s),-1!==b.indexOf(o)){var l=s;for(var c in t)l=l.replace(new RegExp(c.replace("(","\\(").replace(")","\\)")+"(\\b|,|;)","g"),"var(--"+t[c]+")$1");l!==s&&i.push(l)}}return a+i.join("")+(e.mixinEntry?S+"@apply --"+e.mixinEntry+";\n":"")+(n?"  };\n":"}")}function i(e,t,n){var a,i=[];a=n?"="+e.selector.substr(1)+"()":e.selector,a+="\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var r=e[o],s=S+o+": "+(Array.isArray(r)?r.join(", "):r)+"\n";if(-1!==b.indexOf(o))for(var l in t)s=s.replace(new RegExp(l.replace("(","\\(").replace(")","\\)")+"(\\b|\\s|,)","g"),"$"+t[l]+"$1");i.push(s)}return a+i.join("")+(e.mixinEntry?S+"+"+e.mixinEntry+"()\n":"")}function o(e,t,n){var a,i=[];a=n?"@mixin "+e.selector.substr(1):e.selector,a+=" {\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var r=e[o],s=S+o+": "+(Array.isArray(r)?r.join(", "):r)+";\n";if(-1!==b.indexOf(o))for(var l in t)s=s.replace(new RegExp(l.replace("(","\\(").replace(")","\\)")+"(\\b|,|;)","g"),"$"+t[l]+"$1");i.push(s)}return a+i.join("")+(e.mixinEntry?S+"@include "+e.mixinEntry+";\n":"")+(n?"}\n":"}")}function r(e,t,n){var a,i=[];a=n?e.selector.toLowerCase()+"()":e.selector,a+=" {\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var r=e[o],s=S+o+": "+(Array.isArray(r)?r.join(", "):r)+";\n";if(-1!==b.indexOf(o))for(var l in t)s=s.replace(new RegExp(l.replace("(","\\(").replace(")","\\)")+"(\\b|,|;)","g"),"@"+t[l]+"$1");i.push(s)}return a+i.join("")+(e.mixinEntry?S+"."+e.mixinEntry+"()\n":"")+(n?"}\n":"}")}function s(e,t,n){var a,i=[];a=n?e.selector.substr(1)+"()":e.selector,a+="\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var r=e[o],s=S+o+" "+(Array.isArray(r)?r.join(", "):r)+"\n";if(-1!==b.indexOf(o))for(var l in t)s=s.replace(new RegExp(l.replace("(","\\(").replace(")","\\)")+"(\\b|\\s|,)","g"),t[l]+"$1");i.push(s)}return a+i.join("")+(e.mixinEntry?S+e.mixinEntry+"()\n":"")}function l(e,t,n){var a=e.selector;return delete e.selector,Object.keys(e).forEach(function(n){"mixinEntry"!==n&&v.includes(n)&&e[n]in t&&(e[n]="colors."+t[e[n]])}),"const "+Object(y.a)(a,"camelCase")+" = "+JSON.stringify(e,null,2).replace(/"(.+)":/g,"$1:").replace(/: "colors\.(.*)"/g,": colors.$1")+";"}function c(e){if(!e)return"";if(e=e.trim(),f(e))return e.toLowerCase();if(/^[#.]/.test(e)){var t=u(e.substr(1));if(t)return e[0]+t}return(e=u(e))&&"."+e}function u(e){return e=e.trim().replace(/[^\s\w-]/g,"").replace(/^(-?\d+)+/,"").replace(/\s+/g,"-"),CSS.escape&&(e=CSS.escape(e)),e}function d(e,t){return e?L.format(e/t)+"px":"0"}function m(e){return e?Math.round(100*e)+"%":"0"}function p(e,t,n,c){switch(e){case"sass":return i(t,n,c);case"scss":return o(t,n,c);case"less":return r(t,n,c);case"stylus":return s(t,n,c);case"react":return l(t,n,c);default:case"css":return a(t,n,c)}}function g(e,t){var n=t.find(function(e){return!f(e.name)});if(!n)return"";var a=c(n.name).substr(1),i="\n\n/* How to use mixins\n";switch(e){case"sass":return i+" *   .myClass\n *     +"+a+"()\n */";case"scss":return i+" *   .myClass {\n *     @include "+a+";\n *   }\n */";case"less":return i+" *   .myClass {\n *     ."+a+"()\n *   }\n */";case"stylus":return i+" *   .myClass\n *     "+a+"()\n */";default:case"css":return i+" *   .myClass {\n *     @apply --"+a+";\n *   }\n */"}}function f(e){return j.indexOf(e.toLowerCase())>-1}function h(e){return-1===E.indexOf(e)}n.d(t,"a",function(){return D}),n.d(t,"c",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"d",function(){return g}),n.d(t,"h",function(){return p}),n.d(t,"g",function(){return m}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return c});var y=n(15),b=["background-image","background-color","color","text-shadow","box-shadow","border","border-color","border-image-source","-webkit-text-stroke"],v=["backgroundColor","borderColor","color","shadowColor","textDecorationColor","textShadowColor"],S="  ",j=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","slot","small","source","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],E=["-webkit-background-clip","background-clip","-webkit-text-fill-color"],L=new Intl.NumberFormat("en-US",{useGrouping:!1,maximumFractionDigits:1}),D=Object.freeze(["normal","darken","multiply","color-burn","lighten","screen","color-dodge","overlay","soft-light","hard-light","difference","exclusion","hue","saturation","color","luminosity","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","dissolve","linear-burn","linear-dodge","darker-color","lighter-color","vivid-light","linear-light","pin-light","hard-mix","subtract","divide"])},function(e,t,n){"use strict";function a(e){var t=new URL(i);return t.pathname=e,t.href}n.d(t,"a",function(){return a});var i="https://app.zeplin.io"},,function(e,t,n){"use strict";function a(e,t){if("camelCase"===t||"upperCamelCase"===t){var n=e.map(o.I).join("");return"camelCase"===t?o.t(n):n}return"snakeCase"===t?e.join("_"):e.join("-")}function i(e){var t=e.match(r);return t?t.map(function(e){return e.toLowerCase()}):["invalid","name"]}var o=n(0),r=/\d+|[a-z]+|[A-Z]+(?![a-z])|[A-Z][a-z]+/g;t.a=function(e,t){return a(i(e),t)}},function(e,t){e.exports=localforage},function(e,t,n){"use strict";var a=n(15),i=n(32),o={android:"snakeCase",ios:"camelCase",osx:"camelCase",web:"kebabCase"},r=new Intl.NumberFormat("en-US",{useGrouping:!1,maximumFractionDigits:2});class Color{constructor(e){this.id=e._id||e.id,this.r=e.r,this.g=e.g,this.b=e.b,this.a="a"in e?e.a:1,this.name=e.name}static get NAMED_COLORS(){return i.a}static fromHex(e){var t=parseInt(e.replace("#",""),16);return new Color({r:t>>16&255,g:t>>8&255,b:255&t})}static _singleComponentBlend(e,t,n,a){return t||a?(e*t+n*a*(1-t))/(t+a*(1-t)):0}equals(e){return Math.round(this.r)===Math.round(e.r)&&Math.round(this.g)===Math.round(e.g)&&Math.round(this.b)===Math.round(e.b)&&r.format(this.a)===r.format(e.a)}blend(e){return new Color({r:Color._singleComponentBlend(this.r,this.a,e.r,e.a),g:Color._singleComponentBlend(this.g,this.a,e.g,e.a),b:Color._singleComponentBlend(this.b,this.a,e.b,e.a),a:this.a+e.a*(1-this.a)})}static blendAll(e){for(var t=new Color(Color.NAMED_COLORS.transparent),n=0;n<e.length&&(!e[n].a||1!==(t=t.blend(e[n])).a);n++);return t}static _toHex(e){return e=Math.trunc(e+e/255),((e=Math.max(0,Math.min(e,255)))<16?"0":"")+e.toString(16)}hexBase(){return Color._toHex(this.r)+Color._toHex(this.g)+Color._toHex(this.b)}toHexString(e){var t=this.hexBase();if(this.a<1){var n=Color._toHex(255*this.a);t=e?n+t:t+n}return"#"+t}toRGBABase(){var e=Math.round(this.r)+" "+Math.round(this.g)+" "+Math.round(this.b);return this.a<1?"rgba "+e+" "+r.format(this.a):"rgb "+e}toRGBAString(){var e=Math.round(this.r)+", "+Math.round(this.g)+", "+Math.round(this.b);return(this.a<1?"rgba("+e+", "+r.format(this.a):"rgb("+e)+")"}_toHSL(){var e,t,n=this.r/255,a=this.g/255,i=this.b/255,o=Math.max(n,a,i),r=Math.min(n,a,i),s=(o+r)/2;if(o===r)e=0,t=0;else{var l=o-r;switch(t=s>.5?l/(2-o-r):l/(o+r),o){case n:e=(a-i)/l+(a<i?6:0);break;case a:e=(i-n)/l+2;break;case i:e=(n-a)/l+4}e/=6}return{h:e,s:t,l:s}}toHSLAString(){var e=this._toHSL(),t=Math.round(360*e.h)+", "+Math.round(100*e.s)+"%, "+Math.round(100*e.l)+"%";return(this.a<1?"hsla("+t+", "+r.format(this.a):"hsl("+t)+")"}toPlatformString(e,t){switch(e){case"android":return this.toHexString(!0);case"ios":case"osx":return this.toRGBABase();case"web":return this.toCSS(t)}}toCSS(e){if("r"in this&&"g"in this&&"b"in this&&"a"in this)switch(e){case"hex":return this.toHexString();case"rgb":return this.toRGBAString();case"hsl":return this.toHSLAString();case"default":default:return this.a<1?this.toRGBAString():this.toHexString()}}toGradient(e){var t=this.toCSS(e);return"linear-gradient("+t+", "+t+")"}generateName(e){for(var t=0,n=-1,r=-1,s=0;s<i.b.length;s++){var l=new Color(i.b[s]);if(this.r===l.r&&this.g===l.g&&this.b===l.b)return Object(a.a)(l.name,o[e]);var c=this._toHSL();for(var u in c)c[u]*=255;var d=l._toHSL();for(var m in d)d[m]*=255;t=Math.pow(this.r-l.r,2)+Math.pow(this.g-l.g,2)+Math.pow(this.b-l.b,2)+2*(Math.pow(c.h-d.h,2)+Math.pow(c.s-d.s,2)+Math.pow(c.l-d.l,2)),(r<0||t<r)&&(r=t,n=s)}return Object(a.a)(i.b[n].name,o[e])}}t.a=Color},,,function(e,t){e.exports=Pusher},function(e,t,n){"use strict";var a=n(22);t.a=a.a},function(e,t,n){"use strict";var a=n(3),i=n.n(a),o=n(13),r=n(23),s=(n.n(r),[{text:"Downloading Mac and Windows apps",url:"https://support.zeplin.io/quick-start/downloading-mac-and-windows-apps"},{text:"Creating a project",url:"https://support.zeplin.io/quick-start/creating-a-project"},{text:"Exporting assets from Sketch",url:"https://support.zeplin.io/sketch-integration/exporting-assets-from-sketch"},{text:"Exporting designs from Photoshop",url:"https://support.zeplin.io/quick-start/exporting-designs-from-photoshop"},{text:"Updating plans, billing information",url:"https://support.zeplin.io/pricing-and-plans"}]);class l extends i.a.Component{constructor(){super(),this.closePopup=this.closePopup.bind(this),this.escHandler=this.escHandler.bind(this),this.buttonClickHandler=this.buttonClickHandler.bind(this),this.popupClickHandler=this.popupClickHandler.bind(this),this.showMessages=this.showMessages.bind(this),this.state={popupOpen:!1,unreadCount:0}}closePopup(e){this.state.popupOpen&&this.setState({popupOpen:!1})}escHandler(e){this.state.popupOpen&&e.keyCode===Zeplin.KEY_CODE.ESC&&this.closePopup()}buttonClickHandler(e){e.stopPropagation(),this.setState({popupOpen:!this.state.popupOpen})}popupClickHandler(e){e.stopPropagation(),this.closePopup()}showMessages(){Intercom("showMessages")}componentDidMount(){document.addEventListener("click",this.closePopup),document.addEventListener("keydown",this.escHandler);var e=this;Intercom("onShow",function(){e.setState({intercomOpen:!0})}),Intercom("onHide",function(){e.setState({intercomOpen:!1})}),Intercom("onUnreadCountChange",function(t){e.setState({unreadCount:t})})}componentWillUnmount(){document.removeEventListener("click",this.closePopup),document.removeEventListener("keydown",this.escHandler)}renderUnreadBadge(){return this.state.unreadCount?i.a.h("div",{class:"unreadBadge"}):null}renderPopup(){if(!this.state.popupOpen)return null;var e=s.map(function(e){return i.a.h("li",{key:e.url},i.a.h("a",{href:e.url,target:"_blank"},i.a.h("span",null,e.text)))});return i.a.h("div",{class:"supportPopup",onClick:this.popupClickHandler},i.a.h("h3",null,"Handy articles:"),i.a.h("ul",null,e),i.a.h("hr",null),i.a.h("a",{href:"https://support.zeplin.io",target:"_blank"},"Got another question?",i.a.h("img",{src:o.a("img/emjPointUp@12w.png"),srcSet:o.a("img/emjPointUp@24w.png")+" 2x, "+o.a("img/emjPointUp@36w.png")+" 3x"})),i.a.h("hr",null),i.a.h("button",{type:"button",onClick:this.showMessages},i.a.h("span",null,"Contact us",this.renderUnreadBadge())))}render(e,t){var n=["supportButton"];return t.popupOpen&&n.push("popupOpen"),t.intercomOpen&&n.push("intercomOpen"),i.a.h("div",{class:n.join(" "),onClick:this.buttonClickHandler},i.a.h("img",{src:o.a("img/icLifeBuoy.svg")}),this.renderPopup(),this.renderUnreadBadge())}}t.a=l},function(e,t){},function(e,t,n){"use strict";function a(e,t){switch(e){case"android_xml":return"xml";case"react_native":return"react";case"osx_objc":case"ios_objc":return"objc";case"ios_swift4":case"osx_swift4":return"swift";case"ios_swift3":case"osx_swift3":return"swift3";case"ios_swift2":case"osx_swift2":return"swift2";case"stylesheet_css":case"stylesheet_sass":case"stylesheet_scss":case"stylesheet_less":case"stylesheet_stylus":return e.substr(11);case"colorFormat":return"styleColorFormat";case"showDefaultValues":return"showDefaultValues";case"showDimensions":return"showDimensions";case"unitlessLineHeight":return"webUnitlessLineHeight";case"mixin":return"webMixin";case"lineSpacingType":return"androidLineSpacingType";case"showDefaultAttributes":return"attributedStringShowDefaultAttributes";case"deploymentTarget":return"ios"===t?"iosDeploymentTarget":"osxDeploymentTarget"}}function i(e,t){switch(e){case"xml":return"android_xml";case"react":return"react_native";case"objc":return"ios"===t?"ios_objc":"osx_objc";case"swift":return"ios"===t?"ios_swift4":"osx_swift4";case"swift3":return"ios"===t?"ios_swift3":"osx_swift3";case"swift2":return"ios"===t?"ios_swift2":"osx_swift2";case"css":case"sass":case"scss":case"less":case"stylus":return"stylesheet_"+e;case"styleColorFormat":return"colorFormat";case"showDefaultValues":return"showDefaultValues";case"showDimensions":return"showDimensions";case"webUnitlessLineHeight":return"unitlessLineHeight";case"webMixin":return"mixin";case"androidLineSpacingType":return"lineSpacingType";case"attributedStringShowDefaultAttributes":return"showDefaultAttributes";case"iosDeploymentTarget":case"osxDeploymentTarget":return"deploymentTarget"}}function o(e){switch(e){case"android":return"androidStyleExportType";case"ios":return"iosStyleExportType";case"osx":return"osxStyleExportType";case"web":return"webStyleExportType"}}function r(e){return["androidStyleExportType","iosStyleExportType","osxStyleExportType","webStyleExportType"].includes(e)}function s(e){switch(e){case"styleguideOsxStyleExportType":return"osxStyleExportType";case"styleguideWebStyleExportType":return"webStyleExportType";case"styleguideIosStyleExportType":return"iosStyleExportType";case"styleguideIosDeploymentTarget":return"iosDeploymentTarget";case"styleguideOsxDeploymentTarget":return"osxDeploymentTarget";case"styleguideColorFormat":case"colorFormat":return"styleColorFormat";case"lineSpacingType":case"styleguideLineSpacingType":return"androidLineSpacingType";default:return e}}var l,c,u=n(9),d=n(10),m=n(0),p=["assetNamingConvention","showOptimizedSVG"];!function(){if(u.a){var e=!!u.a&&!!u.a.features&&!!u.a.features.webviews;l=Object.defineProperties({},{addRecentProject:{value:function(e){u.a.ipcRenderer.send("add-recent-project",{id:e.id,name:e.name})}},updateProjectPreferences:{value:function(e,t,n){var i={};Object.keys(e).forEach(function(n){var o=a(n,t);o&&(i[o]=e[n])}),n&&(i[o(t)]=a(n,t)),u.a.ipcRenderer.send("project-preferences-changed",i)}},bindProjectPreferences:{value:function(e,t,n,l,m){u.a.ipcRenderer.removeAllListeners("project:"+c+":preferenceMenuItemClicked"),c=e.id,u.a.ipcRenderer.on("project:"+c+":preferenceMenuItemClicked",function(t,n,a){if(p.includes(n)){var o;"string"==typeof manuItemValue?(o=document.querySelector("input[type='radio'][name='"+n+"'][value='"+a+"']")).checked=!0:(o=document.querySelector("input[type='checkbox'][name='"+n+"']")).checked=a,o.dispatchEvent(new Event("change"))}else{var c=s(n);r(c)?l(i(a,e.type),e.type):m(i(c,e.type),a)}}),Promise.all(p.map(function(t){return d.b.get(e.id,t)})).then(function(i){var r=p.reduce(function(e,t,n){return e[t]=i[n],e},{});Object.keys(n).forEach(function(t){var i=a(t,e.type);i&&(r[i]=n[t])}),r[o(e.type)]=a(t,e.type),u.a.ipcRenderer.send("project-preferences",{id:e.id,type:e.type},r)})}},updateEditCapabilities:{value:function(e){u.a.ipcRenderer.send("edit-capabilities",e)}},setViewMenuContext:{value:function(e,t){u.a.ipcRenderer.send("view-menu-context",e,t)}}}),u.a.ipcRenderer.on("open-recent-project",function(e,t){l.onOpenRecentProject?l.onOpenRecentProject(t):location.assign(m.J("project",{url:{pid:t}}))}),e||u.a.ipcRenderer.on("projects",function(){l.onProjects?l.onProjects():location.assign(m.J("projects"))})}}(),t.a=l},,function(e,t,n){"use strict";function a(e){var t=Object.assign({},e);"_id"in t||(t._id=t.id),t.color=e.color&&new d.a(e.color),t.fontFace&&s(t),Object.defineProperties(this,{id:{value:t._id,enumerable:!0},name:{get:function(){return t.name},set:function(e){t.name=e},enumerable:!0},fontFace:{get:function(){return t.fontFace},set:function(e){t.fontFace=e},enumerable:!0},fontSize:{get:function(){return t.fontSize},set:function(e){t.fontSize=e},enumerable:!0},fontWeight:{get:function(){return o(t.weightText)},set:function(e){t.fontWeight=e},enumerable:!0},fontStyle:{get:function(){return t.fontStyle},set:function(e){t.fontStyle=e},enumerable:!0},fontFamily:{get:function(){return t.fontFamily},set:function(e){t.fontFamily=e},enumerable:!0},fontStretch:{get:function(){return t.fontStretch},set:function(e){t.fontStretch=e},enumerable:!0},lineHeight:{get:function(){return t.lineHeight},set:function(e){t.lineHeight=e},enumerable:!0},textAlign:{get:function(){return t.textAlign},set:function(e){if(-1===m.indexOf(e))throw new TypeError("Unknown alignment: '"+e+"'. Possible values: "+JSON.stringify(m));t.textAlign=e},enumerable:!0},letterSpacing:{get:function(){return t.letterSpacing},set:function(e){t.letterSpacing=e},enumerable:!0},color:{get:function(){return t.color},set:function(e){t.color=e&&new d.a(e)},enumerable:!0},weightText:{get:function(){return t.weightText},set:function(e){t.weightText=e},enumerable:!0},scaledFontSize:{get:function(){return t.scaledFontSize},set:function(e){t.scaledFontSize=e},enumerable:!0}})}function i(e,t){var n=e.lastIndexOf(t);return e.substring(0,n)+e.substr(n+t.length)}function o(e){return/black|heavy|900/gi.test(e)?900:/((ex|ul)tra)\s?bold|800/gi.test(e)?800:/([ds]emi)\s?bold|600/gi.test(e)?600:/bold|700/gi.test(e)?700:/medium|500/gi.test(e)?500:/((ex|ul)tra)\s?light|200/gi.test(e)?200:/light|300/gi.test(e)?300:/thin|hairline|100/gi.test(e)?100:400}function r(e){return/(ultra(\s|-)?)+condensed/i.test(e)?"ultra-condensed":/(extra(\s|-)?)+condensed/i.test(e)?"extra-condensed":/(semi(\s|-)?)+condensed/i.test(e)?"semi-condensed":/condensed/i.test(e)?"condensed":/(ultra(\s|-)?)+expanded/i.test(e)?"ultra-expanded":/(extra(\s|-)?)+expanded/i.test(e)?"extra-expanded":/(semi(\s|-)?)+expanded/i.test(e)?"semi-expanded":/expanded/i.test(e)?"expanded":"normal"}function s(e){var t=e.fontFace,n=t.match(p);n?(t=i(t,n=n[n.length-1]),n=n.toLowerCase()):n="regular";var a=t.match(g);a?(t=i(t,a=a[a.length-1]),a=a.toLowerCase()):a="normal";var o=t.match(f);o?(t=i(t,o=o[o.length-1]),o=o.toLowerCase()):o="normal",t=t.replace(/--/,"-").replace(/-$/,"").trim(),e.fontFamily=t.match(/^Arial-?MT$/)?"Arial":t,e.fontStyle=a,e.weightText=n,e.fontStretch=r(o)}t.a=a;var l=n(0),c=n(12),u=n(29),d=n(17),m=["start","left","right","end","center","justify"];a.prototype.equals=function(e){return this.fontFamily===e.fontFamily&&this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.lineHeight===e.lineHeight&&this.textAlign===e.textAlign&&this.letterSpacing===e.letterSpacing&&(!this.color||!e.color||this.color.equals(e.color))},a.prototype.toCSS=function(e,t,n,a,i){var o,r={selector:c.e(this.name)||".font"};return r["font-family"]=this.fontFamily,r["font-size"]=c.f(this.fontSize,e),700===this.fontWeight?r["font-weight"]="bold":400!==this.fontWeight?r["font-weight"]=this.fontWeight:400===this.fontWeight&&(a||i&&i["font-weight"]&&"normal"!==i["font-weight"])&&(r["font-weight"]="normal"),o=i&&i["font-style"]&&"normal"!==i["font-style"],this.fontStyle&&("normal"===this.fontStyle&&(a||o)||"normal"!==this.fontStyle)&&(r["font-style"]=this.fontStyle),o=i&&i["font-stretch"]&&"normal"!==i["font-stretch"],this.fontStretch&&("normal"===this.fontStretch&&(a||o)||"normal"!==this.fontStretch)&&(r["font-stretch"]=this.fontStretch),o=i&&i["line-height"]&&"normal"!==i["line-height"],this.lineHeight?r["line-height"]=t?l.z(this.lineHeight/this.fontSize,2):c.f(this.lineHeight,e):(a||o)&&(r["line-height"]="normal"),o=i&&i["letter-spacing"]&&"normal"!==i["letter-spacing"],this.letterSpacing?r["letter-spacing"]=c.f(this.letterSpacing,e):(a||o)&&(r["letter-spacing"]="normal"),this.textAlign&&(r["text-align"]=this.textAlign),this.color&&(r.color=new d.a(this.color).toCSS(n)),r},a.prototype.toReactStyle=function(e,t,n,a,i){var o=c.e(this.name);c.b(o)||(o=o.substring(1));var r,s={selector:o};return s.fontFamily=this.fontFamily,s.fontSize=l.z(this.fontSize/t,1),r=i&&i["font-weight"]&&"normal"!==i["font-weight"],700===this.fontWeight?s.fontWeight="bold":400!==this.fontWeight?s.fontWeight=String(this.fontWeight):(a||r)&&(s.fontWeight="normal"),r=i&&i["font-style"]&&"normal"!==i["font-style"],this.fontStyle&&("normal"!==this.fontStyle||a||r)&&(s.fontStyle=this.fontStyle),this.lineHeight&&(s.lineHeight=l.z(this.lineHeight/t,1)),r=i&&i["letter-spacing"]&&"normal"!==i["letter-spacing"],this.letterSpacing?s.letterSpacing=l.z(this.letterSpacing/t,2):(a||r)&&(s.letterSpacing=0),this.textAlign&&(s.textAlign=this.textAlign),this.color&&(s.color=new d.a(this.color).toCSS(n)),s},a.prototype.generateFontValueForAddAttributeWithSwift=function(e){return{ios:u.d,osx:u.i}[e.platform](this,e)},a.prototype.generateFontValueForAddAttributeWithObjC=function(e){return{ios:u.c,osx:u.h}[e.platform](this,e)},a.prototype.generateMixinCode=function(e){var t=e.type,n=e.densityDivisor,a=e.unitlessLineHeight,i=e.colorMap,o=e.colorFormat;return c.h(t,this.toCSS(n,a,o),i,!0)},a.prototype.generateTextStyleCode=function(e,t,n){return(0,{web:{default:u.l},ios:{swift:u.g,objc:u.e,react:u.f},osx:{swift:u.k,objc:u.j},android:{default:u.b}}[e][n||"default"])(this,t)};var p=/(thin|hairline|([ds]emi|(ex|ul)tra)?(light|bold)|normal|regular|book|medium|heavy|black|[1-9]00$)/gi,g=/(italic|oblique)/gi,f=/((?:(ultra|extra|semi)[\s-]?)?(?:condensed|expanded))/gi},function(e,t,n){"use strict";function a(e){switch(e){case 1:return"1 active project";case 999:case-1:return"Unlimited projects";default:return e+" Active Projects"}}function i(){w.classList.remove("hidden"),mixpanel.track("Opened pricing popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-pricing-popup"),ga("send","pageview","/pricing-popup")}function o(e){S.a().then(function(t){var n=t.find(function(t){return t._id===e});if(N=e,R=n.price){var a=e.split("_");F=a[0],P=a[1]||"monthly",M=F,B=P}else{M=F=e,B=P="annual";var o=document.getElementById("updatePlanButton");o&&("banker_bilo"===e?o.querySelector("button").textContent="💰💰💰":"bff"===e&&(o.querySelector("button").textContent="💝"))}var r=document.getElementById("planName");r&&(r.textContent=n.name),C.dataset.currentPlanId=e,"period"in Z?(s(Z.period),document.getElementById(Z.period+"Payment").checked=!0,delete Z.period,i()):(s(P),document.getElementById(P+"Payment").checked=!0),"coupon"in Z&&(T.value=Z.coupon,T.parentElement.classList.toggle("typed",!!T.value),u(Z.coupon),delete Z.coupon,i())}).catch(E.b)}function r(e,t,n,i){var o=t.price/("monthly"===n?1:12),r=e.querySelector(".planPrice"),s=e.querySelector(".planProjectCount"),l=c(B,i);e.classList.toggle("annual","annual"===n),l&&(o-=i.percent_off?o*i.percent_off/100:i.amount_off,o=Math.max(o,0)),r.dataset.value=o,o/=100,r.textContent=Math.trunc(o),r.dataset.fr=(o%1+""||"").substring(1,4),s.textContent=a(t.limit)}function s(e,t){var n=document.querySelector(".plan.growing"),a=document.querySelector(".plan.current"),i=document.querySelector(".plan.organization");B=e||"monthly",k.classList.toggle("invisible","annual"===e),S.a().then(function(o){if(Array.from(document.querySelectorAll(".plan")).forEach(function(n){var a=o.find(function(t){return W[e][n.dataset.planId]===t._id});r(n,a,e,t)}),a&&a.classList.remove("current"),a&&(a.querySelector("button").disabled=!1),"free"===F||"starter"===F||"growing"===F&&"monthly"===P&&"annual"===e?n.classList.add("recommended"):n.classList.remove("recommended"),i.querySelector(".createLink").href=Object(L.J)("organization-create",{query:{period:e}}),R&&e===P&&"company"!==F&&Y.indexOf(N)>-1){(a=document.querySelector(".plan."+F)).classList.add("current"),a.querySelector("button").disabled=!0;var s=o.find(function(e){return N===e._id});r(a,s,e)}}).catch(E.b)}function l(e){return e?fetch(Zeplin.urls.baseURL+"/stripe/coupons/"+encodeURIComponent(e),{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(!e.ok)throw E.a(e.status,t);return t})}):Promise.resolve(null)}function c(e,t){if(!t||"annual"===e)return x.innerHTML="&nbsp;",!1;if(t.redeem_by&&Date.now()/1e3>t.redeem_by)return x.textContent="This coupon is expired.",!1;if(t.max_redemptions&&t.times_redeemed>=t.max_redemptions)return x.textContent="This coupon is maxed out.",!1;var n=t.percent_off?t.percent_off+"% off":t.amount_off/100+"$ off";switch(t.duration){case"once":n+=" for the first "+("monthly"===e?"month":"year");break;case"repeating":n+=" for "+t.duration_in_months+" months";break;case"forever":n+=" forever"}return x.textContent=n,!0}function u(e,t){l(e).then(function(e){z=e,q.disabled=!0,t=t||"auto";var n=e.metadata&&e.metadata.source;mixpanel.track("Applied coupon",{type:t,source:n}),ga("legacyTracker.send","event","PAYMENT_EVENTS","applied-coupon","type:"+t+(n?";source:"+n:""))}).catch(function(e){z=null,q.disabled=!1,E.b(e)}).then(function(){s(B,z)})}function d(e,t,n,a){D.classList.remove("hidden");var i={plan:W[n][t],stripeToken:e};"monthly"===n&&a&&(i.coupon=a.id),fetch(Zeplin.urls.baseURL+"/stripe/users/subscriptions",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(i)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw E.a(e.status,t)})}).then(function(){fbq("track","Purchase",{value:U/100,currency:"USD",content_type:"product",content_ids:[W[n][t]]}),ga("legacyTracker.send","event","PAYMENT_EVENTS","subscribed","to:"+W[n][t]),mixpanel.track("Subscribed",{to:W[n][t]}),Zeplin.updateUser({paymentPlan:W[n][t]}),location.replace(Object(L.J)("thanks",{query:{at:"ns"}}))}).catch(function(e){D.classList.add("hidden"),E.b(e)})}function m(e,t,n){j.a({title:"Update subscription?",message:"You can update it again, anytime!",done:{name:"UPDATE",cb:function(){D.classList.remove("hidden");var a={plan:W[t][e]};"monthly"===t&&n&&(a.coupon=n.id),fetch(Zeplin.urls.baseURL+"/stripe/users/subscriptions",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(a)}).then(function(n){if(!n.ok)return n.json().then(function(e){throw E.a(n.status,e)});mixpanel.track("Changed plan",{from:Zeplin.user.paymentPlan,to:W[t][e]}),ga("legacyTracker.send","event","PAYMENT_EVENTS","changed-plan","from:"+Zeplin.user.paymentPlan+";to:"+W[t][e]),Zeplin.updateUser({paymentPlan:W[t][e]}),location.replace(Object(L.J)("thanks",{query:{at:"us"}}))}).catch(function(e){D.classList.add("hidden"),E.b(e)})}},cancel:{name:"CANCEL"}}),mixpanel.track("Opened change plan dialog",{currentPlan:Zeplin.user.paymentPlan}),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-change-plan-dialog","currentPlan:"+Zeplin.user.paymentPlan)}function p(e,t,n,a){j.a({title:"Downgrade subscription?",message:"You can upgrade again at anytime.",done:{name:"UPDATE",cb:function(){D.classList.remove("hidden");var i={plan:W[n][t]};"monthly"===n&&a&&(i.coupon=a.id),fetch(Zeplin.urls.baseURL+"/stripe/organizations/"+e+"/subscriptions/downgrade",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(i)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw E.a(e.status,t)});Zeplin.updateUser({paymentPlan:W[n][t]}),location.replace(Object(L.J)("projects"))}).catch(function(e){D.classList.add("hidden"),E.b(e)})}},cancel:{name:"CANCEL"}})}function g(){j.a({title:"Cancel subscription?",message:"Make sure to archive your projects before.",done:{name:"CANCEL PLAN",cb:function(){D.classList.remove("hidden"),fetch(Zeplin.urls.baseURL+"/stripe/users/subscriptions",{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw E.a(e.status,t)});Zeplin.updateUser({paymentPlan:"free"}),j.a({title:"Subscription cancelled successfully",message:"It's sad to see you go. Let us know if there's anything bothering you: support@zeplin.io",done:{cb:function(){location.replace(Object(L.J)("projects"))}}})}).catch(function(e){D.classList.add("hidden"),E.b(e)})}},cancel:{name:"KEEP"}})}function f(e){j.a({title:"Cancel subscription?",message:"Your organization projects will be archived.",done:{name:"CANCEL PLAN",cb:function(){D.classList.remove("hidden"),fetch(Zeplin.urls.baseURL+"/stripe/organizations/"+e+"/subscriptions",{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw E.a(e.status,t)})}).then(function(){j.a({title:"Subscription cancelled successfully",message:"It's sad to see you go. Let us know if there's anything we can improve: support@zeplin.io",done:{cb:function(){location.replace(Object(L.J)("projects"))}}})}).catch(function(e){D.classList.add("hidden"),E.b(e)})}},cancel:{name:"KEEP"}})}function h(e){e.preventDefault(),H?f(H._id):g()}function y(e,t){V.open({name:"Zeplin, Inc.",description:e,email:Zeplin.user.email,panelLabel:t,amount:U}),mixpanel.track("Opened Stripe popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-stripe-popup"),ga("send","pageview","/stripe-popup")}function b(e,t,n){var a;switch(n.duration){case"once":a="30 days";break;case"repeating":a=n.duration_in_months+" months"}Array.from(O.querySelectorAll(".friendlyReminderDuration")).forEach(function(e){e.textContent=a}),O.dataset.planName=e.querySelector(".planName").textContent,S.a().then(function(n){var a=n.find(function(n){return W[t][e.dataset.planId]===n._id});O.querySelector(".friendlyReminderPrice").textContent=a.price/100,O.showModal(),mixpanel.track("Opened trial credit card explanation popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-trial-credit-card-explanation-popup")})}function v(e){var t=S.c.subscribe("private-organization@"+e);t.bind("CreateOrganizationSubscription",function(e){H.paymentPlan=e.body.plan,o(e.body.plan),s(P),document.getElementById(P+"Payment").checked=!0}),t.bind("UpdateOrganizationSubscription",function(e){H.paymentPlan=e.body.plan,o(e.body.plan),s(P),document.getElementById(P+"Payment").checked=!0})}var S=n(8),j=n(2),E=n(1),L=n(0),D=document.getElementById("loading"),w=document.getElementById("planChooserOverlay"),C=document.getElementById("planChooserContent"),x=document.getElementById("discountNotice"),k=document.getElementById("couponForm"),T=document.getElementById("couponCode"),_=document.getElementById("plans"),q=document.getElementById("applyCouponButton"),O=document.getElementById("friendlyReminderDialog"),I=document.getElementById("cancelFriendlyReminderButton"),A=document.getElementById("continueToPaymentButton");j.b.registerDialog(O);var N,F,P,R,M,B,U,z,H,Z={},W={monthly:{bff:"bff",banker_bilo:"banker_bilo",free:"free",starter:"starter_monthly_v2",growing:"growing_monthly_v2",organization:"organization_monthly"},annual:{bff:"bff",banker_bilo:"banker_bilo",free:"free",starter:"starter_annual_v2",growing:"growing_annual_v2",organization:"organization_annual"}},Y=["starter_monthly_v2","starter_annual_v2","growing_monthly_v2","growing_annual_v2","organization_monthly","organization_annual"],V=StripeCheckout.configure({key:"pk_live_XfHC5uYDKaZYEOC1m9FlXwtq",image:Zeplin.urls.appURL+"/img/favicon/128x128.png",token:function(e){D.classList.remove("hidden"),d(e.id,M,B,z)}});Array.from(C.querySelectorAll("[name='paymentPeriod']")).forEach(function(e){e.addEventListener("change",function(e){s(e.target.value,z)})}),T.parentElement.classList.toggle("typed",!!T.value),T.addEventListener("keyup",function(){T.parentElement.classList.toggle("typed",!!T.value),T.value||(z=null,s(B))}),T.addEventListener("blur",function(){T.parentElement.classList.toggle("typed",!!T.value),T.value||(z=null,s(B))}),T.addEventListener("input",function(e){q.disabled=z&&z.id===T.value}),k.addEventListener("submit",function(e){e.preventDefault(),u(T.value,"manual")}),I.addEventListener("click",function(){O.close()}),A.addEventListener("click",function(){y(O.dataset.planName,"Pay 0/mo")}),_.addEventListener("click",function(e){if(e.target.classList.contains("choosePlan")){var t=e.target.closest(".plan");if(M=t.dataset.planId,R)"organization"===M?w.classList.add("hidden"):H?p(H._id,M,B,z):m(M,B,z);else if((U=parseInt(t.querySelector(".planPrice").dataset.value,10))||"forever"===z.duration){var n;"monthly"===B?n="Pay {{amount}}/mo":(n="Pay {{amount}}/year",U*=12),y(t.querySelector(".planName").textContent,n)}else b(t,B,z)}else e.target.classList.contains("cancelPlan")&&h(e)}),Array.from(C.querySelectorAll(".warning .cancelPlanLink")).forEach(function(e){e.addEventListener("click",h)}),C.addEventListener("click",function(e){e.stopPropagation()}),w.addEventListener("click",function(){w.classList.add("hidden")}),w.addEventListener("keydown",function(e){e.stopPropagation()}),document.addEventListener("keydown",function(e){e.keyCode===Zeplin.KEY_CODE.ESC&&w.classList.add("hidden")}),location.search&&location.search.substr(1).split("&").forEach(function(e){var t=e.split("=");Z[decodeURIComponent(t[0])]=decodeURIComponent(t[1])});var G=location.pathname.match(/\/organization\/([\da-f]{24})\/profile/i);G?function(e){return fetch(Zeplin.urls.baseURL+"/organizations/"+e,{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw E.a(e.status,t)})})}(G[1]).then(function(e){H=e,"organization_free"!==e.paymentPlan&&o(e.paymentPlan),v(e._id)}).catch(E.b):(o(Zeplin.user.paymentPlan),function(e){e.bind("CreateUserSubscription",function(e){o(e.body.plan),s(P),document.getElementById(P+"Payment").checked=!0,Zeplin.updateUser({paymentPlan:e.body.plan})}),e.bind("UpdateUserSubscription",function(e){o(e.body.plan),s(P),document.getElementById(P+"Payment").checked=!0,Zeplin.updateUser({paymentPlan:e.body.plan})}),e.bind("CancelUserSubscription",function(){o("free"),s(P),document.getElementById(P+"Payment").checked=!0,Zeplin.updateUser({paymentPlan:"free"})})}(S.f))},,function(e,t,n){"use strict";function a(e,t){return x[e].includes(t)}function i(e){return k.test(e)}function o(e,t,n){var a=t.match(k);if(a){var i=a[1];return"Ultralight"===i&&(i="UltraLight"),"swift4"===n?"."+E.t(i):e+"Weight"+i}}function r(e,t){var n=t.type,a=t.densityDivisor,i=t.unitlessLineHeight,o=t.colorFormat,r=t.colorMap,s=t.defaultValues;return L.h(n,e.toCSS(a,i,o,s),r)}function s(e,t){var n=t.deploymentTarget,r=t.densityDivisor,s=t.type,l=a("ios",n)&&i(e.fontFace),c=C.format(e.fontSize/r);return l?"UIFont.systemFont(ofSize: "+c+", weight: "+o("UIFont",e.fontFace,s)+")":'UIFont(name: "'+e.fontFace+'", size: '+c+")!"}function l(e,t){var n=t.deploymentTarget,r=t.densityDivisor,s=a("ios",n)&&i(e.fontFace),l=C.format(e.fontSize/r);return s?"[UIFont systemFontOfSize:"+l+"f weight:"+o("UIFont",e.fontFace,"objc")+"]":'[UIFont fontWithName:@"'+e.fontFace+'" size: '+l+"f]"}function c(e,t){var n=t.deploymentTarget,r=t.densityDivisor,s=t.type,l=a("osx",n)&&i(e.fontFace),c=C.format(e.fontSize/r);return l?"NSFont.systemFont(ofSize: "+c+", weight: "+o("UIFont",e.fontFace,s)+")":'NSFont(name: "'+e.fontFace+'", size: '+c+")!"}function u(e,t){var n=t.deploymentTarget,r=t.densityDivisor,s=a("osx",n)&&i(e.fontFace),l=C.format(e.fontSize/r);return s?"[NSFont systemFontOfSize:"+l+"f weight:"+o("NSFont",e.fontFace,"objc")+"]":'[NSFont fontWithName:@"'+e.fontFace+'" size: '+l+"f]"}function d(e,t){var n,r=t.deploymentTarget,s=t.prefix,l=t.densityDivisor,c=t.type,u=a("ios",r)&&i(e.fontFace),d=C.format(e.fontSize/l);return n=u?".systemFont(ofSize: "+d+", weight: "+o("UIFont",e.fontFace,c)+")":'(name: "'+e.fontFace+'", size: '+d+")!","  @nonobjc class var "+(s||"")+Object(D.a)(e.name,s?"upperCamelCase":"camelCase")+": UIFont {\n    return UIFont"+n+"\n  }"}function m(e,t){var n,r=t.deploymentTarget,s=t.prefix,l=t.densityDivisor,c=a("ios",r)&&i(e.fontFace),u=C.format(e.fontSize/l);return n=c?"systemFontOfSize:"+u+"f weight:"+o("UIFont",e.fontFace,"objc"):'fontWithName:@"'+e.fontFace+'" size:'+u+"f","+ (UIFont *)"+(s?s+"_":"")+Object(D.a)(e.name,"camelCase")+"Font {\n    return [UIFont "+n+"];\n}"}function p(e,t){var n=e.toReactStyle("ios",t.densityDivisor,t.colorFormat,t.defaultValues),a=Object(D.a)(n.selector,"camelCase"),i={};return delete n.selector,t.projectColor&&(n.color="colors."+t.projectColor.name),i[a]=n,i}function g(e,t){var n,r=t.deploymentTarget,s=t.prefix,l=t.densityDivisor,c=a("osx",r)&&i(e.fontFace),u=C.format(e.fontSize/l);return n=c?"NSFont systemFontOfSize:"+u+"f weight:"+o("NSFont",e.fontFace,"objc"):'NSFont fontWithName:@"'+e.fontFace+'" size:'+u+"f","+ (NSFont *)"+(s?s+"_":"")+Object(D.a)(e.name,"camelCase")+"Font {\n    return ["+n+"];\n}"}function f(e,t){var n,r=t.deploymentTarget,s=t.prefix,l=t.densityDivisor,c=t.type,u=a("osx",r)&&i(e.fontFace),d=C.format(e.fontSize/l);return n=u?".systemFont(ofSize: "+d+", weight: "+o("NSFont",e.fontFace,c)+")":'(name: "'+e.fontFace+'", size: '+d+")!","  @nonobjc class var "+(s||"")+Object(D.a)(e.name,s?"upperCamelCase":"camelCase")+": NSFont {\n    return NSFont"+n+"\n  }"}function h(e,t){var n,a=t.lineSpacingType,i=t.projectColor,o=t.densityDivisor,r=t.dimensionSuffix,s=Object(D.a)(e.name,"upperCamelCase"),l="";e.color&&(l='    <item name="android:textColor">'+(i?"@color/"+i.name:e.color.toHexString(!0))+"</item>\n"),n=S(e.fontFace);var c='  <style name="'+s+'">\n'+b(e.textAlign)+'    <item name="android:textSize">'+v(e.fontSize,o)+r+"</item>\n";return n&&(c+='    <item name="android:fontFamily">'+n.family+'</item>\n    <item name="android:textStyle">'+n.weight+"</item>\n"),e.letterSpacing&&(c+='    <item name="android:letterSpacing">'+E.z(e.letterSpacing/e.fontSize,2)+"</item>\n"),e.lineHeight&&(a===w.multiplier?c+='    <item name="android:lineSpacingMultiplier">'+E.z(e.lineHeight/e.fontSize,2)+"</item>\n":c+='    <item name="android:lineSpacingExtra">'+v(e.lineHeight-e.fontSize,o)+r+"</item>\n"),c+=l+"  </style>"}function y(e){switch(e){case"center":return"center_horizontal";case"right":return"end";default:return""}}function b(e){var t=y(e);return t?'    <item name="android:gravity">'+t+"</item>\n":t}function v(e,t){return e?E.z(e/t,1):"0"}function S(e){var t=/^Roboto(\w*)?-(?:Regular)?(Thin|Light|Medium|Black)?(Bold)?(Italic)?$/,n=["normal","bold","italic","bold|italic"],a={undefined:"sans-serif",condensed:"sans-serif-condensed",mono:"monospace"},i=e.match(t);if(i&&a[(""+i[1]).toLowerCase()]){var o=i[1],r=i[2],s=i[3],l=i[4];return{family:a[(""+o).toLowerCase()]+(r?"-"+r.toLowerCase():""),weight:n[(s?1:0)+(l?2:0)]}}}function j(e,t){var n={robotoStyle:{textSize:v(e.fontSize,t.densityDivisor)+t.dimensionSuffix}},a=S(e.fontFace);return a&&(n.robotoStyle.fontFamily=a.family,n.robotoStyle.textStyle=a.weight),e.letterSpacing&&(n.letterSpacing=E.z(e.letterSpacing/e.fontSize,2)),e.lineHeight&&(t.lineSpacingType===w.multiplier?n.lineSpacingMultiplier=E.z(e.lineHeight/e.fontSize,2):n.lineSpacingExtra=v(e.lineHeight-e.fontSize,t.densityDivisor)+t.dimensionSuffix),n.gravity=y(e.textAlign),n}n.d(t,"l",function(){return r}),n.d(t,"g",function(){return d}),n.d(t,"e",function(){return m}),n.d(t,"f",function(){return p}),n.d(t,"j",function(){return g}),n.d(t,"k",function(){return f}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return j}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return c});var E=n(0),L=n(12),D=n(15),w={extra:"extra",multiplier:"multiplier"},C=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2}),x={ios:["11.0","10.0","9.0","8.2"],osx:["10.13","10.12","10.11"]},k=/^SF(?:Pro|UI|Compact)(?:Display|Text)-(Ultralight|Thin|Light|Regular|Medium|Semibold|Bold|Heavy|Black)?$/},,function(e,t,n){"use strict";function a(e){return g.h(e).replace(/\*([^*]+)\*/g,function(e,t){return"<strong>"+t+"</strong>"})}function i(e,t){var n="end",i=e.events.length;t&&("position"in t&&t.position&&(n=-1!==["start","end"].indexOf(t.position)?t.position:"end"),"eventsLength"in t&&(i=t.eventsLength));var o,r=new Date(e.updated);switch(e.actionName){case"CreateDot":var s=[],l={url:{pid:e.params.project._id,sid:e.params.screen._id},query:{}};if(new Set(e.events.map(function(e){return e.source.username})).forEach(function(e){s.push(e)}),1===s.length){u=e.events[0].source;o=document.importNode(document.querySelector(".notificationTemplate.createDotSingleUser").content,!0),g.C(o.querySelector(".dotAuthorImage"),u),o.querySelector(".dotAuthor").textContent=u.username}else{o=document.importNode(document.querySelector(".notificationTemplate.createDotMultiUser").content,!0),s.length>3?(b=s.slice(0,3),v=s.length-3+" more people",o.querySelector(".tailUsername").title=s.slice(3).join("\n")):(v=s.pop(),b=s),o.querySelector(".headUsernames").textContent=b.join(", "),o.querySelector(".tailUsername").textContent=v}1===i?(l.query.did=e.events[0].dot._id,o.querySelector(".notification").classList.add("withContent"),o.querySelector(".notificationContent").innerHTML=g.F(g.h(e.content)),o.querySelector(".notificationContent").title=e.content):(o.querySelector(".dotCount").textContent=i,l.query.did=e.events.map(function(e){return e.dot._id})),o.querySelector(".notification").href=g.J("project-screen",l),o.querySelector(".screenName").textContent=e.params.screen.name,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"ResolveDot":var s=[],l={url:{pid:e.params.project._id,sid:e.params.screen._id},query:{}};if(new Set(e.events.map(function(e){return e.source.username})).forEach(function(e){s.push(e)}),1===s.length){var c=e.events[0].source;o=document.importNode(document.querySelector(".notificationTemplate.resolveDotSingleUser").content,!0),g.C(o.querySelector(".dotResolverImage"),c),o.querySelector(".dotResolver").textContent=c.username}else{o=document.importNode(document.querySelector(".notificationTemplate.resolveDotMultiUser").content,!0),s.length>3?(b=s.slice(0,3),v=s.length-3+" more people",o.querySelector(".tailUsername").title=s.slice(3).join("\n")):(v=s.pop(),b=s),o.querySelector(".headUsernames").textContent=b.join(", "),o.querySelector(".tailUsername").textContent=v}1===i?(l.query.did=e.events[0].dot._id,o.querySelector(".dotName").textContent=e.events[0].dot.name):(o.querySelector(".dotCount").textContent=i,l.query.did=e.events.map(function(e){return e.dot._id})),o.querySelector(".notification").href=g.J("project-screen",l),o.querySelector(".screenName").textContent=e.params.screen.name,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"CreateDotComment":var s=[],l={url:{pid:e.params.project._id,sid:e.params.screen._id},query:{did:e.params.dot._id}};if(new Set(e.events.map(function(e){return e.source.username})).forEach(function(e){s.push(e)}),1===s.length){var u=e.events[0].source;o=document.importNode(document.querySelector(".notificationTemplate.createCommentSingleUser").content,!0),g.C(o.querySelector(".commentAuthorImage"),u),o.querySelector(".commentAuthor").textContent=u.username}else{o=document.importNode(document.querySelector(".notificationTemplate.createCommentMultiUser").content,!0);s.length>3?(b=s.slice(0,3),v=s.length-3+" more people",o.querySelector(".tailUsername").title=s.slice(3).join("\n")):(v=s.pop(),b=s),o.querySelector(".headUsernames").textContent=b.join(", "),o.querySelector(".tailUsername").textContent=v}1===i?(l.query.cmid=e.events[0].comment._id,o.querySelector(".notification").classList.add("withContent"),o.querySelector(".notificationContent").innerHTML=g.F(g.h(e.content)),o.querySelector(".notificationContent").title=e.content):l.query.cmid=e.events.map(function(e){return e.comment._id}),o.querySelector(".notification").href=g.J("project-screen",l),o.querySelector(".noteName").textContent=e.params.dot.name,o.querySelector(".screenName").textContent=e.params.screen.name,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"CreateDot-Mention":case"CreateDotComment-Mention":var d=e.events[0],l={url:{pid:e.params.project._id,sid:e.params.screen._id},query:{did:"CreateDot-Mention"===e.actionName?d.dot._id:e.params.dot._id,cmid:d.comment._id}};(o=document.importNode(document.querySelector(".notificationTemplate.commentMention").content,!0)).querySelector(".notification").href=g.J("project-screen",l),g.C(o.querySelector(".mentionAuthorImage"),d.source),o.querySelector(".mentionAuthor").textContent=d.source.username,o.querySelector(".noteName").textContent="CreateDot-Mention"===e.actionName?d.dot.name:e.params.dot.name,o.querySelector(".screenName").textContent=e.params.screen.name,o.querySelector(".notificationContent").innerHTML=g.F(g.h(e.content)),o.querySelector(".notificationContent").title=e.content,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"CreateScreen":l={url:{pid:e.params.project._id}};if(1===i){m="project-screen";f=e.events[0].screen;l.url.sid=f._id,(o=document.importNode(document.querySelector(".notificationTemplate.createScreen").content,!0)).querySelector(".screenName").textContent=f.name}else m="project",(o=document.importNode(document.querySelector(".notificationTemplate.createScreenMulti").content,!0)).querySelector(".screenCount").textContent=i,o.querySelector(".screenCount").title=e.events.map(function(e){return e.screen.name}).join("\n"),l.query={sid:e.events.map(function(e){return e.screen._id})};o.querySelector(".notification").href=g.J(m,l),g.C(o.querySelector(".notifierImage"),e.params.source),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"CreateVersion":var m,l={url:{pid:e.params.project._id}};if(1===i){m="project-screen";f=e.events[0].screen;l.url.sid=f._id,(o=document.importNode(document.querySelector(".notificationTemplate.createVersion").content,!0)).querySelector(".screenName").textContent=f.name}else m="project",(o=document.importNode(document.querySelector(".notificationTemplate.createVersionMulti").content,!0)).querySelector(".screenCount").textContent=i,o.querySelector(".screenCount").title=e.events.map(function(e){return e.screen.name}).join("\n"),l.query={sid:e.events.map(function(e){return e.screen._id})};o.querySelector(".notification").href=g.J(m,l),g.C(o.querySelector(".notifierImage"),e.params.source),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"DeleteScreen":if(1===i){var f=e.events[0].screen;(o=document.importNode(document.querySelector(".notificationTemplate.deleteScreen").content,!0)).querySelector(".screenName").textContent=f.name}else(o=document.importNode(document.querySelector(".notificationTemplate.deleteScreenMulti").content,!0)).querySelector(".screenCount").textContent=i,o.querySelector(".screenCount").title=e.events.map(function(e){return e.screen.name}).join("\n");g.C(o.querySelector(".notifierImage"),e.params.source),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"InviteUser":if(i>1){k=e.events.map(function(e){return e.project.name}),_=e.events.map(function(e){return e.project._id}),(o=document.importNode(document.querySelector(".notificationTemplate.inviteUserMulti").content,!0)).querySelector(".projectCount").textContent=i,o.querySelector(".tailProject").textContent=k.pop(),o.querySelector(".headProjects").textContent=k.join(", "),C=g.J("projects",{query:{pid:_}})}else{D=e.events[0].project;(o=document.importNode(document.querySelector(".notificationTemplate.inviteUser").content,!0)).querySelector(".projectName").textContent=D.name,C=g.J("project",{url:{pid:D._id}})}o.querySelector(".notification").href=C;w=e.params.source;g.C(o.querySelector(".notifierImage"),w),o.querySelector(".notifier").textContent=w.username;break;case"RemoveUserFromProject":w=e.params.source;o=document.importNode(document.querySelector(".notificationTemplate.removeUser").content,!0),g.C(o.querySelector(".notifierImage"),w),o.querySelector(".notifier").textContent=w.username,o.querySelector(".projectName").textContent=e.params.project.name;break;case"UserJoined":if(i>1){o=document.importNode(document.querySelector(".notificationTemplate.newMemberMulti").content,!0);var b,v;i>3?(b=e.events.slice(0,3),v=i-3+" more",o.querySelector(".tailUsername").title=e.events.slice(3).map(function(e){return e.member.username}).join("\n")):(b=e.events.slice(0,i-1),v=e.events[i-1].member.username),o.querySelector(".headUsernames").textContent=b.map(function(e){return e.member.username}).join(", "),o.querySelector(".tailUsername").textContent=v}else{var L=e.events[0].member;o=document.importNode(document.querySelector(".notificationTemplate.newMember").content,!0),g.C(o.querySelector(".newMemberImage"),L),o.querySelector(".memberUsername").textContent=L.username}o.querySelector(".notification").href=g.J("project",{url:{pid:e.params.project._id}}),o.querySelector(".projectName").textContent=e.params.project.name;break;case"DeleteProject":w=e.params.source;o=document.importNode(document.querySelector(".notificationTemplate.deleteProject").content,!0),g.C(o.querySelector(".notifierImage"),w),o.querySelector(".notifier").textContent=w.username,o.querySelector(".projectName").textContent=e.events[0].project.name;break;case"ArchiveProject":w=e.params.source;o=document.importNode(document.querySelector(".notificationTemplate.archiveProject").content,!0),g.C(o.querySelector(".notifierImage"),w),o.querySelector(".notifier").textContent=w.username,o.querySelector(".projectName").textContent=e.events[0].project.name;break;case"ActivateProject":var D=e.events[0].project,w=e.params.source;(o=document.importNode(document.querySelector(".notificationTemplate.activateProject").content,!0)).querySelector(".notification").href=g.J("project",{url:{pid:D._id}}),g.C(o.querySelector(".notifierImage"),w),o.querySelector(".notifier").textContent=w.username,o.querySelector(".projectName").textContent=D.name;break;case"UpdateUserRole":var C;if(i>1){var k,_;k=e.events.map(function(e){return e.project.name}),_=e.events.map(function(e){return e.project._id}),(o=document.importNode(document.querySelector(".notificationTemplate.assignAdminMulti").content,!0)).querySelector(".projectCount").textContent=i,o.querySelector(".tailProject").textContent=k.pop(),o.querySelector(".headProjects").textContent=k.join(", "),C=g.J("projects",{query:{pid:_}})}else{D=e.events[0].project;(o=document.importNode(document.querySelector(".notificationTemplate.assignAdmin").content,!0)).querySelector(".projectName").textContent=D.name,C=g.J("project",{url:{pid:D._id}})}o.querySelector(".notification").href=C;w=e.params.source;g.C(o.querySelector(".notifierImage"),w),o.querySelector(".notifier").textContent=w.username;break;case"TransferOwnership":var D=e.events[0].project,w=e.params.source;(o=document.importNode(document.querySelector(".notificationTemplate.transferOwnership").content,!0)).querySelector(".notification").href=g.J("project",{url:{pid:D._id}}),g.C(o.querySelector(".notifierImage"),w),o.querySelector(".notifier").textContent=w.username,o.querySelector(".projectName").textContent=D.name;break;case"CreateColor":l={url:{pid:e.params.project._id},query:{}};if(i>1)(o=document.importNode(document.querySelector(".notificationTemplate.createColorMulti").content,!0)).querySelector(".colorCount").textContent=i,o.querySelector(".colorCount").title=e.events.map(function(t){var n=new h.a(t.color);return n.name+": "+n.toPlatformString(e.params.project.type)}).join("\n"),l.query.cid=e.events.map(function(e){return e.color._id});else{q=new h.a(e.events[0].color);(o=document.importNode(document.querySelector(".notificationTemplate.createColor").content,!0)).querySelector(".colorPreview").style.backgroundColor=q.toCSS(),o.querySelector(".colorPreview").title=q.toPlatformString(e.params.project.type),o.querySelector(".notificationColorName").textContent=q.name,o.querySelector(".notificationColorName").title=q.toPlatformString(e.params.project.type),l.query.cid=e.events[0].color._id}o.querySelector(".notification").href=g.J("project-styleguide",l),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"DeleteColor":if(i>1)(o=document.importNode(document.querySelector(".notificationTemplate.deleteColorMulti").content,!0)).querySelector(".colorCount").textContent=i,o.querySelector(".colorCount").title=e.events.map(function(t){var n=new h.a(t.color);return n.name+": "+n.toPlatformString(e.params.project.type)}).join("\n");else{q=new h.a(e.events[0].color);(o=document.importNode(document.querySelector(".notificationTemplate.deleteColor").content,!0)).querySelector(".colorPreview").style.backgroundColor=q.toCSS(),o.querySelector(".colorPreview").title=q.toPlatformString(e.params.project.type),o.querySelector(".notificationColorName").textContent=q.name,o.querySelector(".notificationColorName").title=q.toPlatformString(e.params.project.type)}o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"UpdateColor":l={url:{pid:e.params.project._id},query:{}};if(i>1)(o=document.importNode(document.querySelector(".notificationTemplate.updateColorMulti").content,!0)).querySelector(".colorCount").textContent=i,o.querySelector(".colorCount").title=e.events.map(function(t){var n=new h.a(t.color);return n.name+": "+n.toPlatformString(e.params.project.type)}).join("\n"),l.query.cid=e.events.map(function(e){return e.color._id});else{var q=new h.a(e.events[0].color);(o=document.importNode(document.querySelector(".notificationTemplate.updateColor").content,!0)).querySelector(".colorPreview").style.backgroundColor=q.toCSS(),o.querySelector(".colorPreview").title=q.toPlatformString(e.params.project.type),o.querySelector(".notificationColorName").textContent=q.name,o.querySelector(".notificationColorName").title=q.toPlatformString(e.params.project.type),l.query.cid=e.events[0].color._id}o.querySelector(".notification").href=g.J("project-styleguide",l),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"CreateCoupon":(o=document.importNode(document.querySelector(".notificationTemplate.createCoupon").content,!0)).querySelector(".notification").href=e.action.webURI,o.querySelector(".notificationContent").innerHTML=a(e.content),x<r&&j.classList.contains("hidden")&&S.classList.add("hasPromotion");break;case"AuthSlack":var D=e.events[0].project,w=e.params.source;(o=document.importNode(document.querySelector(".notificationTemplate.authSlack").content,!0)).querySelector(".notification").href=g.J("project",{url:{pid:D._id}}),o.querySelector(".notifier").textContent=w.username,o.querySelector(".projectName").textContent=D.name,o.querySelector(".slackChannelName").textContent=e.content;break;case"CreateAnnouncement":if(!("webURI"in e.action))return;(o=document.importNode(document.querySelector(".notificationTemplate.announcement").content,!0)).querySelector(".notification").href=e.action.webURI||"#",o.querySelector(".notificationContent").innerHTML=a(e.content),o.querySelector(".notificationAnnouncer").textContent=e.params.source.username,e.action.webURI||(o.querySelector(".notification").classList.add("noClick"),o.querySelector(".notification").addEventListener("click",function(e){e.preventDefault(),e.stopPropagation()}));break;case"CreateTextStyle":l={url:{pid:e.params.project._id},query:{}};if(i>1)(o=document.importNode(document.querySelector(".notificationTemplate.createFontMulti").content,!0)).querySelector(".fontCount").textContent=i,o.querySelector(".fontCount").title=e.events.map(function(e){return new y.a(e.textStyle).name}).join("\n"),l.query.tsid=e.events.map(function(e){return e.textStyle._id});else{O=new y.a(e.events[0].textStyle);(o=document.importNode(document.querySelector(".notificationTemplate.createFont").content,!0)).querySelector(".notificationFontName").textContent=O.name,l.query.tsid=e.events[0].textStyle._id}o.querySelector(".notification").href=g.J("project-styleguide",l),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"UpdateTextStyle":l={url:{pid:e.params.project._id},query:{}};if(i>1)(o=document.importNode(document.querySelector(".notificationTemplate.updateFontMulti").content,!0)).querySelector(".fontCount").textContent=i,o.querySelector(".fontCount").title=e.events.map(function(e){return new y.a(e.textStyle).name}).join("\n"),l.query.tsid=e.events.map(function(e){return e.textStyle._id});else{O=new y.a(e.events[0].textStyle);(o=document.importNode(document.querySelector(".notificationTemplate.updateFont").content,!0)).querySelector(".notificationFontName").textContent=O.name,l.query.tsid=e.events[0].textStyle._id}o.querySelector(".notification").href=g.J("project-styleguide",l),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"DeleteTextStyle":if(i>1)(o=document.importNode(document.querySelector(".notificationTemplate.deleteFontMulti").content,!0)).querySelector(".fontCount").textContent=i,o.querySelector(".fontCount").title=e.events.map(function(e){return new y.a(e.textStyle).name}).join("\n");else{var O=new y.a(e.events[0].textStyle);(o=document.importNode(document.querySelector(".notificationTemplate.deleteFont").content,!0)).querySelector(".notificationFontName").textContent=O.name}o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"InviteMember":o=document.importNode(document.querySelector(".notificationTemplate.inviteMember").content,!0),g.C(o.querySelector(".notifierImage"),e.params.source),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".organizationName").textContent=e.params.organization.name,o.querySelector(".notification").href=g.J("organization-dashboard",{url:{oid:e.params.organization._id}});break;case"UpdateOrganizationMemberRole":var d=e.events[i-1],I=T[d.user.role],A=d.source;o=document.importNode(document.querySelector(".notificationTemplate.updateOrganizationMemberRole").content,!0),g.C(o.querySelector(".notifierImage"),A),o.querySelector(".notifier").textContent=A.username,o.querySelector(".roleName").textContent=I.name,o.querySelector(".roleIcon").src=Zeplin.urls.appURL+"/img/"+I.icon+".png",o.querySelector(".roleIcon").srcset=Zeplin.urls.appURL+"/img/"+I.icon+"@2x.png 2x, "+Zeplin.urls.appURL+"/img/"+I.icon+"@3x.png 3x",o.querySelector(".organizationName").textContent=e.params.organization.name,o.querySelector(".notification").href=g.J("organization-dashboard",{url:{oid:e.params.organization._id}});break;default:o=document.importNode(document.querySelector(".notificationTemplate.undefinedNotification").content,!0)}switch(x<r&&j.classList.contains("hidden")&&S.classList.add("hasUnread"),o.querySelector(".notification").dataset.id=e._id,o.querySelector(".notification").classList.toggle("new",x<r),o.querySelector(".notificationLastUpdated").setAttribute("datetime",e.updated),n){case"start":E.childElementCount?E.insertBefore(o,E.firstElementChild):E.appendChild(o);break;case"end":default:E.appendChild(o)}}function o(e){for(var t=0,n=0;n<k.length;n++)if(k[n]._id===e[0]._id){t=k.splice(n).length;break}return k=k.concat(e),t}function r(){if(!(j.classList.contains("error")||C||w)){w=!0;var e="";k.length&&(e="&date_before="+k[k.length-1].updated),fetch(Zeplin.urls.baseURL+"/notifications?count="+v+e,{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw f.a(e.status,t)})}).then(function(e){for(var t=o(e.notifications);t<e.notifications.length;t++)i(e.notifications[t]);if(w=!1,e.notifications.length<v||!e.hasMore)C=!0,j.classList.add("fin");else{var n=j.scrollHeight,a=j.clientHeight,s=j.scrollTop;!j.classList.contains("hidden")&&n-(a+s)<360&&r()}}).catch(function(e){j.classList.add("error"),w=!1})}}function s(){S.classList.remove("hasUnread","hasPromotion")}function l(){Array.from(E.querySelectorAll(".notification")).forEach(function(e){e.classList.remove("new")})}function c(){x=new Date,fetch(Zeplin.urls.baseURL+"/users/notificationLastReadTime",{method:"PUT",headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw f.a(e.status,t)})}).then(function(e){x=new Date(e.notificationLastReadTime),Zeplin.updateUser({notificationLastReadTime:e.notificationLastReadTime})})}function u(e){return e/2*window.devicePixelRatio}function d(){q.width=16*window.devicePixelRatio,q.height=16*window.devicePixelRatio;var e=q.getContext("2d");return e.beginPath(),e.fillStyle="#ee6723",e.arc(u(O),u(O),u(I),0,6.28,!1),e.fill(),e.beginPath(),e.fillStyle="#fff",e.arc(u(O),u(O),u(A),0,6.28,!1),e.fill(),q.toDataURL()}var m,p=n(8),g=n(0),f=n(1),h=n(17),y=n(26),b=n(9),v=50,S=document.getElementById("notificationsButton"),j=document.getElementById("notificationContainer"),E=document.getElementById("notificationList"),L=document.getElementById("notificationError"),D=document.getElementById("userMenu"),w=!1,C=!1,x=new Date,k=[],T={king:{name:"Owner",icon:"icQueen"},queen:{name:"Admin",icon:"icQueen"},rook:{name:"Editor",icon:"icRook"},knight:{name:"Member",icon:"icKnight"}},_=new MutationObserver(function(e){e.forEach(function(e){e.oldValue&&e.oldValue.includes("hidden")||!e.target.classList.contains("hidden")||(s(),l(),c())})});b.a&&b.a.features&&b.a.features.webviews&&b.a.ipcRenderer.on("read-notifications",function(){s(),l(),c()});var q=document.createElement("canvas"),O=16,I=13,A=2;Cookies.get("userToken")&&(S.addEventListener("click",function(e){e.stopPropagation(),window.ImportProgresses&&ImportProgresses.hideImportProgressesContainer(),D.classList.add("hidden"),j.classList.toggle("hidden"),j.classList.contains("hidden")?clearTimeout(m):j.scrollHeight-(j.clientHeight+j.scrollTop)<360&&r()}),E.addEventListener("click",function(e){e.stopPropagation(),e.button===Zeplin.MOUSE_BUTTON.LEFT&&"A"===e.target.closest(".notification").tagName&&j.classList.add("hidden")}),j.addEventListener("scroll",function(){requestAnimationFrame(function(){j.scrollHeight-(j.clientHeight+j.scrollTop)<360&&r()})}),L.addEventListener("click",function(e){e.stopPropagation(),e.button===Zeplin.MOUSE_BUTTON.LEFT&&(j.classList.remove("error"),r())}),document.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&j.classList.add("hidden")}),document.addEventListener("keydown",function(e){e.keyCode===Zeplin.KEY_CODE.ESC&&j.classList.add("hidden")}),window.addEventListener("online",function(){k=[],w=!1,C=!1,E.innerHTML="",j.classList.remove("fin","error"),s(),r()}),_.observe(j,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]}),b.a&&(new MutationObserver(function(e){e.forEach(function(e){e.oldValue&&e.oldValue.includes("hasUnread")||!e.target.classList.contains("hasUnread")?e.oldValue.includes("hasUnread")&&!e.target.classList.contains("hasUnread")&&b.a.ipcRenderer.send("read-notifications"):b.a.ipcRenderer.send("unread-notifications",d())})}).observe(S,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]}),b.a.features&&b.a.features.revampedMenu&&b.a.ipcRenderer.on("show-badge",function(e,t){t&&S.classList.contains("hasUnread")&&b.a.ipcRenderer.send("unread-notifications",d())})),x=new Date(Zeplin.user.notificationLastReadTime),r(),p.f.bind("Notification",function(e){var t=k.findIndex(function(t){return t._id===e.body._id});if(-1!==t){k.splice(t,1);var n=E.querySelector(".notification[data-id='"+e.body._id+"']");n&&n.remove()}k.unshift(e.body),i(e.body,{position:"start",eventsLength:e.body.params.eventsLength})}),p.c.subscribe("announcement").bind("Notification",function(e){k.unshift(e.body),i(e.body,{position:"start",eventsLength:e.body.params.eventsLength})}))},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var a=Object.freeze({transparent:{name:"transparent",r:0,g:0,b:0,a:0}}),i=Object.freeze([{r:0,g:0,b:0,name:"black"},{r:0,g:1,b:51,name:"very dark blue"},{r:0,g:2,b:46,name:"dark navy blue"},{r:0,g:3,b:91,name:"dark blue"},{r:0,g:4,b:53,name:"dark navy"},{r:0,g:17,b:70,name:"navy blue"},{r:0,g:45,b:4,name:"dark forest green"},{r:0,g:69,b:119,name:"prussian blue"},{r:0,g:82,b:73,name:"dark blue green"},{r:0,g:85,b:90,name:"deep teal"},{r:0,g:95,b:106,name:"petrol"},{r:0,g:147,b:55,name:"kelley green"},{r:0,g:251,b:176,name:"greenish turquoise"},{r:0,g:255,b:255,name:"cyan"},{r:1,g:15,b:204,name:"true blue"},{r:1,g:21,b:62,name:"navy"},{r:1,g:56,b:106,name:"marine blue"},{r:1,g:65,b:130,name:"darkish blue"},{r:1,g:70,b:0,name:"racing green"},{r:1,g:77,b:78,name:"dark teal"},{r:1,g:84,b:130,name:"deep sea blue"},{r:1,g:101,b:252,name:"bright blue"},{r:1,g:103,b:149,name:"peacock blue"},{r:1,g:115,b:113,name:"dark aquamarine"},{r:1,g:115,b:116,name:"deep turquoise"},{r:1,g:122,b:121,name:"bluegreen"},{r:1,g:123,b:146,name:"ocean"},{r:1,g:136,b:159,name:"teal blue"},{r:1,g:149,b:41,name:"irish green"},{r:1,g:160,b:73,name:"emerald"},{r:1,g:180,b:76,name:"shamrock"},{r:1,g:192,b:141,name:"green blue"},{r:1,g:249,b:198,name:"bright teal"},{r:1,g:255,b:7,name:"bright green"},{r:2,g:0,b:53,name:"midnight blue"},{r:2,g:3,b:226,name:"pure blue"},{r:2,g:6,b:111,name:"dark royal blue"},{r:2,g:27,b:249,name:"rich blue"},{r:2,g:89,b:15,name:"deep green"},{r:2,g:143,b:30,name:"emerald green"},{r:2,g:147,b:134,name:"teal"},{r:2,g:171,b:46,name:"kelly green"},{r:2,g:193,b:77,name:"shamrock green"},{r:2,g:204,b:254,name:"bright sky blue"},{r:2,g:216,b:233,name:"aqua blue"},{r:3,g:1,b:45,name:"midnight"},{r:3,g:7,b:100,name:"darkblue"},{r:3,g:10,b:167,name:"cobalt blue"},{r:3,g:53,b:0,name:"dark green"},{r:3,g:57,b:248,name:"vibrant blue"},{r:3,g:67,b:223,name:"blue"},{r:3,g:113,b:156,name:"ocean blue"},{r:4,g:2,b:115,name:"deep blue"},{r:4,g:3,b:72,name:"night blue"},{r:4,g:46,b:96,name:"marine"},{r:4,g:74,b:5,name:"bottle green"},{r:4,g:92,b:90,name:"dark turquoise"},{r:4,g:116,b:149,name:"sea blue"},{r:4,g:130,b:67,name:"jungle green"},{r:4,g:133,b:209,name:"cerulean"},{r:4,g:216,b:178,name:"aquamarine"},{r:4,g:217,b:255,name:"neon blue"},{r:4,g:244,b:137,name:"turquoise green"},{r:5,g:4,b:170,name:"royal blue"},{r:5,g:71,b:42,name:"evergreen"},{r:5,g:72,b:13,name:"british racing green"},{r:5,g:73,b:7,name:"darkgreen"},{r:5,g:105,b:107,name:"dark aqua"},{r:5,g:110,b:238,name:"cerulean blue"},{r:5,g:255,b:166,name:"bright sea green"},{r:6,g:46,b:3,name:"very dark green"},{r:6,g:71,b:12,name:"forest green"},{r:6,g:82,b:255,name:"electric blue"},{r:6,g:154,b:243,name:"azure"},{r:6,g:177,b:196,name:"turquoise blue"},{r:6,g:180,b:139,name:"green blue"},{r:6,g:194,b:172,name:"turquoise"},{r:7,g:13,b:13,name:"almost black"},{r:8,g:4,b:249,name:"primary blue"},{r:8,g:120,b:127,name:"deep aqua"},{r:8,g:148,b:4,name:"true green"},{r:8,g:255,b:8,name:"fluorescent green"},{r:10,g:67,b:122,name:"twilight blue"},{r:10,g:72,b:30,name:"pine green"},{r:10,g:95,b:56,name:"spruce"},{r:10,g:136,b:138,name:"dark cyan"},{r:10,g:221,b:8,name:"vibrant green"},{r:10,g:255,b:2,name:"fluro green"},{r:11,g:64,b:8,name:"hunter green"},{r:11,g:85,b:9,name:"forest"},{r:11,g:139,b:135,name:"greenish blue"},{r:11,g:247,b:125,name:"minty green"},{r:11,g:249,b:234,name:"bright aqua"},{r:12,g:6,b:247,name:"strong blue"},{r:12,g:23,b:147,name:"royal"},{r:12,g:181,b:119,name:"green teal"},{r:12,g:220,b:115,name:"tealish green"},{r:12,g:255,b:12,name:"neon green"},{r:13,g:117,b:248,name:"deep sky blue"},{r:14,g:135,b:204,name:"water blue"},{r:15,g:155,b:142,name:"blue green"},{r:15,g:254,b:249,name:"bright turquoise"},{r:16,g:122,b:176,name:"nice blue"},{r:16,g:166,b:116,name:"bluish green"},{r:17,g:135,b:93,name:"dark sea green"},{r:18,g:225,b:147,name:"aqua green"},{r:19,g:126,b:109,name:"blue green"},{r:19,g:187,b:175,name:"topaz"},{r:19,g:234,b:201,name:"aqua"},{r:21,g:46,b:255,name:"vivid blue"},{r:21,g:68,b:6,name:"forrest green"},{r:21,g:80,b:132,name:"light navy"},{r:21,g:176,b:26,name:"green"},{r:24,g:5,b:219,name:"ultramarine blue"},{r:24,g:209,b:123,name:"seaweed"},{r:27,g:36,b:49,name:"dark"},{r:27,g:252,b:6,name:"highlighter green"},{r:29,g:2,b:0,name:"very dark brown"},{r:29,g:93,b:236,name:"azul"},{r:30,g:72,b:143,name:"cobalt"},{r:30,g:145,b:103,name:"viridian"},{r:30,g:248,b:118,name:"spearmint"},{r:31,g:9,b:84,name:"dark indigo"},{r:31,g:59,b:77,name:"dark blue grey"},{r:31,g:99,b:87,name:"dark green blue"},{r:31,g:167,b:116,name:"jade"},{r:31,g:181,b:122,name:"dark seafoam"},{r:32,g:0,b:177,name:"ultramarine"},{r:32,g:192,b:115,name:"dark mint green"},{r:32,g:249,b:134,name:"wintergreen"},{r:33,g:56,b:171,name:"sapphire"},{r:33,g:71,b:97,name:"dark slate blue"},{r:33,g:195,b:111,name:"algae green"},{r:33,g:252,b:13,name:"electric green"},{r:34,g:66,b:199,name:"blue blue"},{r:35,g:196,b:139,name:"greenblue"},{r:36,g:122,b:253,name:"clear blue"},{r:36,g:188,b:168,name:"tealish"},{r:37,g:163,b:111,name:"teal green"},{r:37,g:255,b:41,name:"hot green"},{r:38,g:83,b:141,name:"dusk blue"},{r:38,g:247,b:253,name:"bright light blue"},{r:39,g:106,b:179,name:"mid blue"},{r:40,g:1,b:55,name:"midnight purple"},{r:40,g:124,b:55,name:"darkish green"},{r:41,g:70,b:91,name:"dark grey blue"},{r:41,g:118,b:187,name:"bluish"},{r:42,g:1,b:52,name:"very dark purple"},{r:42,g:126,b:25,name:"tree green"},{r:42,g:254,b:183,name:"greenish cyan"},{r:43,g:93,b:52,name:"pine"},{r:43,g:175,b:106,name:"jade green"},{r:43,g:177,b:121,name:"bluey green"},{r:44,g:111,b:187,name:"medium blue"},{r:44,g:250,b:31,name:"radioactive green"},{r:45,g:254,b:84,name:"bright light green"},{r:46,g:90,b:136,name:"light navy blue"},{r:46,g:232,b:187,name:"aqua marine"},{r:47,g:239,b:16,name:"vivid green"},{r:49,g:102,b:138,name:"ugly blue"},{r:50,g:191,b:132,name:"greenish teal"},{r:51,g:184,b:100,name:"cool green"},{r:52,g:1,b:63,name:"dark violet"},{r:52,g:28,b:2,name:"dark brown"},{r:52,g:56,b:55,name:"charcoal"},{r:53,g:6,b:62,name:"dark purple"},{r:53,g:83,b:10,name:"navy green"},{r:53,g:173,b:107,name:"seaweed green"},{r:54,g:1,b:63,name:"deep purple"},{r:54,g:55,b:55,name:"dark grey"},{r:55,g:62,b:2,name:"dark olive"},{r:55,g:120,b:191,name:"windows blue"},{r:56,g:2,b:130,name:"indigo"},{r:56,g:8,b:53,name:"eggplant"},{r:56,g:128,b:4,name:"dark grass green"},{r:57,g:173,b:72,name:"medium green"},{r:58,g:24,b:177,name:"indigo blue"},{r:58,g:46,b:254,name:"light royal blue"},{r:58,g:229,b:127,name:"weird green"},{r:59,g:91,b:146,name:"denim blue"},{r:59,g:99,b:140,name:"denim"},{r:59,g:113,b:159,name:"muted blue"},{r:60,g:0,b:8,name:"dark maroon"},{r:60,g:65,b:66,name:"charcoal grey"},{r:60,g:77,b:3,name:"dark olive green"},{r:60,g:115,b:168,name:"flat blue"},{r:60,g:153,b:146,name:"sea"},{r:61,g:7,b:52,name:"aubergine"},{r:61,g:28,b:2,name:"chocolate"},{r:61,g:122,b:253,name:"lightish blue"},{r:61,g:153,b:115,name:"ocean green"},{r:62,g:130,b:252,name:"dodger blue"},{r:62,g:175,b:118,name:"dark seafoam green"},{r:63,g:1,b:44,name:"dark plum"},{r:63,g:130,b:157,name:"dirty blue"},{r:63,g:155,b:11,name:"grass green"},{r:64,g:163,b:104,name:"greenish"},{r:64,g:253,b:20,name:"poison green"},{r:65,g:2,b:0,name:"deep brown"},{r:65,g:25,b:0,name:"chocolate brown"},{r:65,g:156,b:3,name:"grassy green"},{r:65,g:253,b:254,name:"bright cyan"},{r:66,g:179,b:149,name:"greeny blue"},{r:67,g:5,b:65,name:"eggplant purple"},{r:67,g:107,b:173,name:"french blue"},{r:68,g:142,b:228,name:"dark sky blue"},{r:70,g:65,b:150,name:"blueberry"},{r:71,g:95,b:148,name:"dusky blue"},{r:72,g:192,b:114,name:"dark mint"},{r:73,g:6,b:72,name:"deep violet"},{r:73,g:117,b:156,name:"dull blue"},{r:73,g:132,b:184,name:"cool blue"},{r:74,g:1,b:0,name:"mahogany"},{r:75,g:0,b:110,name:"royal purple"},{r:75,g:1,b:1,name:"dried blood"},{r:75,g:87,b:219,name:"warm blue"},{r:75,g:93,b:22,name:"army green"},{r:75,g:97,b:19,name:"camouflage green"},{r:76,g:144,b:133,name:"dusty teal"},{r:77,g:164,b:9,name:"lawn green"},{r:78,g:5,b:80,name:"plum purple"},{r:78,g:81,b:139,name:"twilight"},{r:78,g:84,b:129,name:"dusk"},{r:78,g:116,b:150,name:"cadet blue"},{r:78,g:253,b:84,name:"light neon green"},{r:79,g:115,b:142,name:"metallic blue"},{r:79,g:145,b:83,name:"light forest green"},{r:80,g:123,b:156,name:"stormy blue"},{r:80,g:167,b:71,name:"mid green"},{r:81,g:10,b:201,name:"violet blue"},{r:81,g:101,b:114,name:"slate"},{r:81,g:112,b:215,name:"cornflower blue"},{r:81,g:183,b:59,name:"leafy green"},{r:82,g:101,b:37,name:"camo green"},{r:83,g:60,b:198,name:"blue with a hint of purple"},{r:83,g:98,b:103,name:"gunmetal"},{r:83,g:252,b:161,name:"sea green"},{r:83,g:254,b:92,name:"light bright green"},{r:84,g:78,b:3,name:"green brown"},{r:84,g:141,b:68,name:"fern green"},{r:84,g:172,b:104,name:"algae"},{r:85,g:57,b:204,name:"blurple"},{r:86,g:132,b:174,name:"off blue"},{r:86,g:174,b:87,name:"dark pastel green"},{r:86,g:252,b:162,name:"light green blue"},{r:87,g:41,b:206,name:"blue purple"},{r:88,g:15,b:65,name:"plum"},{r:88,g:188,b:8,name:"frog green"},{r:89,g:101,b:109,name:"slate grey"},{r:89,g:133,b:86,name:"dark sage"},{r:90,g:6,b:239,name:"blue purple"},{r:90,g:125,b:154,name:"steel blue"},{r:90,g:134,b:173,name:"dusty blue"},{r:91,g:124,b:153,name:"slate blue"},{r:92,g:139,b:21,name:"sap green"},{r:92,g:169,b:4,name:"leaf green"},{r:92,g:172,b:45,name:"grass"},{r:92,g:178,b:0,name:"kermit green"},{r:93,g:6,b:233,name:"blue violet"},{r:93,g:20,b:81,name:"grape purple"},{r:93,g:33,b:208,name:"purple blue"},{r:94,g:129,b:157,name:"greyish blue"},{r:94,g:155,b:138,name:"grey teal"},{r:94,g:220,b:31,name:"green apple"},{r:95,g:52,b:231,name:"purpley blue"},{r:95,g:158,b:143,name:"dull teal"},{r:95,g:160,b:82,name:"muted green"},{r:96,g:30,b:249,name:"purplish blue"},{r:96,g:70,b:15,name:"mud brown"},{r:96,g:102,b:2,name:"mud green"},{r:96,g:124,b:142,name:"blue grey"},{r:97,g:0,b:35,name:"burgundy"},{r:97,g:64,b:239,name:"purpleish blue"},{r:97,g:222,b:42,name:"toxic green"},{r:97,g:225,b:96,name:"lightish green"},{r:98,g:65,b:199,name:"bluey purple"},{r:98,g:88,b:196,name:"iris"},{r:99,g:45,b:233,name:"purple blue"},{r:99,g:139,b:39,name:"mossy green"},{r:99,g:169,b:80,name:"fern"},{r:99,g:179,b:101,name:"boring green"},{r:99,g:247,b:180,name:"light greenish blue"},{r:100,g:84,b:3,name:"olive brown"},{r:100,g:125,b:142,name:"grey blue"},{r:100,g:136,b:234,name:"soft blue"},{r:101,g:0,b:33,name:"maroon"},{r:101,g:55,b:0,name:"brown"},{r:101,g:116,b:50,name:"muddy green"},{r:101,g:139,b:56,name:"moss green"},{r:101,g:140,b:187,name:"faded blue"},{r:101,g:141,b:109,name:"slate green"},{r:101,g:171,b:124,name:"tea"},{r:101,g:254,b:8,name:"bright lime green"},{r:102,g:26,b:238,name:"purply blue"},{r:102,g:95,b:209,name:"dark periwinkle"},{r:102,g:124,b:62,name:"military green"},{r:102,g:126,b:44,name:"dirty green"},{r:103,g:58,b:63,name:"purple brown"},{r:103,g:122,b:4,name:"olive green"},{r:104,g:0,b:24,name:"claret"},{r:104,g:50,b:227,name:"burple"},{r:105,g:96,b:6,name:"greeny brown"},{r:105,g:97,b:18,name:"greenish brown"},{r:105,g:131,b:57,name:"swamp"},{r:105,g:157,b:76,name:"flat green"},{r:105,g:216,b:79,name:"fresh green"},{r:106,g:110,b:9,name:"brownish green"},{r:106,g:121,b:247,name:"cornflower"},{r:107,g:66,b:71,name:"purplish brown"},{r:107,g:124,b:133,name:"battleship grey"},{r:107,g:139,b:164,name:"grey blue"},{r:107,g:163,b:83,name:"off green"},{r:108,g:52,b:97,name:"grape"},{r:108,g:122,b:14,name:"murky green"},{r:109,g:90,b:207,name:"light indigo"},{r:109,g:237,b:253,name:"robins egg"},{r:110,g:16,b:5,name:"reddy brown"},{r:110,g:117,b:14,name:"olive"},{r:110,g:203,b:60,name:"apple"},{r:111,g:108,b:10,name:"browny green"},{r:111,g:118,b:50,name:"olive drab"},{r:111,g:124,b:0,name:"poop green"},{r:111,g:130,b:138,name:"steel grey"},{r:111,g:194,b:118,name:"soft green"},{r:112,g:59,b:231,name:"bluish purple"},{r:112,g:108,b:17,name:"brown green"},{r:112,g:178,b:63,name:"nasty green"},{r:113,g:159,b:145,name:"greyish teal"},{r:113,g:170,b:52,name:"leaf"},{r:114,g:0,b:88,name:"rich purple"},{r:114,g:134,b:57,name:"khaki green"},{r:114,g:143,b:2,name:"dark yellow green"},{r:115,g:0,b:57,name:"merlot"},{r:115,g:74,b:101,name:"dirty purple"},{r:115,g:92,b:18,name:"mud"},{r:115,g:133,b:149,name:"steel"},{r:116,g:40,b:2,name:"chestnut"},{r:116,g:133,b:0,name:"swamp green"},{r:116,g:139,b:151,name:"bluish grey"},{r:116,g:149,b:81,name:"drab green"},{r:116,g:166,b:98,name:"dull green"},{r:117,g:8,b:81,name:"velvet"},{r:117,g:25,b:115,name:"darkish purple"},{r:117,g:128,b:0,name:"shit green"},{r:117,g:141,b:163,name:"blue grey"},{r:117,g:184,b:79,name:"turtle green"},{r:117,g:187,b:253,name:"sky blue"},{r:117,g:253,b:99,name:"lighter green"},{r:118,g:66,b:78,name:"brownish purple"},{r:118,g:153,b:88,name:"moss"},{r:118,g:169,b:115,name:"dusty green"},{r:118,g:205,b:38,name:"apple green"},{r:118,g:253,b:168,name:"light bluish green"},{r:118,g:255,b:123,name:"lightgreen"},{r:119,g:0,b:1,name:"blood"},{r:119,g:146,b:111,name:"green grey"},{r:119,g:161,b:181,name:"greyblue"},{r:119,g:171,b:86,name:"asparagus"},{r:120,g:155,b:115,name:"grey green"},{r:120,g:209,b:182,name:"seafoam blue"},{r:122,g:89,b:1,name:"poop brown"},{r:122,g:104,b:127,name:"purplish grey"},{r:122,g:106,b:79,name:"greyish brown"},{r:122,g:151,b:3,name:"ugly green"},{r:122,g:249,b:171,name:"seafoam green"},{r:123,g:0,b:44,name:"bordeaux"},{r:123,g:3,b:35,name:"wine red"},{r:123,g:88,b:4,name:"shit brown"},{r:123,g:178,b:116,name:"faded green"},{r:123,g:200,b:246,name:"lightblue"},{r:123,g:242,b:218,name:"tiffany blue"},{r:123,g:253,b:199,name:"light aquamarine"},{r:125,g:113,b:3,name:"ugly brown"},{r:125,g:127,b:124,name:"medium grey"},{r:126,g:30,b:156,name:"purple"},{r:126,g:64,b:113,name:"bruise"},{r:126,g:160,b:122,name:"greeny grey"},{r:126,g:189,b:1,name:"dark lime green"},{r:126,g:244,b:204,name:"light turquoise"},{r:126,g:251,b:179,name:"light blue green"},{r:127,g:43,b:10,name:"reddish brown"},{r:127,g:78,b:30,name:"milk chocolate"},{r:127,g:81,b:18,name:"medium brown"},{r:127,g:94,b:0,name:"poop"},{r:127,g:95,b:0,name:"shit"},{r:127,g:104,b:78,name:"dark taupe"},{r:127,g:112,b:83,name:"grey brown"},{r:127,g:143,b:78,name:"camo"},{r:128,g:1,b:63,name:"wine"},{r:128,g:91,b:135,name:"muted purple"},{r:128,g:249,b:173,name:"seafoam"},{r:130,g:7,b:71,name:"red purple"},{r:130,g:95,b:135,name:"dusty purple"},{r:130,g:109,b:140,name:"grey purple"},{r:130,g:131,b:68,name:"drab"},{r:130,g:166,b:125,name:"greyish green"},{r:130,g:202,b:252,name:"sky"},{r:130,g:203,b:178,name:"pale teal"},{r:131,g:101,b:57,name:"dirt brown"},{r:132,g:0,b:0,name:"dark red"},{r:132,g:89,b:126,name:"dull purple"},{r:132,g:183,b:1,name:"dark lime"},{r:133,g:14,b:4,name:"indian red"},{r:133,g:103,b:152,name:"dark lavender"},{r:133,g:163,b:178,name:"bluegrey"},{r:134,g:111,b:133,name:"purple grey"},{r:134,g:119,b:95,name:"brownish grey"},{r:134,g:161,b:125,name:"grey green"},{r:135,g:76,b:98,name:"dark mauve"},{r:135,g:86,b:228,name:"purpley"},{r:135,g:95,b:66,name:"cocoa"},{r:135,g:110,b:75,name:"dull brown"},{r:135,g:169,b:34,name:"avocado green"},{r:135,g:174,b:115,name:"sage"},{r:135,g:253,b:5,name:"bright lime"},{r:136,g:95,b:1,name:"poo brown"},{r:136,g:104,b:6,name:"muddy brown"},{r:136,g:113,b:145,name:"greyish purple"},{r:136,g:151,b:23,name:"baby shit green"},{r:136,g:179,b:120,name:"sage green"},{r:137,g:69,b:133,name:"light eggplant"},{r:137,g:91,b:123,name:"dusky purple"},{r:137,g:160,b:176,name:"bluey grey"},{r:137,g:162,b:3,name:"vomit green"},{r:137,g:254,b:5,name:"lime green"},{r:138,g:110,b:69,name:"dirt"},{r:138,g:184,b:254,name:"carolina blue"},{r:138,g:241,b:254,name:"robin egg blue"},{r:139,g:46,b:22,name:"red brown"},{r:139,g:49,b:3,name:"rust brown"},{r:139,g:136,b:248,name:"lavender blue"},{r:140,g:0,b:15,name:"crimson"},{r:140,g:0,b:52,name:"red wine"},{r:140,g:253,b:126,name:"easter green"},{r:140,g:255,b:158,name:"baby green"},{r:140,g:255,b:219,name:"light aqua"},{r:141,g:94,b:183,name:"deep lavender"},{r:141,g:132,b:104,name:"brown grey"},{r:142,g:118,b:24,name:"hazel"},{r:142,g:130,b:254,name:"periwinkle"},{r:142,g:171,b:18,name:"pea green"},{r:142,g:229,b:63,name:"kiwi green"},{r:143,g:20,b:2,name:"brick red"},{r:143,g:115,b:3,name:"poo"},{r:143,g:140,b:231,name:"perrywinkle"},{r:143,g:152,b:5,name:"baby poop green"},{r:143,g:153,b:251,name:"periwinkle blue"},{r:143,g:174,b:34,name:"icky green"},{r:143,g:182,b:123,name:"lichen"},{r:143,g:254,b:9,name:"acid green"},{r:143,g:255,b:159,name:"mint green"},{r:144,g:177,b:52,name:"avocado"},{r:144,g:228,b:193,name:"light teal"},{r:144,g:253,b:169,name:"foam green"},{r:145,g:9,b:81,name:"reddish purple"},{r:145,g:110,b:153,name:"faded purple"},{r:146,g:10,b:78,name:"mulberry"},{r:146,g:43,b:5,name:"brown red"},{r:146,g:149,b:145,name:"grey"},{r:146,g:153,b:1,name:"pea soup"},{r:147,g:124,b:0,name:"baby poop"},{r:148,g:86,b:140,name:"purplish"},{r:148,g:119,b:6,name:"puke brown"},{r:148,g:126,b:148,name:"purpley grey"},{r:148,g:166,b:23,name:"pea soup green"},{r:148,g:172,b:2,name:"barf green"},{r:148,g:178,b:28,name:"sickly green"},{r:149,g:46,b:143,name:"warm purple"},{r:149,g:163,b:166,name:"cool grey"},{r:149,g:208,b:252,name:"light blue"},{r:150,g:0,b:86,name:"dark magenta"},{r:150,g:78,b:2,name:"warm brown"},{r:150,g:110,b:189,name:"deep lilac"},{r:150,g:174,b:141,name:"greenish grey"},{r:150,g:180,b:3,name:"booger green"},{r:150,g:249,b:123,name:"light green"},{r:151,g:138,b:132,name:"warm grey"},{r:152,g:0,b:2,name:"blood red"},{r:152,g:63,b:178,name:"purply"},{r:152,g:86,b:141,name:"purpleish"},{r:152,g:94,b:43,name:"sepia"},{r:152,g:239,b:249,name:"robins egg blue"},{r:152,g:246,b:176,name:"light sea green"},{r:153,g:0,b:250,name:"vivid purple"},{r:153,g:1,b:71,name:"purple red"},{r:153,g:15,b:75,name:"berry"},{r:153,g:117,b:112,name:"reddish grey"},{r:153,g:204,b:4,name:"slime green"},{r:154,g:2,b:0,name:"deep red"},{r:154,g:14,b:234,name:"violet"},{r:154,g:48,b:1,name:"auburn"},{r:154,g:98,b:0,name:"raw sienna"},{r:154,g:174,b:7,name:"puke green"},{r:154,g:247,b:100,name:"light grass green"},{r:155,g:95,b:192,name:"amethyst"},{r:155,g:122,b:1,name:"yellowish brown"},{r:155,g:143,b:85,name:"dark khaki"},{r:155,g:181,b:60,name:"booger"},{r:155,g:229,b:170,name:"hospital green"},{r:156,g:109,b:87,name:"brownish"},{r:156,g:109,b:165,name:"dark lilac"},{r:156,g:187,b:4,name:"bright olive"},{r:156,g:239,b:67,name:"kiwi"},{r:157,g:2,b:22,name:"carmine"},{r:157,g:7,b:89,name:"dark fuchsia"},{r:157,g:87,b:131,name:"light plum"},{r:157,g:118,b:81,name:"mocha"},{r:157,g:185,b:44,name:"sick green"},{r:157,g:188,b:212,name:"light grey blue"},{r:157,g:193,b:0,name:"snot green"},{r:157,g:255,b:0,name:"bright yellow green"},{r:158,g:0,b:58,name:"cranberry"},{r:158,g:1,b:104,name:"red violet"},{r:158,g:54,b:35,name:"brownish red"},{r:158,g:67,b:162,name:"medium purple"},{r:159,g:35,b:5,name:"burnt red"},{r:159,g:131,b:3,name:"diarrhea"},{r:159,g:254,b:176,name:"mint"},{r:160,g:2,b:92,name:"deep magenta"},{r:160,g:4,b:152,name:"barney purple"},{r:160,g:54,b:35,name:"brick"},{r:160,g:69,b:14,name:"burnt umber"},{r:160,g:191,b:22,name:"gross green"},{r:160,g:254,b:191,name:"light seafoam"},{r:161,g:57,b:5,name:"russet"},{r:162,g:72,b:87,name:"light maroon"},{r:162,g:101,b:62,name:"earth"},{r:162,g:164,b:21,name:"vomit"},{r:162,g:191,b:254,name:"pastel blue"},{r:162,g:207,b:254,name:"baby blue"},{r:164,g:66,b:160,name:"ugly purple"},{r:164,g:132,b:172,name:"heather"},{r:164,g:190,b:92,name:"light olive green"},{r:164,g:191,b:32,name:"pea"},{r:165,g:0,b:85,name:"violet red"},{r:165,g:82,b:230,name:"lightish purple"},{r:165,g:90,b:244,name:"lighter purple"},{r:165,g:126,b:82,name:"puce"},{r:165,g:163,b:145,name:"cement"},{r:165,g:165,b:2,name:"puke"},{r:165,g:251,b:213,name:"pale turquoise"},{r:166,g:111,b:181,name:"soft purple"},{r:166,g:129,b:76,name:"coffee"},{r:166,g:200,b:117,name:"light moss green"},{r:166,g:251,b:178,name:"light mint green"},{r:167,g:94,b:9,name:"raw umber"},{r:167,g:255,b:181,name:"light seafoam green"},{r:168,g:60,b:9,name:"rust"},{r:168,g:65,b:91,name:"light burgundy"},{r:168,g:121,b:0,name:"bronze"},{r:168,g:125,b:194,name:"wisteria"},{r:168,g:137,b:5,name:"dark mustard"},{r:168,g:143,b:89,name:"dark sand"},{r:168,g:164,b:149,name:"greyish"},{r:168,g:181,b:4,name:"mustard green"},{r:168,g:255,b:4,name:"electric lime"},{r:169,g:3,b:8,name:"darkish red"},{r:169,g:86,b:30,name:"sienna"},{r:169,g:190,b:112,name:"tan green"},{r:169,g:249,b:113,name:"spring green"},{r:170,g:35,b:255,name:"electric purple"},{r:170,g:39,b:4,name:"rust red"},{r:170,g:166,b:98,name:"khaki"},{r:170,g:255,b:50,name:"lime"},{r:171,g:18,b:57,name:"rouge"},{r:171,g:126,b:76,name:"tan brown"},{r:171,g:144,b:4,name:"baby poo"},{r:172,g:29,b:184,name:"barney"},{r:172,g:79,b:6,name:"cinnamon"},{r:172,g:116,b:52,name:"leather"},{r:172,g:126,b:4,name:"mustard brown"},{r:172,g:134,b:168,name:"dusty lavender"},{r:172,g:147,b:98,name:"dark beige"},{r:172,g:187,b:13,name:"snot"},{r:172,g:191,b:105,name:"light olive"},{r:172,g:194,b:217,name:"cloudy blue"},{r:172,g:255,b:252,name:"light cyan"},{r:173,g:3,b:222,name:"vibrant purple"},{r:173,g:10,b:253,name:"bright violet"},{r:173,g:129,b:80,name:"light brown"},{r:173,g:144,b:13,name:"baby shit brown"},{r:173,g:165,b:135,name:"stone"},{r:173,g:248,b:2,name:"lemon green"},{r:174,g:113,b:129,name:"mauve"},{r:174,g:139,b:12,name:"yellowy brown"},{r:174,g:253,b:108,name:"light lime"},{r:174,g:255,b:110,name:"key lime"},{r:175,g:47,b:13,name:"rusty red"},{r:175,g:111,b:9,name:"caramel"},{r:175,g:136,b:74,name:"dark tan"},{r:175,g:168,b:139,name:"bland"},{r:176,g:1,b:73,name:"raspberry"},{r:176,g:5,b:75,name:"purplish red"},{r:176,g:78,b:15,name:"burnt sienna"},{r:176,g:221,b:22,name:"yellowish green"},{r:176,g:255,b:157,name:"pastel green"},{r:177,g:96,b:2,name:"orangey brown"},{r:177,g:114,b:97,name:"pinkish brown"},{r:177,g:145,b:110,name:"pale brown"},{r:177,g:209,b:252,name:"powder blue"},{r:177,g:210,b:123,name:"pale olive green"},{r:177,g:252,b:153,name:"pale light green"},{r:177,g:255,b:101,name:"pale lime green"},{r:178,g:95,b:3,name:"orangish brown"},{r:178,g:100,b:0,name:"umber"},{r:178,g:113,b:61,name:"clay brown"},{r:178,g:122,b:1,name:"golden brown"},{r:178,g:151,b:5,name:"brown yellow"},{r:178,g:153,b:110,name:"dust"},{r:178,g:251,b:165,name:"light pastel green"},{r:179,g:111,b:246,name:"light urple"},{r:181,g:72,b:93,name:"dark rose"},{r:181,g:148,b:16,name:"dark gold"},{r:181,g:195,b:6,name:"bile"},{r:181,g:206,b:8,name:"green yellow"},{r:182,g:99,b:37,name:"copper"},{r:182,g:106,b:80,name:"clay"},{r:182,g:196,b:6,name:"baby puke green"},{r:182,g:255,b:187,name:"light mint"},{r:183,g:82,b:3,name:"burnt siena"},{r:183,g:144,b:212,name:"pale purple"},{r:183,g:148,b:0,name:"yellow brown"},{r:183,g:201,b:226,name:"light blue grey"},{r:183,g:225,b:161,name:"light grey green"},{r:183,g:255,b:250,name:"pale cyan"},{r:184,g:255,b:235,name:"pale aqua"},{r:185,g:72,b:78,name:"dusty red"},{r:185,g:105,b:2,name:"brown orange"},{r:185,g:162,b:129,name:"taupe"},{r:185,g:204,b:129,name:"pale olive"},{r:185,g:255,b:102,name:"light lime green"},{r:186,g:104,b:115,name:"dusky rose"},{r:186,g:158,b:136,name:"mushroom"},{r:187,g:63,b:63,name:"dull red"},{r:187,g:249,b:15,name:"yellowgreen"},{r:188,g:19,b:254,name:"neon purple"},{r:188,g:203,b:122,name:"greenish tan"},{r:188,g:236,b:172,name:"light sage"},{r:188,g:245,b:166,name:"washed out green"},{r:189,g:108,b:72,name:"adobe"},{r:189,g:246,b:254,name:"pale sky blue"},{r:189,g:248,b:163,name:"tea green"},{r:190,g:1,b:25,name:"scarlet"},{r:190,g:1,b:60,name:"rose red"},{r:190,g:3,b:253,name:"bright purple"},{r:190,g:100,b:0,name:"orange brown"},{r:190,g:174,b:138,name:"putty"},{r:190,g:253,b:115,name:"pale lime"},{r:190,g:253,b:183,name:"celadon"},{r:191,g:119,b:246,name:"light purple"},{r:191,g:144,b:5,name:"ochre"},{r:191,g:155,b:12,name:"ocher"},{r:191,g:172,b:5,name:"muddy yellow"},{r:191,g:241,b:40,name:"yellowy green"},{r:191,g:254,b:40,name:"lemon lime"},{r:192,g:2,b:47,name:"lipstick red"},{r:192,g:78,b:1,name:"burnt orange"},{r:192,g:113,b:254,name:"easter purple"},{r:192,g:115,b:122,name:"dusty rose"},{r:192,g:250,b:139,name:"pistachio"},{r:192,g:251,b:45,name:"yellow green"},{r:193,g:74,b:9,name:"brick orange"},{r:193,g:198,b:252,name:"light periwinkle"},{r:193,g:248,b:10,name:"chartreuse"},{r:193,g:253,b:149,name:"celery"},{r:194,g:0,b:120,name:"magenta"},{r:194,g:126,b:121,name:"brownish pink"},{r:194,g:146,b:161,name:"light mauve"},{r:194,g:183,b:9,name:"olive yellow"},{r:194,g:190,b:14,name:"puke yellow"},{r:194,g:255,b:137,name:"light yellowish green"},{r:195,g:144,b:155,name:"grey pink"},{r:195,g:251,b:244,name:"duck egg blue"},{r:196,g:66,b:64,name:"reddish"},{r:196,g:85,b:8,name:"rust orange"},{r:196,g:142,b:253,name:"liliac"},{r:196,g:166,b:97,name:"sandy brown"},{r:196,g:254,b:130,name:"light pea green"},{r:196,g:255,b:247,name:"eggshell blue"},{r:197,g:201,b:199,name:"silver"},{r:198,g:81,b:2,name:"dark orange"},{r:198,g:156,b:4,name:"ocre"},{r:198,g:159,b:89,name:"camel"},{r:198,g:248,b:8,name:"greeny yellow"},{r:198,g:252,b:255,name:"light sky blue"},{r:199,g:71,b:103,name:"deep rose"},{r:199,g:96,b:255,name:"bright lavender"},{r:199,g:121,b:134,name:"old pink"},{r:199,g:159,b:239,name:"lavender"},{r:199,g:172,b:125,name:"toupe"},{r:199,g:193,b:12,name:"vomit yellow"},{r:199,g:253,b:181,name:"pale green"},{r:200,g:60,b:185,name:"purpley pink"},{r:200,g:90,b:83,name:"dark salmon"},{r:200,g:117,b:196,name:"orchid"},{r:200,g:118,b:6,name:"dirty orange"},{r:200,g:127,b:137,name:"old rose"},{r:200,g:141,b:148,name:"greyish pink"},{r:200,g:172,b:169,name:"pinkish grey"},{r:200,g:253,b:61,name:"yellow green"},{r:200,g:255,b:176,name:"light light green"},{r:201,g:76,b:190,name:"pinky purple"},{r:201,g:94,b:251,name:"bright lilac"},{r:201,g:100,b:59,name:"terra cotta"},{r:201,g:174,b:116,name:"sandstone"},{r:201,g:176,b:3,name:"brownish yellow"},{r:201,g:209,b:121,name:"greenish beige"},{r:201,g:255,b:39,name:"green yellow"},{r:202,g:1,b:71,name:"ruby"},{r:202,g:102,b:65,name:"terracotta"},{r:202,g:107,b:2,name:"browny orange"},{r:202,g:123,b:128,name:"dirty pink"},{r:202,g:155,b:247,name:"baby purple"},{r:202,g:160,b:255,name:"pastel purple"},{r:202,g:255,b:251,name:"light light blue"},{r:203,g:0,b:245,name:"hot purple"},{r:203,g:1,b:98,name:"deep pink"},{r:203,g:65,b:107,name:"dark pink"},{r:203,g:104,b:67,name:"terracota"},{r:203,g:119,b:35,name:"brownish orange"},{r:203,g:157,b:6,name:"yellow ochre"},{r:203,g:165,b:96,name:"sand brown"},{r:203,g:248,b:95,name:"pear"},{r:204,g:122,b:139,name:"dusky pink"},{r:204,g:173,b:96,name:"desert"},{r:204,g:253,b:127,name:"light yellow green"},{r:205,g:89,b:9,name:"rusty orange"},{r:205,g:117,b:132,name:"ugly pink"},{r:205,g:197,b:10,name:"dirty yellow"},{r:205,g:253,b:2,name:"greenish yellow"},{r:206,g:93,b:174,name:"purplish pink"},{r:206,g:162,b:253,name:"lilac"},{r:206,g:174,b:250,name:"pale violet"},{r:206,g:179,b:1,name:"mustard"},{r:207,g:2,b:52,name:"cherry"},{r:207,g:82,b:78,name:"dark coral"},{r:207,g:98,b:117,name:"rose"},{r:207,g:175,b:123,name:"fawn"},{r:207,g:253,b:188,name:"very pale green"},{r:207,g:255,b:4,name:"neon yellow"},{r:208,g:193,b:1,name:"ugly yellow"},{r:208,g:228,b:41,name:"sickly yellow"},{r:208,g:254,b:29,name:"lime yellow"},{r:208,g:254,b:254,name:"pale blue"},{r:209,g:118,b:143,name:"muted pink"},{r:209,g:178,b:111,name:"tan"},{r:209,g:255,b:189,name:"very light green"},{r:210,g:189,b:10,name:"mustard yellow"},{r:211,g:73,b:78,name:"faded red"},{r:211,g:182,b:131,name:"very light brown"},{r:212,g:106,b:126,name:"pinkish"},{r:212,g:255,b:255,name:"really light blue"},{r:213,g:23,b:78,name:"lipstick"},{r:213,g:134,b:157,name:"dull pink"},{r:213,g:138,b:148,name:"dusty pink"},{r:213,g:171,b:9,name:"burnt yellow"},{r:213,g:182,b:10,name:"dark yellow"},{r:213,g:255,b:255,name:"very light blue"},{r:214,g:72,b:215,name:"pinkish purple"},{r:214,g:180,b:252,name:"light violet"},{r:214,g:255,b:250,name:"ice"},{r:214,g:255,b:254,name:"very pale blue"},{r:215,g:37,b:222,name:"purple pink"},{r:215,g:103,b:173,name:"pale magenta"},{r:215,g:255,b:254,name:"ice blue"},{r:216,g:134,b:59,name:"dull orange"},{r:216,g:220,b:214,name:"light grey"},{r:217,g:1,b:102,name:"dark hot pink"},{r:217,g:79,b:245,name:"heliotrope"},{r:217,g:84,b:77,name:"pale red"},{r:217,g:155,b:130,name:"pinkish tan"},{r:218,g:70,b:125,name:"darkish pink"},{r:219,g:75,b:218,name:"pink purple"},{r:219,g:88,b:86,name:"pastel red"},{r:219,g:180,b:12,name:"gold"},{r:220,g:77,b:1,name:"deep orange"},{r:221,g:133,b:215,name:"lavender pink"},{r:221,g:214,b:24,name:"piss yellow"},{r:222,g:12,b:98,name:"cerise"},{r:222,g:126,b:93,name:"dark peach"},{r:222,g:157,b:172,name:"faded pink"},{r:223,g:78,b:200,name:"purpleish pink"},{r:223,g:197,b:254,name:"light lavender"},{r:224,g:63,b:216,name:"purple pink"},{r:225,g:119,b:1,name:"pumpkin"},{r:226,g:202,b:118,name:"sand"},{r:228,g:203,b:255,name:"pale lilac"},{r:229,g:0,b:0,name:"red"},{r:230,g:218,b:166,name:"beige"},{r:230,g:242,b:162,name:"light khaki"},{r:231,g:142,b:165,name:"pig pink"},{r:236,g:45,b:1,name:"tomato red"},{r:237,g:13,b:217,name:"fuchsia"},{r:237,g:200,b:255,name:"light lilac"},{r:238,g:207,b:254,name:"pale lavender"},{r:238,g:220,b:91,name:"dull yellow"},{r:239,g:29,b:231,name:"pink purple"},{r:239,g:64,b:38,name:"tomato"},{r:239,g:180,b:53,name:"macaroni and cheese"},{r:239,g:192,b:254,name:"light lavendar"},{r:240,g:117,b:230,name:"purply pink"},{r:240,g:131,b:58,name:"dusty orange"},{r:240,g:148,b:77,name:"faded orange"},{r:241,g:12,b:69,name:"pinkish red"},{r:241,g:218,b:122,name:"sandy"},{r:241,g:243,b:63,name:"off yellow"},{r:242,g:158,b:142,name:"blush"},{r:242,g:171,b:21,name:"squash"},{r:243,g:97,b:150,name:"medium pink"},{r:244,g:50,b:12,name:"vermillion"},{r:244,g:54,b:5,name:"orangish red"},{r:244,g:208,b:84,name:"maize"},{r:245,g:4,b:201,name:"hot magenta"},{r:245,g:5,b:79,name:"pink red"},{r:245,g:191,b:3,name:"golden"},{r:246,g:104,b:142,name:"rosy pink"},{r:246,g:206,b:252,name:"very light purple"},{r:247,g:2,b:42,name:"cherry red"},{r:247,g:135,b:154,name:"rose pink"},{r:247,g:213,b:96,name:"light mustard"},{r:248,g:72,b:28,name:"reddish orange"},{r:249,g:115,b:6,name:"orange"},{r:249,g:188,b:8,name:"golden rod"},{r:250,g:42,b:85,name:"red pink"},{r:250,g:66,b:36,name:"orangey red"},{r:250,g:95,b:247,name:"light magenta"},{r:250,g:194,b:5,name:"goldenrod"},{r:250,g:238,b:102,name:"yellowish"},{r:250,g:254,b:75,name:"banana yellow"},{r:251,g:41,b:67,name:"strawberry"},{r:251,g:85,b:129,name:"warm pink"},{r:251,g:95,b:252,name:"violet pink"},{r:251,g:125,b:7,name:"pumpkin orange"},{r:251,g:221,b:126,name:"wheat"},{r:251,g:238,b:172,name:"light tan"},{r:252,g:38,b:71,name:"pinky red"},{r:252,g:90,b:80,name:"coral"},{r:252,g:130,b:74,name:"orangish"},{r:252,g:134,b:170,name:"pinky"},{r:252,g:176,b:1,name:"yellow orange"},{r:252,g:192,b:6,name:"marigold"},{r:252,g:225,b:102,name:"sand yellow"},{r:252,g:246,b:121,name:"straw"},{r:252,g:252,b:129,name:"yellowish tan"},{r:253,g:60,b:6,name:"red orange"},{r:253,g:65,b:30,name:"orange red"},{r:253,g:70,b:89,name:"watermelon"},{r:253,g:89,b:86,name:"grapefruit"},{r:253,g:121,b:143,name:"carnation"},{r:253,g:141,b:73,name:"orangeish"},{r:253,g:170,b:72,name:"light orange"},{r:253,g:176,b:192,name:"soft pink"},{r:253,g:177,b:71,name:"butterscotch"},{r:253,g:185,b:21,name:"orangey yellow"},{r:253,g:193,b:197,name:"pale rose"},{r:253,g:220,b:92,name:"light gold"},{r:253,g:222,b:108,name:"pale gold"},{r:253,g:238,b:115,name:"sandy yellow"},{r:253,g:253,b:254,name:"pale grey"},{r:253,g:255,b:56,name:"lemon yellow"},{r:253,g:255,b:82,name:"lemon"},{r:253,g:255,b:99,name:"canary"},{r:254,g:0,b:2,name:"fire engine red"},{r:254,g:1,b:154,name:"neon pink"},{r:254,g:1,b:177,name:"bright pink"},{r:254,g:2,b:162,name:"shocking pink"},{r:254,g:44,b:84,name:"reddish pink"},{r:254,g:47,b:74,name:"lightish red"},{r:254,g:66,b:15,name:"orangered"},{r:254,g:70,b:165,name:"barbie pink"},{r:254,g:75,b:3,name:"blood orange"},{r:254,g:123,b:124,name:"salmon pink"},{r:254,g:130,b:140,name:"blush pink"},{r:254,g:131,b:204,name:"bubblegum pink"},{r:254,g:134,b:164,name:"rosa"},{r:254,g:169,b:147,name:"light salmon"},{r:254,g:178,b:9,name:"saffron"},{r:254,g:179,b:8,name:"amber"},{r:254,g:198,b:21,name:"golden yellow"},{r:254,g:208,b:252,name:"pale mauve"},{r:254,g:223,b:8,name:"dandelion"},{r:254,g:246,b:158,name:"buff"},{r:254,g:252,b:175,name:"parchment"},{r:254,g:255,b:127,name:"faded yellow"},{r:254,g:255,b:202,name:"ecru"},{r:255,g:0,b:13,name:"bright red"},{r:255,g:2,b:141,name:"hot pink"},{r:255,g:4,b:144,name:"electric pink"},{r:255,g:7,b:58,name:"neon red"},{r:255,g:7,b:137,name:"strong pink"},{r:255,g:8,b:232,name:"bright magenta"},{r:255,g:71,b:76,name:"light red"},{r:255,g:91,b:0,name:"bright orange"},{r:255,g:97,b:99,name:"coral pink"},{r:255,g:99,b:233,name:"candy pink"},{r:255,g:105,b:175,name:"bubble gum pink"},{r:255,g:108,b:181,name:"bubblegum"},{r:255,g:111,b:82,name:"orange pink"},{r:255,g:114,b:76,name:"pinkish orange"},{r:255,g:120,b:85,name:"melon"},{r:255,g:121,b:108,name:"salmon"},{r:255,g:127,b:167,name:"carnation pink"},{r:255,g:129,b:192,name:"pink"},{r:255,g:148,b:8,name:"tangerine"},{r:255,g:150,b:79,name:"pastel orange"},{r:255,g:154,b:138,name:"peachy pink"},{r:255,g:166,b:43,name:"mango"},{r:255,g:167,b:86,name:"pale orange"},{r:255,g:171,b:15,name:"yellowish orange"},{r:255,g:173,b:1,name:"orange yellow"},{r:255,g:176,b:124,name:"peach"},{r:255,g:177,b:109,name:"apricot"},{r:255,g:177,b:154,name:"pale salmon"},{r:255,g:178,b:208,name:"powder pink"},{r:255,g:183,b:206,name:"baby pink"},{r:255,g:186,b:205,name:"pastel pink"},{r:255,g:197,b:18,name:"sunflower"},{r:255,g:197,b:203,name:"light rose"},{r:255,g:207,b:220,name:"pale pink"},{r:255,g:209,b:223,name:"light pink"},{r:255,g:216,b:177,name:"light peach"},{r:255,g:218,b:3,name:"sunflower yellow"},{r:255,g:223,b:34,name:"sun yellow"},{r:255,g:227,b:110,name:"yellow tan"},{r:255,g:229,b:173,name:"pale peach"},{r:255,g:243,b:154,name:"dark cream"},{r:255,g:244,b:242,name:"very light pink"},{r:255,g:249,b:23,name:"sunny yellow"},{r:255,g:249,b:208,name:"pale"},{r:255,g:250,b:134,name:"manilla"},{r:255,g:252,b:196,name:"egg shell"},{r:255,g:253,b:1,name:"bright yellow"},{r:255,g:253,b:55,name:"sunshine yellow"},{r:255,g:253,b:116,name:"butter yellow"},{r:255,g:253,b:120,name:"custard"},{r:255,g:254,b:64,name:"canary yellow"},{r:255,g:254,b:113,name:"pastel yellow"},{r:255,g:254,b:122,name:"light yellow"},{r:255,g:254,b:182,name:"light beige"},{r:255,g:255,b:20,name:"yellow"},{r:255,g:255,b:126,name:"banana"},{r:255,g:255,b:129,name:"butter"},{r:255,g:255,b:132,name:"pale yellow"},{r:255,g:255,b:182,name:"creme"},{r:255,g:255,b:194,name:"cream"},{r:255,g:255,b:203,name:"ivory"},{r:255,g:255,b:212,name:"eggshell"},{r:255,g:255,b:228,name:"off white"},{r:255,g:255,b:255,name:"white"}])},function(e,t,n){"use strict";function a(e){j.querySelector(".selected").classList.remove("selected");(e.emotar?j.querySelector(".emotar[data-name='"+e.emotar+"']"):j.firstElementChild).classList.add("selected"),h.C(S.querySelector(".profileImage"),e),h.C(v.querySelector(".profileImage"),e),h.C(document.querySelector(".currentAvatar .profileImage"),e),h.C(document.querySelector("#emotarList .emotarImage"),e,!0);var t=document.querySelector('#organizations .organization[data-id="user"]');t&&h.C(t.querySelector(".organizationLogo"),e)}function i(){fetch(Zeplin.urls.baseURL+"/users/emailNotifications",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({emailNotifications:C.checked})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw b.a(e.status,t)});Zeplin.updateUser({emailNotifications:C.checked})}).catch(function(e){C.checked=!C.checked,b.b(e)})}function o(){Cookies.expire("userToken"),localStorage.removeItem("user"),Zeplin.requireLogin(!1)}function r(e){var t;t="emotar"===e?T.getBoundingClientRect():k.getBoundingClientRect(),S.style.height=t.height+"px",S.classList.toggle("scrolling","usermenu"===e&&S.offsetHeight<k.scrollHeight)}function s(e){return document.querySelector(".organizationProfile[data-id='"+e+"']")}function l(e){document.querySelector("li.userPlan").classList.toggle("hidden",!e)}function c(e){Object.assign(Zeplin.user,e),a(Zeplin.user)}function u(e){var t="private-organization@"+e;p.c.channel(t)||p.c.subscribe(t)}function d(e,t){e.parentElement.classList.add("loading"),t&&(e.addEventListener("load",function t(){e.removeEventListener("load",t),e.parentElement.classList.remove("loading")}),e.src=t)}function m(e){var t=document.importNode(q.content,!0);t.querySelector(".organizationProfile").dataset.id=e._id,t.querySelector("a").href=h.J("organization-dashboard",{url:{oid:e._id}}),t.querySelector(".organizationName").textContent=e.name,d(t.querySelector(".organizationLogo"),e.logo),_.appendChild(t),u(e._id)}var p=n(8),g=n(11),f=n(2),h=n(0),y=n(10),b=n(1),v=document.getElementById("currentUser"),S=document.getElementById("userMenu"),j=document.getElementById("emotarList"),E=document.getElementById("updatePlanButton"),L=document.getElementById("planChooserOverlay"),D=document.getElementById("notificationContainer"),w=document.getElementById("notificationStatusCheckbox"),C=document.getElementById("emailNotificationStatusCheckbox"),x=document.getElementById("logoutButton"),k=S.querySelector("section.usermenu"),T=S.querySelector("section.emotar"),_=document.getElementById("organizationProfiles"),q=document.getElementById("organizationProfileTemplate");v.addEventListener("click",function(e){e.stopPropagation(),e.button===Zeplin.MOUSE_BUTTON.LEFT&&(window.Notification&&S.classList.contains("hidden")&&("granted"!==Notification.permission?(y.c.set("notificationStatus",!1),w.checked=!1):y.c.get("notificationStatus").then(function(e){w.checked=e})),D.classList.add("hidden"),window.ImportProgresses&&ImportProgresses.hideImportProgressesContainer(),S.classList.toggle("hidden"))}),S.addEventListener("click",function(e){e.stopPropagation()}),document.querySelector("#userInfo .avatarFrame").addEventListener("click",function(e){e.stopPropagation(),S.dataset.state="emotar"}),document.getElementById("emotarBackButton").addEventListener("click",function(e){S.dataset.state="usermenu"}),["sunglasses","thinking_face","heart_eyes","grin","sweat_smile","white_frowning_face","unamused","upside_down_face","relieved","nerd_face","weary","anguished","face_with_rolling_eyes","scream","smile","smirk","face_with_thermometer","face_with_head_bandage","panda_face","new_moon_with_face","tomato","full_moon_with_face","tennis","space_invader","monkey_face","tophat","lion_face","four_leaf_clover","shit","pig_nose","robot_face","mouse","mushroom","penguin","chestnut","koala","hamburger","jack_o_lantern","rabbit","lollipop","hamster","lemon","tv","gift","ghost","frog","eyes","dart","dark_sunglasses","chicken","cookie","grapes","bear","eggplant","alien","octopus","bread","dog","meat_on_bone","pizza"].forEach(function(e){var t=document.createElement("div"),n=document.createElement("img"),a=e.replace(/_\w/g,function(e){return e.charAt(1).toUpperCase()});a=h.I(a),t.classList.add("emotar"),t.dataset.name=e,n.src=Zeplin.urls.appURL+"/img/emotars/emotar"+a+".png",t.appendChild(n),j.appendChild(t)}),j.addEventListener("click",function(e){if(e.target.classList.contains("emotar")){var t=e.target.dataset.name;t="random"===t?null:t;var n=Object.assign({},Zeplin.user);n.emotar=t,a(n)}}),E.addEventListener("click",function(e){e.preventDefault(),S.classList.add("hidden"),L.classList.remove("hidden"),mixpanel.track("Opened pricing popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-pricing-popup"),ga("send","pageview","/pricing-popup")});var O;C.addEventListener("change",function(){clearTimeout(O),O=setTimeout(function(){i()},1e3)}),x.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(mixpanel.track("Logged out"),fetch(Zeplin.urls.baseURL+"/users/logout",{method:"POST",headers:Zeplin.headers}).then(o,o))});var I=new MutationObserver(function(e){e.forEach(function(e){if("class"===e.attributeName)if(e.target.classList.contains("hidden")){if(!e.oldValue||!e.oldValue.includes("hidden")){S.classList.remove("hasTransition"),S.dataset.state="usermenu";var t=j.querySelector(".selected").dataset.name;if(t="random"===t?null:t,Zeplin.user.emotar===t)return;p.e(t).then(function(){Zeplin.user.emotar=t,t?mixpanel.track("Updated emotar",{emoji:t}):mixpanel.track("Removed emotar")}).catch(function(e){a(Zeplin.user),b.b(e)})}}else e.oldValue&&e.oldValue.includes("hidden")&&(r(e.target.dataset.state),S.classList.add("hasTransition"));else"data-state"===e.attributeName&&r(e.target.dataset.state)})});document.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&S.classList.add("hidden")}),document.addEventListener("keydown",function(e){e.keyCode===Zeplin.KEY_CODE.ESC&&S.classList.add("hidden")}),window.addEventListener("storage",function(e){if(e.storageArea===localStorage&&"user"===e.key){var t=JSON.parse(e.newValue);t&&"registered"===t.status&&(S.querySelector(".userStatus").textContent="Not verified yet.")}}),Cookies.get("userToken")&&(I.observe(S,{attributes:!0,attributeOldValue:!0,attributeFilter:["class","data-state"]}),a(Zeplin.user),v.title=Zeplin.user.username,S.querySelector(".username").textContent=Zeplin.user.username,S.querySelector(".email").textContent=Zeplin.user.email,C.checked=void 0===Zeplin.user.emailNotifications||Zeplin.user.emailNotifications,"registered"===Zeplin.user.status&&(S.querySelector(".userStatus").textContent="Not verified yet.","dismissed"!==sessionStorage.getItem("verificationBannerStatus")&&g.b({content:"Your email is not verified yet. Please check your inbox.",group:"verification",closeCallback:function(){sessionStorage.setItem("verificationBannerStatus","dismissed")}})),fetch(Zeplin.urls.baseURL+"/organizations",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw b.a(e.status,t)})}).then(function(e){e.organizations.length&&(l(!1),e.organizations.forEach(m))}).catch(function(){}),window.Notification?(w.addEventListener("change",function(){if("denied"===Notification.permission)return w.checked=!1,void f.a({message:"You need to enable notifications from browser settings."});"default"===Notification.permission&&w.checked?Notification.requestPermission(function(e){y.c.set("notificationStatus","granted"===e).then(function(e){w.checked=e})}):y.c.set("notificationStatus",w.checked)}),y.c.get("notificationBannerStatus").then(function(e){"default"===Notification.permission&&e&&g.b({content:"Zeplin needs your permission to <a href='#'>enable desktop notifications</a>",contentType:"html",group:"notification",closeCallback:function(){y.c.set("notificationBannerStatus",!1)},bodyCallbacks:{a:function(e){e.preventDefault(),g.a("notification"),Notification.requestPermission(function(e){y.c.set("notificationStatus","granted"===e).then(function(e){w.checked=e})})}}})})):w.closest(".menuItem").classList.add("hidden"),function(e){e.bind("UpdateUsername",function(e){var t=e.body.username;v.title=t,S.querySelector(".username").textContent=t}),e.bind("UpdateEmail",function(e){S.querySelector(".email").textContent=e.body.email}),e.bind("UpdateUserEmotar",function(e){c(e.body)}),e.bind("UpdateUserAvatar",function(e){c(e.body)}),e.bind("VerifyUser",function(){S.querySelector(".userStatus").textContent=""}),e.bind("UpdateEmailNotifications",function(e){C.checked=e.body.emailNotifications}),e.bind("CreateOrganization",function(e){m(e.body),l(!1)}),e.bind("InviteOrganizationMembers",function(e){m(e.body),l(!1)})}(p.f),p.c.bind("UpdateOrganizationLogo",function(e){var t=s(e.params.oid);t?d(t.querySelector(".organizationLogo"),e.body.logo):p.c.unsubscribe("private-organization@"+e.params.oid)}),p.c.bind("UpdateOrganizationName",function(e){var t=s(e.params.oid);t?t.querySelector(".organizationName").textContent=e.body.name:p.c.unsubscribe("private-organization@"+e.params.oid)}),p.c.bind("RemoveMemberFromOrganization",function(e){if(e.params.mid===Zeplin.user._id){p.c.unsubscribe("private-organization@"+e.params.oid);var t=s(e.params.oid);t&&(t.previousElementSibling.remove(),t.remove(),l(!_.childElementCount))}}))},function(e,t,n){"use strict";function a(e,t){return{get:function(n){return o.a.get(e,t,n)},set:function(n,a){return o.a.set(e,t,n,a)}}}var i=n(127),o=n(10);class r extends i.a{static get manifest(){return{}}static updateOptions(e){return e}static load(e){var t=this,n=t.manifest,i=a(n.id,e.id),o=n.options.reduce(function(e,t){return e[t.id]=t.default,e},{});return Promise.all(n.options.map(function(e){var t=e.id;return i.get(t).then(function(e){return[t,e]})})).then(function(n){var a=n.reduce(function(e,t){return void 0!==t[1]&&null!==t[1]&&(e[t[0]]=t[1]),e},{});return Object.assign(o,a),o=t.updateOptions(o),new t(i,o,e)})}get id(){return this.constructor.manifest.id}get name(){return this.constructor.manifest.name}get optionsSchema(){return this.constructor.manifest.options}get options(){return this._options}setOption(e,t){this._options[e]=t,this._storage.set(e,t)}getOption(e){return this._options[e]}styleguideColors(e){return null}styleguideTextStyles(e){return null}layer(e){return null}comment(e){return null}exportStyleguideColors(e){return null}exportStyleguideTextStyles(e){return null}}t.a=r},,function(e,t,n){"use strict";var a=n(37);t.a=a.a},function(e,t,n){"use strict";var a=n(3),i=n.n(a),o=n(38);n.n(o);class r extends i.a.Component{shouldComponentUpdate(){return!1}componentWillReceiveProps(e){e.class!==this.props.class&&(this.rippleElement.classList.remove(this.props.class),this.rippleElement.classList.add(e.class))}componentDidMount(){this.rippleElement=document.createElement("paper-ripple"),this.props.class&&this.rippleElement.classList.add(this.props.class),this.base.appendChild(this.rippleElement)}render(){return i.a.h("div",{class:"rippleContainer"})}}t.a=r},function(e,t){},,,,function(e,t,n){"use strict";function a(e){clearTimeout(m.get(e)),m.delete(e)}function i(e){function t(){a(e.target),m.set(e.target,setTimeout(function(){e.target.removeEventListener("mouseleave",t),e.target.classList.remove("tooltipShown"),n.remove()},d))}if(e.target.classList.contains("tooltipShown"))a(e.target);else{var n=document.createElement("div");n.classList.add("tooltip","invisible");var i=e.target.dataset.tooltip;switch(e.target.dataset.tooltipType){case"html":n.innerHTML=s.H(i);break;case"text":default:n.textContent=i}e.target.classList.add("tooltipShown");var o=e.target.getBoundingClientRect();n.style.top=o.bottom-c+"px",n.style.left=o.left+o.width/2+"px",e.target.addEventListener("mouseleave",t),e.target.addEventListener("click",t),n.addEventListener("mouseenter",function(){a(e.target),n.addEventListener("mouseleave",t),n.addEventListener("click",function(e){e.stopPropagation()})}),document.body.appendChild(n);var r=n.getBoundingClientRect();r.left<l?(n.style.left=l+"px",n.classList.add("overflown")):r.right+l>window.innerWidth&&(n.style.left=window.innerWidth-l-r.width+"px",n.classList.add("overflown")),r.bottom+l>window.innerHeight&&(n.style.top=o.top-r.height+c+"px");var p=u;e.target.dataset.tooltipDelay&&(p=parseInt(e.target.dataset.tooltipDelay,10)),setTimeout(function(){n.classList.remove("invisible")},p)}}function o(e){e.removeAttribute("title"),e.addEventListener("mouseenter",i)}function r(e){if(e.nodeType===Node.ELEMENT_NODE){if(e.hasAttribute("data-tooltip"))return void o(e);Array.from(e.children).forEach(r)}}var s=n(0),l=12,c=2,u=500,d=200,m=new WeakMap;window.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("[data-tooltip]");Array.from(e).forEach(o);var t={attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0,attributeFilter:["data-tooltip"]};new MutationObserver(function(e){e.forEach(function(e){switch(e.type){case"attributes":null===e.oldValue?o(e.target):e.target.dataset.tooltip||e.target.removeEventListener("mouseenter",i);break;case"childList":Array.from(e.addedNodes).forEach(r)}})}).observe(document.body,t)})},function(e,t,n){"use strict";function a(){o.a.ipcRenderer.on("app-update-downloaded",function(e,t){r.a("appUpdate"),r.b({group:"appUpdate",content:"New version of Zeplin, "+t+" is here. <a href='#'>Restart</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a:function(e){e.preventDefault(),r.a("appUpdate"),o.a.ipcRenderer.send("restart-app")}},bannerCloseText:"Remind me later",closeCallback:function(){o.a.ipcRenderer.send("remind-update-later",t)},container:s,style:{zIndex:190}})})}function i(){o.a.ipcRenderer.on("plugin-update-downloaded",function(e,t){var n;t.plugin&&t.panel?n="plugin ("+t.plugin.remote+") and panel ("+t.panel.remote+")":t.plugin?n="plugin ("+t.plugin.remote+")":t.panel&&(n="panel ("+t.panel.remote+")"),r.a("pluginUpdate"),r.b({group:"pluginUpdate",content:"New version of Photoshop "+n+" is here. <a href='#'>Install</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a:function(e){e.preventDefault(),r.a("pluginUpdate"),o.a.ipcRenderer.send("install-plugin-update",t)}},bannerCloseText:"Remind me later",closeCallback:function(){o.a.ipcRenderer.send("remind-plugin-install-later",t)},container:s,style:{zIndex:190}})})}var o=n(9),r=n(11),s=document.querySelector("main");o.a&&(o.a.ipcRenderer.on("close-all-banners",function(){r.a("appUpdate"),r.a("pluginUpdate")}),a(),i())},function(e,t,n){"use strict";function a(e){fetch(Zeplin.urls.baseURL+"/organizations/"+e+"/members",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t})}).then(function(e){(se=e).members.forEach(function(e){e.tags.forEach(function(e){le[e]?le[e]+=1:le[e]=1})})})}function i(e){if(e.classList.contains("newUser")){if(!de.checkValidity()&&!/^\w{3,30}$/.test(de.value))return Q.L(de.parentElement),void(De=!0);ue.querySelector(".inputArea img").classList.remove("hidden")}else e.classList.remove("inviteRetry"),e.classList.add("inviteSpinner");if(e.classList.contains("newUser"))T(de.value,e);else if(e.classList.contains("user")){var t=ie.find(function(t){return t._id===e.dataset.uid});T(t.username||t.email,e)}else if(e.classList.contains("member")){var n=se.members.find(function(t){return t.user._id===e.dataset.mid});T(n.user.username||n.user.email,e)}else if(e.classList.contains("wildling")){var a=se.wildlings.find(function(t){return t.user._id===e.dataset.wid});T(a.user.username||a.user.email,e)}else e.classList.contains("inviteByTag")&&k(e.dataset.tag,e)}function o(e){ue.classList.contains("organizationProject")?r(e):s(e)}function r(e){var t=ye.querySelector(".invitee.selected");if(t){var n,a=Array.from(ye.querySelectorAll(".invitee:not(.hidden)")),i=a.findIndex(function(e){return e.classList.contains("selected")});if((n=e.keyCode===Zeplin.KEY_CODE.ArrowUp?i-1:i+1)>-1&&n<a.length){var o=a[n];t.classList.remove("selected"),o.classList.add("selected"),Q.A(o,ye)}}else{var r=ye.querySelector(".invitee:not(.hidden)");r&&(r.classList.add("selected"),Q.A(r,ye))}}function s(e){var t=me.querySelector(".selected");if(t){var n=e.keyCode===Zeplin.KEY_CODE.ArrowUp?t.previousElementSibling:t.nextElementSibling;n&&n.classList.contains("user")&&!n.classList.contains("hidden")&&(t.classList.remove("selected"),n.classList.add("selected"),Q.A(n))}else{var a=me.querySelector(".user:not(.hidden)");a&&(a.classList.add("selected"),Q.A(a))}}function l(){ue.classList.contains("organizationProject")?h():y()}function c(e,t,n){var a=(n=n||{}).importance||1;return n.skipExactMatch||!1||e!==t?e.startsWith(t)?8*a:e.includes(t)?4*a:0:16}function u(e,t){e.parentElement.classList.toggle(t,!e.childElementCount)||Array.from(e.querySelectorAll(".invitee")).forEach(function(t){t.classList.remove("hidden","selected"),e.appendChild(t)})}function d(e){return be.querySelector("[data-tag='"+e+"']")}function m(e){return Se.querySelector("[data-mid='"+e.user._id+"']")}function p(e){return Le.querySelector("[data-wid='"+e.user._id+"']")}function g(e,t,n,a){t.forEach(function(t){var a=n(t);a.classList.remove("hidden","selected"),e.appendChild(a)});for(var i=0;i<e.childElementCount-t.length;i++){var o=e.children[i];o.classList.add("hidden"),o.classList.remove("selected")}e.parentElement.classList.toggle(a,0===t.length)}function f(e,t,n){var a={},i=e.filter(function(e){if(re.has(e.user._id)){var i=n(e);if(!i)return!1;if(!i.classList.contains("inviteDone"))return!1}var o=0;return e.user.username&&(o+=c(e.user.username,t)),!!(o+=c(e.user.email,t,{skipExactMatch:!0,importance:.25}))&&(a[e.user._id]=o,!0)});return i.sort(function(e,t){return a[t.user._id]-a[e.user._id]}),i}function h(){v(".wildlingList .newUser"),v(".organizationInviteeList .userListTypedUserAlreadyAdded");var e,t,n=de.value.toLowerCase();if(ue.classList.remove("noNewInvitees","noInvitees"),ye.classList.remove("noTags","noMembers","hasMembersWithTag","noWildlings","writeAnEmailToInvite","showAddsToTheProjectOnlyInfo"),Ee.innerHTML="",de.placeholder="Invite with email/username",n){e=!!(t=oe.has(n))||ce.has(n);var a=Object.keys(le);a.sort();var i={},o=a.filter(function(e){var t=c(e.toLowerCase(),n);return!!t&&(i[e]=t,!0)}).sort(function(e,t){return i[t]-i[e]});g(be,o,d,"noTags");var r=f(se.members,n,m);g(Se,r,m,"noMembers");var s=d(o[0]);ye.classList.toggle("hasMembersWithTag",1===o.length&&(le[o[0]]>0||s&&s.classList.contains("inviteDone")))&&(je.textContent=o[0],Ee.innerHTML="",se.members.forEach(function(e){var t=m(e);if((!re.has(e.user._id)||t&&t.classList.contains("inviteDone"))&&e.tags.includes(o[0])){var n=j(e);n.querySelector(".invitee").classList.toggle("inviteDone",t&&t.classList.contains("inviteDone")),Ee.appendChild(n)}}));var l=f(se.wildlings,n,p);if(g(Le,l,p,"noWildlings"),e||n.includes("@")){if(!e){ye.classList.remove("noWildlings"),ye.classList.add("showAddsToTheProjectOnlyInfo");var h=document.importNode(ge.content,!0);h.querySelector(".invitee").classList.add("wildling"),h.querySelector(".inviteNewUserButtonText span").textContent=de.value,Le.appendChild(h)}}else ye.classList.add("writeAnEmailToInvite");if(t&&!ye.querySelector(".invitee.inviteDone")){var y=document.importNode(fe.content,!0);y.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),y.querySelector("span").textContent=de.value,ye.appendChild(y)}}else{if(u(be,"noTags"),ve.textContent){var b=Array.from(be.querySelectorAll(".inviteByTag")).map(function(e){return e.dataset.tag});b.sort(),b.forEach(function(e){var t=d(e);be.appendChild(t)});for(var S=be.firstElementChild,E=we;E<be.childElementCount;E++){var L=be.children[E];L.classList.add("hidden"),be.insertBefore(L,S)}be.childElementCount-we>0?(ve.textContent=be.childElementCount-we,ve.classList.toggle("multiple",be.childElementCount-we>1)):ve.textContent=""}u(Se,"noMembers"),u(Le,"noWildlings")}var D=ye.querySelectorAll(".invitee:not(.hidden)");if(D.length)D[0].classList.add("selected");else if(!t&&!ye.classList.contains("writeAnEmailToInvite")){var w=se.members.filter(function(e){return!re.has(e.user._id)}),C=se.wildlings.filter(function(e){return!re.has(e.user._id)});w.length+C.length===0&&G.length>1?ue.classList.add("noNewInvitees"):1===G.length&&(ue.classList.add("noInvitees"),de.placeholder="Invite with email")}}function y(){v(".userList .user.newUser"),v(".userList .userListTypedUserAlreadyAdded"),me.classList.remove("writeAnEmailToInvite"),de.placeholder="Invite with email/username";var e,t,n=de.value.toLowerCase(),a=document.importNode(fe.content,!0);if(n){e=!!(t=oe.has(n))||ae.has(n);var i={},o=ie.filter(function(e){var t=0;return e.username&&(t+=c(e.username,n)),(t+=c(e.email,n,{skipExactMatch:!0,importance:.25}))>0&&(i[e._id]=t,!0)}).sort(function(e,t){return i[t._id]-i[e._id]});o.forEach(function(e){var t=b(e._id);t.classList.remove("hidden","selected"),me.appendChild(t)});for(var r=0;r<ie.length-o.length;r++){var s=me.children[r].classList;s.add("hidden"),s.remove("selected")}}else ie.forEach(function(e){var t=b(e._id);t.classList.remove("hidden","selected"),me.appendChild(t)});if(n){if(e||n.includes("@")){if(!e){var l=document.importNode(ge.content,!0);l.querySelector(".invitee").classList.add("user"),l.querySelector(".inviteNewUserButtonText span").textContent=de.value,me.appendChild(l)}}else me.classList.add("writeAnEmailToInvite");t&&(a.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),a.querySelector("span").textContent=de.value,me.appendChild(a))}ue.classList.remove("noInvitees"),ue.classList.remove("noNewInvitees");var u=me.querySelectorAll(".user:not(.hidden)");u.length?u[0].classList.add("selected"):t||me.classList.contains("writeAnEmailToInvite")||(te.length?ue.classList.add("noNewInvitees"):(ue.classList.add("noInvitees"),de.placeholder="Invite with email"))}function b(e){return me.querySelector(".invitee[data-uid='"+e+"']")}function v(e){var t=document.querySelector(e);t&&t.remove()}function S(e,t,n){var a=document.importNode(he.content,!0),i=a.querySelector(".inviteByTag"),o=a.querySelector(".tagName"),r=a.querySelector(".memberCount");return i.classList.toggle("hidden",!!n),i.dataset.tag=e,o.textContent=e,o.title=e,r.textContent=t+(t>1?" members":" member"),a}function j(e){var t=document.importNode(pe.content,!0),n=t.querySelector(".invitee"),a=t.querySelector(".userImage"),i=t.querySelector(".username"),o=t.querySelector(".email"),r=t.querySelector(".organizationTags");n.classList.add("member"),n.dataset.mid=e.user._id,Q.C(a,e.user),e.user.username?(i.textContent=e.user.username,i.title=e.user.username,o.textContent=e.user.email,o.title=e.user.email):(i.textContent=e.user.email,i.title=e.user.email,o.textContent="Pending Invitation");var s=e.tags.join(", ");return r.textContent=s,r.title=s,t}function E(e){var t=document.importNode(pe.content,!0),n=t.querySelector(".invitee"),a=t.querySelector(".userImage"),i=t.querySelector(".username"),o=t.querySelector(".email"),r=t.querySelector(".inviteExtraInfo");return n.classList.add("wildling"),n.dataset.wid=e.user._id,Q.C(a,e.user),i.textContent=e.user.username,i.title=e.user.username,o.textContent=e.user.email,o.title=e.user.email,e.user.username||(r.textContent="Pending Invitation"),t}function L(e,t){var n=document.importNode(pe.content,!0),a=n.querySelector(".invitee"),i=n.querySelector(".userImage"),o=n.querySelector(".username"),r=n.querySelector(".inviteExtraInfo"),s=e.username||e.email;return a.classList.add("user"),Q.C(i,e),a.dataset.uid=e._id,o.textContent=s,o.title=s,e.username?n.querySelector(".email").textContent=e.email:r.textContent="Pending invitation",t&&a.classList.add("hidden"),n}function D(e){ne.has(e._id)||(te.push(e),ne.add(e._id),e.username&&ae.add(e.username),ae.add(e.email))}function w(e){re.add(e._id),e.username&&oe.add(e.username),oe.add(e.email)}function C(e){re.delete(e._id),e.username&&(oe.delete(e.username),ae.add(e.username)),oe.delete(e.email),ae.add(e.email),ie.some(function(t){return t._id===e._id})||ie.push(e)}function x(e){re.delete(e._id),ne.delete(e._id),e.username&&(oe.delete(e.username),ae.delete(e.username)),oe.delete(e.email),ae.delete(e.email),Q.c(ie,function(t){return t._id===e._id})}function k(e,t){fetch(Zeplin.urls.baseURL+"/organizations/"+se._id+"/projects/"+V+"/users",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({tag:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw ee.a(e.status,t)})}).then(function(e){_(e,t)}).catch(function(){t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),$.a({done:{cb:function(){Q.o(de),De=!0}}})})}function T(e,t){fetch(Zeplin.urls.baseURL+"/projects/"+V+"/users",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({handle:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw ee.a(e.status,t)})}).then(function(e){_(e,t)}).catch(function(e){ue.querySelector(".inputArea img").classList.add("hidden"),W()||t.classList.contains("newUser")?(De=!1,ee.b(e,{dialogCallback:function(){Q.o(de),De=!0}})):(t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),t.querySelector(".inviteExtraInfo").textContent=e.title)}).catch(function(){$.a({done:{cb:function(){Q.o(de),De=!0}}})})}function _(e,t){Q.o(de),ue.querySelector(".inputArea img").classList.add("hidden"),e.users?e.users.forEach(function(e){w(e.user)}):(w(e.user),t.classList.contains("user")&&D(e.user));var n=e.users?e.users:[e];if(Y.dispatchEvent(new CustomEvent("usersInvited",{detail:{users:n}})),ue.classList.contains("organizationProject")&&((e.users?e.users:[e]).forEach(function(e){var t=se.members.find(function(t){return t.user._id===e.user._id});t&&t.tags.forEach(function(e){le[e]-=1})}),Object.keys(le).forEach(function(e){var t=le[e],n=d(e);0===t?n.classList.add("inviteDone"):n.querySelector(".memberCount").textContent=t+(t>1?" members":" member")})),t.classList.remove("inviteSpinner"),t.classList.add("inviteDone"),e.users&&e.users.forEach(function(e){Array.from(ye.querySelectorAll(".member[data-mid='"+e.user._id+"']")).forEach(function(e){e.classList.add("inviteDone")})}),t.classList.contains("newUser"))if(t.remove(),t.classList.contains("user")){ie.push(e.user);var a=L(e.user);a.querySelector(".user").classList.add("inviteDone"),me.querySelector(".user.selected")||a.querySelector(".user").classList.add("selected"),O(a)}else{se.wildlings.push({user:e.user}),ce.add(e.user.email);var i=E(e);i.querySelector(".wildling").classList.add("inviteDone"),Le.querySelector(".wildling.selected")||i.querySelector(".wildling").classList.add("selected"),Le.appendChild(i)}}function q(e){Array.from(e.querySelectorAll(".invitee.inviteDone:not(.newUser)")).forEach(function(e){e.remove()})}function O(e){me.lastElementChild&&me.lastElementChild.classList.contains("user")?me.appendChild(e):me.insertBefore(e,me.lastElementChild)}function I(e){var t="private-project@"+e,n=X.c.channel(t)||X.c.subscribe(t);n.bind("InviteUser",function(e){N(e.params.pid,e.body)}),n.bind("CreateUser",function(e){R(e.params.pid,e.body)}),n.bind("RemoveUserFromProject",function(e){P(e.params.pid,e.params.mid)}),n.bind("DeleteUser",function(e){Zeplin.user._id!==e.params.uid&&M(e.params.uid)})}function A(e,t){t.forEach(function(e){D(e.user),Y&&!re.has(e.user._id)&&(ie.some(function(t){return t._id===e.user._id})||(ie.push(e.user),O(L(e.user))))}),W()||l()}function N(e,t){if(D(t),Y){V===e?(w(t),Q.c(ie,function(e){return e._id===t._id})):ie.some(function(e){return e._id===t._id})||ie.push(t);var n=de.value,a=b(t._id);if(V===e&&a){if(a.classList.contains("selected")&&me.querySelector(".user:not(.hidden)")&&(a.nextElementSibling&&a.nextElementSibling.classList.contains("user")?a.nextElementSibling.classList.add("selected"):a.previousElementSibling&&a.previousElementSibling.classList.contains("user")&&!a.previousElementSibling.classList.contains("hidden")&&a.previousElementSibling.classList.add("selected")),a.remove(),a.classList.contains("newUser")||!me.querySelector(".user:not(.hidden)")){var i=document.importNode(fe.content,!0);i.querySelector(".userListTypedUserAlreadyAdded").classList.add(de.value===Zeplin.user.username||de.value===Zeplin.user.email?"selfUser":"someUser"),i.querySelector("span").textContent=de.value,me.appendChild(i)}}else V!==e&&(a?a.classList.contains("newUser")&&(me.appendChild(L(t)),a.classList.contains("selected")&&(a.nextElementSibling&&a.nextElementSibling.classList.contains("user")?a.nextElementSibling.classList.add("selected"):a.previousElementSibling&&a.previousElementSibling.classList.contains("user")&&!a.previousElementSibling.classList.contains("hidden")&&a.previousElementSibling.classList.add("selected")),a.remove()):O(L(t,n&&!(t.username&&t.username.includes(n))&&!t.email.includes(n))))}}function F(e,t,n,a){var i=t(n),o=!(!de.value||n.user.username&&n.user.username.includes(de.value)||n.user.email.includes(de.value));i.querySelector(".invitee").classList.toggle("hidden",o),o?e.append(i):(e.insertBefore(i,e.querySelector(".invitee:not(.hidden)")),e.parentElement.classList.remove(a))}function P(e,t){if(V===e)if(ue.classList.contains("organizationProject")){var n,a,i=se.members.find(function(e){return e.user._id===t});i?(n=i,a=m(i),i.tags.forEach(function(e){le[e]?le[e]+=1:le[e]=1;var t=d(e);if(t)t.querySelector(".memberCount").textContent=le[e]+(le[e]>1?" members":" member"),t.classList.remove("inviteDone");else{var n=S(e,le[e]);n.querySelector(".invitee").classList.toggle("hidden",!!de.value&&!e.includes(de.value))?be.appendChild(n):be.insertBefore(S(e,le[e]),be.querySelector(".invitee:not(.hidden)"))}})):a=p(n=se.wildlings.find(function(e){return e.user._id===t})),re.delete(t),oe.delete(n.user.username),oe.delete(n.user.email);var o=ye.querySelector(".userListTypedUserAlreadyAdded");if(de.value===n.user.username&&o&&o.remove(),!Y)return;a?a.classList.remove("inviteDone"):i?F(Se,j,i,"noMembers"):F(Le,E,n,"noWildlings")}else{var r=te.find(function(e){return e._id===t});if(C(r),!Y)return;var s=de.value,l=b(r._id);l?l.classList.remove("inviteDone"):O(L(r,s&&!(r.username&&r.username.includes(s))&&!r.email.includes(s)))}}function R(e,t){var n=te.find(function(e){return e._id===t._id});if(n&&(Object.assign(n,t),Y)){var a=b(t._id);a&&(a.querySelector(".username").textContent=t.username,a.querySelector(".inviteExtraInfo").textContent="")}}function M(e){var t=Q.c(te,function(t){return t._id===e});if(t&&(x(t),Y)){var n=b(t._id);n&&(me.removeChild(n),n.classList.contains("selected")&&me.querySelector(".user:not(.hidden)")&&me.querySelector(".user:not(.hidden)").classList.add("selected"))}}function B(e,t){X.f.bind("InviteUser",function(e){A(e.params.pid,e.body.users)}),e.forEach(I),t&&a(t)}function U(e,t,n,a){ue.classList.toggle("organizationProject",!!a),a?z(e,t,n):H(e,t,n)}function z(e,t,n){if(t!==V){me.innerHTML="",be.innerHTML="",ve.textContent="",Se.innerHTML="",Le.innerHTML="",oe=new Set,re=new Set,ce=new Set,Y=e,V=t,(G=n).forEach(function(e){w(e.user)}),se.members.forEach(function(e){re.has(e.user._id)?e.tags.forEach(function(e){le[e]-=1,0===le[e]&&delete le[e]}):(ce.add(e.user.username).add(e.user.email),Se.appendChild(j(e)))}),ye.classList.toggle("noMembers",!Se.childElementCount);var a=Object.keys(le);a.sort(),a.forEach(function(e){be.appendChild(S(e,le[e],!1))});var i=a.length-we;i>0&&(ve.textContent=i,ve.classList.toggle("multiple",i>1)),ye.classList.toggle("noTags",!a.length),se.wildlings.forEach(function(e){re.has(e.user._id)||(ce.add(e.user.username).add(e.user.email),Le.appendChild(E(e)))}),ye.classList.toggle("noWildlings",!Le.childElementCount)}else Object.keys(le).forEach(function(e){0===le[e]&&delete le[e]}),J&&new Date-J>1e4&&(ve.textContent=Object.keys(le).length-we,ve.classList.toggle("multiple",Object.keys(le).length-we>1)),q(be),q(Se),q(Le);J=0,e.appendChild(ue),e.getBoundingClientRect().right+80>window.innerWidth&&ue.classList.add("left"),h(),ue.classList.remove("hidden"),ye.scrollTop=0,de.focus()}function H(e,t,n){t!==V?(me.innerHTML="",be.innerHTML="",ve.textContent="",Se.innerHTML="",Le.innerHTML="",ie=[],oe=new Set,re=new Set,Y=e,V=t,(G=n).forEach(function(e){w(e.user)}),te.forEach(function(e){re.has(e._id)||(ie.push(e),e.username&&ae.add(e.username),ae.add(e.email))}),ie.forEach(function(e){me.appendChild(L(e))})):(q(me),re.forEach(function(e){Q.c(ie,function(t){return t._id===e})})),e.appendChild(ue),e.getBoundingClientRect().right+80>window.innerWidth&&ue.classList.add("left"),y(),ue.classList.remove("hidden"),me.scrollTop=0,de.focus()}function Z(){ue.classList.add("hidden"),ue.classList.remove("left"),ue.querySelector(".inputArea img").classList.add("hidden"),de.value="",de.dispatchEvent(new Event("input")),De=!0,J||(J=new Date)}function W(){return ue.classList.contains("hidden")}n.d(t,"b",function(){return B}),n.d(t,"e",function(){return U}),n.d(t,"a",function(){return Z}),n.d(t,"c",function(){return W}),n.d(t,"d",function(){return P});var Y,V,G,J,K=n(45),X=(n.n(K),n(8)),$=n(2),Q=n(0),ee=n(1),te=[],ne=new Set,ae=new Set,ie=[],oe=new Set,re=new Set,se={},le={},ce=new Set,ue=document.getElementById("inviteUserPopup"),de=document.getElementById("inviteeHandle"),me=ue.querySelector(".userList"),pe=document.getElementById("inviteeTemplate"),ge=document.getElementById("inviteNewUserTemplate"),fe=document.getElementById("typedUserAlreadyAddedTemplate"),he=document.getElementById("inviteByTagTemplate"),ye=document.querySelector(".organizationInviteeList"),be=document.querySelector(".tagList"),ve=document.querySelector(".showRemainingTags"),Se=document.querySelector(".memberList"),je=document.querySelector(".membersWithTagHeader"),Ee=document.querySelector(".membersWithTagList"),Le=document.querySelector(".wildlingList"),De=!0,we=3;fetch(Zeplin.urls.baseURL+"/users/acquaintances",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw ee.a(e.status,t)})}).then(function(e){te=e.acquaintances,ne=new Set(te.map(function(e){return e._id}))}).catch(function(){}),function(){function e(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".invitee");!t||t.classList.contains("inviteDone")||t.classList.contains("inviteSpinner")||!e.target.classList.contains("action")&&!e.target.closest(".inviteNewUserButton")||(e.stopPropagation(),i(t))}}de.addEventListener("input",function(){de.parentElement.classList.toggle("typed",!!de.value),De=!0,l(),Y&&Y.dispatchEvent(new CustomEvent("listRefreshed"))}),ue.addEventListener("click",function(e){e.stopPropagation()}),ue.addEventListener("contextmenu",function(e){e.stopPropagation()}),me.addEventListener("click",e),ye.addEventListener("click",e);var t,n;ue.addEventListener("mouseenter",function(e){t=e.clientX,n=e.clientY}),ue.addEventListener("mousemove",function(e){if(e.stopPropagation(),t!==e.clientX||n!==e.clientY){var a=ue.querySelector(".selected");a&&a.classList.remove("selected"),e.target.closest(".invitee")&&(e.target.closest(".invitee").classList.add("selected"),t=e.clientX,n=e.clientY)}}),document.addEventListener("keydown",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:Z();break;case Zeplin.KEY_CODE.ENTER:if(W()||!De)break;var t=ue.querySelector(".selected");if(!t||t.classList.contains("inviteDone")||t.classList.contains("inviteSpinner"))break;De=!1,i(t);break;case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:if(W())break;De=!0,e.preventDefault(),o(e)}}),ve.addEventListener("click",function(e){e.stopPropagation(),ve.textContent="",Array.from(be.querySelectorAll(".inviteByTag.hidden")).forEach(function(e){e.classList.remove("hidden"),be.appendChild(e)})})}()},function(e,t){function n(e){var t=parseInt(e.dataset.maxFontSize,10),n=parseInt(e.dataset.minFontSize,10),a=t,i=document.createElement("canvas").getContext("2d");e.addEventListener("input",function(){if(e.value){if(i.font=a+"px Roboto",i.measureText(e.value).width>e.clientWidth&&a>n)for(;i.measureText(e.value).width>e.clientWidth&&a>n;)a-=.2,i.font=a+"px Roboto";else if(i.measureText(e.value).width<=e.clientWidth&&a<t)for(;i.measureText(e.value).width<=e.clientWidth&&a<t;)a+=.2,i.font=a+"px Roboto"}else a=t;e.style.fontSize=a+"px"})}window.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("input[data-elastic-font-size]");Array.from(e).forEach(n)})},function(e,t,n){"use strict";function a(e,t,n){n=n?n+";"+u:u,ga("legacyTracker.send","timing",c,e,t,n)}function i(e,t){(t=t||{}).end?l.measure(e,t.start,t.end):t.start?l.measure(e,t.start):l.measure(e);var n=l.getEntriesByName(e);if(n.length){var i=n[n.length-1],o=t.labels,r=t.minTime||0;o&&(o=Object.keys(o).map(function(e){return e+":"+o[e]},[]).join(";")),i.duration>r&&a(e,Math.round(i.duration),o),l.clearMeasures(e)}}function o(){m||(m=!0,i("page.timeToFirstInteraction"))}function r(){i("page.domContentLoaded",{start:"navigationStart",end:"domContentLoadedEventStart"})}function s(){}var l=window.performance,c="JS_Timing",u="version:6.18.2;page:"+location.pathname.match(/\/(\w+)(.html)?/)[1],d=1,m=!1,p=!1;window.addEventListener("load",function(){p=!0});var g,f,h,y;l&&l.mark&&l.measure&&l.timing&&l.getEntriesByName?(g=function(){var e="_mark_"+d;return l.mark(e),d++,e},f=i,h=function(){p?r():window.addEventListener("load",r)},y=function(){document.addEventListener("click",function e(t){o(),document.removeEventListener("click",e,!0)},!0),document.addEventListener("scroll",function e(t){o(),document.removeEventListener("scroll",e,!0)},!0)}):(g=s,f=s,h=s,y=s),t.a={mark:g,measure:f,measurePageDefaults:h,measureFirstInteraction:y}},function(e,t,n){"use strict";function a(e){o=e}function i(e,t){s.dataset.pid=e,s.dataset.projectName=t,s.showModal()}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var o,r=n(2),s=document.getElementById("deleteProjectDialog"),l=document.getElementById("projectNameInput"),c=document.getElementById("deleteProjectDialogCancelButton"),u=document.getElementById("deleteProjectDialogDoneButton");r.b.registerDialog(s),l.addEventListener("input",function(){s.querySelector("button.done").disabled=l.value!==s.dataset.projectName,l.setCustomValidity(l.value===s.dataset.projectName?"":"Project name doesn't match provided value")}),c.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&s.close()}),s.addEventListener("close",function(){l.value="",l.setCustomValidity(""),l.parentElement.classList.remove("typed"),s.querySelector("button.done").disabled=!0}),l.addEventListener("keydown",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),e.stopPropagation(),l.value===s.dataset.projectName&&(s.close(),o(s.dataset.pid))}}),u.addEventListener("click",function(){l.value===s.dataset.projectName&&(s.close(),o(s.dataset.pid))})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a="    Generated by Zeplin\n    Copyright (C) "+(new Date).getFullYear()+' - present Zeplin\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n'},,,function(e,t,n){"use strict";function a(e,t,n){var a=Object.assign({},e);if(a.type=a.fillType,delete a.fillType,"color"===a.type)a.color=new o.a(a.color),delete a.gradient;else{if("gradient"!==a.type)throw new TypeError("Unknown fill type: '"+a.type+"'. Possible values: "+JSON.stringify(s));a.gradient=new r.a(a.gradient,t,n),delete a.color}Object.defineProperties(this,{type:{get:function(){return a.type},set:function(e){if(-1===s.indexOf(e))throw new TypeError("Unknown fill type: '"+e+"'. Possible values: "+JSON.stringify(s));a.type=e}},color:{get:function(){return a.color},set:function(e){a.type="color",a.color=new o.a(e),delete a.gradient}},gradient:{get:function(){return a.gradient},set:function(e){a.type="gradient",a.gradient=new r.a(e,t,n),delete a.color}},opacity:{get:function(){return a.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");a.opacity=e}},blendMode:{get:function(){return a.blendMode},set:function(e){if(-1===i.a.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(i.a));a.blendMode=e}},fill:{get:function(){return"color"===a.type?this.color:this.gradient},set:function(){}}})}t.a=a;var i=n(12),o=n(17),r=n(92),s=["color","gradient"];a.prototype.toBackgroundImage=function(e){return"color"===this.type?this.color.toGradient(e):this.gradient.toCSS(e)},a.prototype.toCSS=function(e){var t={};return"color"===this.type?t["background-color"]=this.color.toCSS(e):t["background-image"]=this.gradient.toCSS(e),"normal"!==this.blendMode&&(t["background-blend-mode"]=this.blendMode),t}},function(e,t,n){"use strict";function a(e){return e=e.replace(/_/g," "),i.a.find(function(t){return t.aliases.includes(e)})}var i=n(101),o=n(0);t.a={addCustomEmojis:function(e){var t={};Object.keys(e).forEach(function(n){var o=e[n];if(n=n.replace(/_/g," "),o.startsWith("alias:"))t[n]=o.substring(6);else{var r=a(n);r?r.aliases.push(n):i.a.push({emoji:o,aliases:[n],customEmoji:!0})}}),Object.keys(t).forEach(function(e){var n=a(t[e]);n&&n.aliases.push(e)})},getSuggestedEmojis:function(e){var t=[];return e=e.toLowerCase().replace(/_/g," ").trim(),i.a.forEach(function(n){for(var a=0;a<n.aliases.length;a++)if(Object(o.G)(n.aliases[a],e)||n.aliases[a].startsWith(e))return void t.push({emoji:n.emoji,alias:n.aliases[a],customEmoji:n.customEmoji})}),t},searchEmoji:a}},function(e,t,n){"use strict";function a(e){m&&!m.classList.contains("hidden")&&i(),f=e.cb.autoComplete,m=e.elements.suggestedListContainer,p=m.querySelector(".suggestedListBox"),g=e.elements.textContainer,y=e.index,b=e.list,u=0,d=0,m.classList.remove("hidden");var t=p.querySelector(".suggestedItem[data-index='"+y+"']");t.classList.add("selected"),h.A(t),v||(v=!0,l(),g.addEventListener("keydown",o,!0))}function i(){if(v&&(g.removeEventListener("keydown",o,!0),p.removeEventListener("mousemove",r),p.removeEventListener("click",o)),m&&!m.classList.contains("hidden")){var e=p.querySelector(".suggestedItem.selected");e&&e.classList.remove("selected"),m.classList.add("hidden"),m.innerHTML="",p.innerHTML="",g=null,v=!1,b=[],y=0}}function o(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),f(b[p.querySelector(".suggestedItem.selected").dataset.index]);break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),i();break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),y<b.length-1&&c(++y);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),y>0&&c(--y)}}function r(e){if(e.stopPropagation(),u!==e.clientX||d!==e.clientY){var t=e.target.closest(".suggestedItem");t.classList.contains("selected")||c(t.dataset.index),u=e.clientX,d=e.clientY}}function s(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest(".suggestedItem");f(b[t.dataset.index])}function l(){p.addEventListener("mousemove",r),p.addEventListener("click",s)}function c(e){y=e;var t=p.querySelector(".suggestedItem.selected");t&&t.classList.remove("selected");var n=p.querySelector(".suggestedItem[data-index='"+y+"']");n&&(n.classList.add("selected"),h.A(n))}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var u,d,m,p,g,f,h=n(0),y=0,b=[],v=!1},function(e,t,n){"use strict";var a=n(120),i=n(122);n.d(t,"a",function(){return a.a}),n.d(t,"b",function(){return i.a})},function(e,t,n){"use strict";var a={LOAD_EXTENSION:"LOAD_EXTENSION",UPDATE_OPTION:"UPDATE_OPTION"};t.a=a},function(e,t,n){"use strict";var a=n(121);n.n(a);t.a=new a.Dispatcher},function(e,t,n){"use strict";function a(e){var t=e;return e=function(){var e=Array.from(arguments);return new(Function.prototype.bind.apply(t,[null].concat(e)))},e.prototype=t.prototype,e.getStores=t.getStores,e.calculateState=t.calculateState,e}n.d(t,"a",function(){return o});var i=n(123);n.n(i);n.o(i,"ReduceStore")&&n.d(t,"b",function(){return i.ReduceStore});var o={create:function(e,t){return i.Container.create(a(e),t)},createFunctional:function(){return i.Container.createFunctional.apply(i.Container,arguments)}}},function(e,t,n){"use strict";function a(e,t,n){var a=t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\\/g,"\\").replace(/(["'])/g,"\\$1"),i="";return e.startsWith("swift")?(n&&(i=", attributes: "+n),'let attributedString = NSMutableAttributedString(string: "'+a+'"'+i+")"):"objc"===e?(n&&(i=" attributes:"+n),'NSMutableAttributedString *attributedString = [[NSMutableAttributedString alloc] initWithString:@"'+a+'"'+i+"];"):void 0}function i(e){return"range: NSRange(location: "+e.start+", length: "+(e.end-e.start)+"))"}function o(e){return"range:NSMakeRange("+e.start+", "+(e.end-e.start)+")];"}function r(e,t){var n,a,i;if("osx"===e.type?(n="NSColor",a="calibratedWhite",i="calibratedRed"):"ios"===e.type&&(n="UIColor",a="white",i="red"),t.name)return n+"."+((e.prefix||"")+(e.prefix?b.I(t.name):b.t(t.name)));var o=n+"(";return t.r===t.g&&t.g===t.b?o+=a+": "+b.v(t.r):o+=i+": "+b.v(t.r)+"green: "+b.v(t.g)+"blue: "+b.v(t.b),o+="alpha: "+S.format(t.a)+")"}function s(e,t){var n,a,i;if("osx"===e.type?(n="NSColor",a="colorWithCalibratedWhite",i="colorWithCalibratedRed"):"ios"===e.type&&(n="UIColor",a="colorWithWhite",i="colorWithRed"),t.name)return"["+n+" "+((e.prefix?e.prefix+"_":"")+b.t(t.name)+"Color")+"]";var o="["+n+" ";return t.r===t.g&&t.g===t.b?o+=a+":"+b.u(t.r):o+=i+":"+b.u(t.r)+"green:"+b.u(t.g)+"blue:"+b.u(t.b),o+="alpha:"+S.format(t.a)+"f]"}function l(e,t,n,a){var l;return t.startsWith("swift")?l="attributedString.addAttribute("+("swift4"===t?".foregroundColor":"NSForegroundColorAttributeName")+", value: "+r(e,n)+", "+i(a):"objc"===t&&(l="[attributedString addAttribute:NSForegroundColorAttributeName value:"+s(e,n)+" "+o(a)),l}function c(e,t,n,a){var i;return"osx"===e.type?i="NSFont":"ios"===e.type&&(i="UIFont"),a.name?i+"."+((e.prefix||"")+Object(v.a)(a.name,e.prefix?"upperCamelCase":"camelCase")+"Font()"):a.generateFontValueForAddAttributeWithSwift({platform:e.type,deploymentTarget:n,densityDivisor:e.densityDivisor,prefix:e.prefix,type:t})}function u(e,t,n){var a;return"osx"===e.type?a="NSFont":"ios"===e.type&&(a="UIFont"),n.name?"["+a+" "+((e.prefix?e.prefix+"_":"")+Object(v.a)(n.name,"camelCase")+"Font")+"]":n.generateFontValueForAddAttributeWithObjC({platform:e.type,deploymentTarget:t,densityDivisor:e.densityDivisor,prefix:e.prefix})}function d(e,t,n,a,r){var s;return t.startsWith("swift")?s="attributedString.addAttribute("+("swift4"===t?".font":"NSFontAttributeName")+", value: "+c(e,t,n,a)+", "+i(r):"objc"===t&&(s="[attributedString addAttribute:NSFontAttributeName value:"+u(e,n,a)+" "+o(r)),s}function m(e,t,n){var a;return e.startsWith("swift")?a="attributedString.addAttribute("+("swift4"===e?".kern":"NSKernAttributeName")+", value: "+j.format(t)+", "+i(n):"objc"===e&&(a="[attributedString addAttribute:NSKernAttributeName value:@("+j.format(t)+") "+o(n)),a}function p(e,t,n,a){var i=[];if(a.font){var o="swift4"===t?".font":"NSFontAttributeName";i.push("  "+o+": "+c(e,t,n,a.font))}if(a.color){var s="swift4"===t?".foregroundColor":"NSForegroundColorAttributeName";i.push("  "+s+": "+r(e,a.color))}if(a.letterSpacing||0===a.letterSpacing){var l="swift4"===t?".kern":"NSKernAttributeName";i.push("  "+l+": "+j.format(a.letterSpacing))}return"[\n"+i.join(",\n")+"\n]"}function g(e,t,n){var a=[];return n.font&&a.push("  NSFontAttributeName: "+u(e,t,n.font)),n.color&&a.push("  NSForegroundColorAttributeName: "+s(e,n.color)),(n.letterSpacing||0===n.letterSpacing)&&a.push("  NSKernAttributeName: @("+j.format(n.letterSpacing)+")"),"@{\n"+a.join(",\n")+"\n}"}function f(e,t,n,a){var i={font:a,color:a.color,letterSpacing:a.letterSpacing};return e.startsWith("swift")?p(t,e,n,i):"objc"===e?g(t,n,i):void 0}function h(e,t,n,a,r){var s;return t.startsWith("swift")?s="attributedString.addAttributes("+p(e,t,n,a)+", "+i(r):"objc"===t&&(s="[attributedString addAttributes:"+g(e,n,a)+" "+o(r)),s}function y(e,t,n,a){var i={};if(!t.color.equals(n.color)){var o;o=a[t.color.toCSS()]?{name:a[t.color.toCSS()]}:t.color,i.color=o}if(t.fontFace!==n.fontFace||t.fontSize!==n.fontSize){var r=e.findTextStyleEqual(t);i.font=r?{name:r.name}:t}return t.letterSpacing!==n.letterSpacing&&(i.letterSpacing=t.letterSpacing||0),i}var b=n(0),v=n(15),S=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2}),j=S;t.a=function(e,t,n,i,o,r){var s,c=t.getDefaultTextStyle(),u=e.getColorMapByFormat();r&&(s=f(i,e,o,c));var p=[a(i,t.content,s)];if(n.forEach(function(t){if(-1!==t.groupId){var n=y(e,t.font,c,u);1===Object.keys(n).length?n.color?p.push(l(e,i,n.color,t.range)):n.font?p.push(d(e,i,o,n.font,t.range)):(n.letterSpacing||0===n.letterSpacing)&&p.push(m(i,n.letterSpacing,t.range)):Object.keys(n).length>1&&p.push(h(e,i,o,n,t.range))}}),p.length>1)return p.join("\n")}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(){var e=Nr.a.features.versions?{name:Md.name,width:Bd.snapshot.width,height:Bd.snapshot.height,url:Bd.snapshot.url}:{name:Md.name,currentSnapshot:{width:Bd.snapshot.width,height:Bd.snapshot.height,url:Bd.snapshot.url}};Nr.a.ipcRenderer.send("open-popout",e,sr.id)}function i(){Array.from(document.querySelectorAll(".sidebarOptionsButton")).forEach(Wo),Array.from(document.querySelectorAll(".exportOptionsMenu")).forEach(function(e){e.remove()})}function o(){if(Mt(),Bt(),Rt(),ym){var e=cr?_r.J("organization-projects",{url:{oid:cr._id}}):_r.J("projects");"dashboard"===Hd&&"styleguide"===Hd&&(Rs.href=e),Nr.a.ipcRenderer.send("preload-url",e)}}function r(e,t){function n(t){return r=(r+1)%9999,t.animate([{transform:"scaleX(0)",zIndex:r},{transform:"scaleX(1)",zIndex:r}],{duration:e,fill:"forwards",easing:"cubic-bezier(0.165, 0.84, 0.44, 1.0)"})}function a(e){n(i[e]).addEventListener("finish",function(){s?l||(n(o),l=!0):a((e+1)%i.length)})}var i=Array.from(t.querySelectorAll(".loadingBar")),o=t.querySelector(".whiteBar"),r=1,s=!1,l=!0;return{start:function(){l&&(s=!1,l=!1,a(0))},stop:function(){s||(s=!0)}}}function s(e,t){if(Nr.a)Nr.a.shell.openExternal(e);else{var n=!0;t&&"inNewTab"in t&&(n=t.inNewTab);var a=window.location;if(n){var i=window.open("","_blank");i.opener=null,a=i.location}a.assign(e)}}function l(e){return"invited"===e.user.status?"Pending Invitation":Tm[e.role]||""}function c(e){return e=_r.I(e),"<img src='"+Zeplin.urls.appURL+"/img/ic"+e+".png' srcset='"+Zeplin.urls.appURL+"/img/ic"+e+"@2x.png 2x, "+Zeplin.urls.appURL+"/img/ic"+e+"@3x.png 3x' alt=''>"}function u(e,t){return"Your organization role is "+l(e)+" "+c(e.role)+", only "+Tm.rook+"s or higher can "+t}function d(e,t){var n=u(e,t);return _r.h("<p>"+n+"</p><p><a href='https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members' target='_blank'>Learn more</a> about roles or contact organization Admins to update your role!</p>")}function m(e){var t=document.importNode(_m.content,!0),n=t.querySelector(".member");_r.C(t.querySelector(".memberImage"),e.user),n.dataset.id=e.user._id,n.dataset.role=e.role,n.dataset.user=Zeplin.user._id===e.user._id?"own":"",n.dataset.status=e.user.status,t.querySelector(".memberName").textContent=e.user.username||e.user.email,t.querySelector(".memberName").title=e.user.username||e.user.email,t.querySelector(".memberRole").textContent=l(e),t.querySelector(".memberActionsButton").classList.toggle("hidden","owner"===e.role||_r.x.isSuperior(e,lr)),Vs.appendChild(t)}function p(e){Ys.classList.toggle("lonely",1===e.length),fr=new RegExp("@(?:everyone|all|tutti|"+e.filter(function(e){return e.user.username}).map(function(e){return e.user.username}).join("|")+")\\b","gi"),Vs.innerHTML="",e.forEach(m),ts.checkStatus()}function g(e){var t=e.match(/\/project\/([0-9a-z]+)(?:\/screen\/([0-9a-z]+))?/i);if(t){var n={pid:decodeURIComponent(t[1])};return t[2]&&(n.sid=decodeURIComponent(t[2])),n}}function f(e){e.forEach(function(e){e.versions=[e.latestVersion],delete e.latestVersion})}function h(){var e=g(location.pathname);e||Z(),Nd=e,location.search&&Object.assign(Nd,_r.w(location.search))}function y(){localStorage.setItem("slackState",qm)}function b(e){var t={scope:"incoming-webhook,emoji:read,links:read,links:write",client_id:"2330702581.8730394641",redirect_uri:_r.J("huggingSlack",{query:{pid:e.id}}),state:qm},n=[];for(var a in t)n.push(a+"="+encodeURIComponent(t[a]));return"https://slack.com/oauth/authorize?"+n.join("&")}function v(e){if(e&&e.length&&Md&&Md.dots){var t=e.some(function(e){return"open"===X(e)});t&&"open"!==_a()?qa("open",!0):t||"resolved"===_a()||qa("resolved",!0);var n=_a();e.forEach(function(e){var t=document.querySelector(".dot[data-id='"+e+"']");t&&X(e)===n&&t.classList.add("highlight")}),document.querySelector(".dot.highlight")||kr.a({message:"Notes not available anymore."})}}function S(e){if(e&&e.length)if(Array.isArray(e)){var t,n=Ud.comments.length;if(e.forEach(function(e){var a=xc.querySelector(".comment[data-id='"+e+"']");a&&a.classList.add("highlight");var i=Array.from(a.parentElement.children).indexOf(a);i<n&&(n=i,t=a)}),t){var a=Dc.getBoundingClientRect().top,i=t.getBoundingClientRect().top-a;setTimeout(function(){"scrollBy"in Element.prototype?xc.scrollBy({top:i-24,behavior:"smooth"}):xc.scrollTop+=i-24},200)}else kr.a({message:"Comments not available anymore."})}else{var o="string"==typeof e?xc.querySelector(".comment[data-id='"+e+"']"):e;if(!o)return void kr.a({message:"Comment not available anymore."});o.classList.add("new"),o.scrollIntoView(),setTimeout(function(){o.classList.add("highlight"),setTimeout(function(){o.classList.remove("highlight"),o.addEventListener("transitionend",function e(){o.removeEventListener("transitionend",e),o.classList.remove("new")})},1e3)},150)}}function j(e){if(e&&Pd){E();var t,n=sr.screens.length;if(e.forEach(function(e){var a=se(e);if(a){a.querySelector(".screenLink").classList.add("highlight");var i=parseInt(a.dataset.index,10);i<n&&(n=i,t=a)}}),Array.from(new Set(e)).map(function(e){return sr.findScreenSection(e)}).filter(function(e){return!!e}).forEach(function(e){an(bn(e._id),!1)}),t){var a=t.getBoundingClientRect().top;setTimeout(function(){"scrollBy"in Element.prototype?ys.scrollBy({top:a-150,behavior:"smooth"}):ys.scrollTop+=a-150},200)}else kr.a({message:"Screens not available anymore."})}}function E(){Array.from(Ld.querySelectorAll(".screenLink.highlight")).forEach(function(e){e.classList.remove("highlight")})}function L(e){e&&(Array.isArray(e)||(e=[e]),D(),e.forEach(function(e){var t=$s.querySelector(".color[data-id='"+e+"']");t&&t.classList.add("highlight")}))}function D(){Array.from($s.querySelectorAll(".color.highlight")).forEach(function(e){e.classList.remove("highlight")})}function w(e){if(e){Array.isArray(e)||(e=[e]),C();var t,n=sr.textStyles.length;if(e.forEach(function(e){var a=Kc.querySelector(".font[data-id='"+e+"']");if(a){a.classList.add("highlight");var i=parseInt(a.dataset.index,10);i<n&&(n=i,t=a)}}),t){var a=t.getBoundingClientRect().top;setTimeout(function(){"scrollBy"in Element.prototype?Om.scrollBy({top:a-150,behavior:"smooth"}):Om.scrollTop+=a-150},200)}}}function C(){Array.from(Kc.querySelectorAll(".font.highlight")).forEach(function(e){e.classList.remove("highlight")})}function x(e,t){_r.x.canManageColors(lr)?(e.dataset.tooltip=t?"Delete color from Styleguide.":"Add color to Styleguide.",e.dataset.tooltipType="text"):"pawn"===lr.role?(e.dataset.tooltip="Only organization members can "+(t?"delete":"add")+" colors.",e.dataset.tooltipType="text"):(e.dataset.tooltip=d(lr,(t?"delete":"add")+" colors."),e.dataset.tooltipType="html")}function k(e,t){_r.x.canManageTextStyles(lr)?(e.dataset.tooltip=t?"Delete text style from Styleguide.":"Add text style to Styleguide.",e.dataset.tooltipType="text"):"pawn"===lr.role?(e.dataset.tooltip="Only organization members can "+(t?"delete":"add")+" text styles.",e.dataset.tooltipType="text"):(e.dataset.tooltip=d(lr,(t?"delete":"add")+" text styles."),e.dataset.tooltipType="html")}function T(){var e=_r.x.canUpdateProject(lr);Es.readOnly=!e,e?(Es.removeAttribute("data-tooltip"),Es.removeAttribute("data-tooltip-type")):(Es.dataset.tooltip=d(lr,"rename projects."),Es.dataset.tooltipType="html"),ru.classList.toggle("disabled",!e),e?(ru.removeAttribute("data-tooltip"),ru.removeAttribute("data-tooltip-type")):(ru.dataset.tooltip=d(lr,"add projects to Slack."),ru.dataset.tooltipType="html"),Array.from(gd.querySelectorAll(".slackSettingsButton")).forEach(function(t){t.classList.toggle("hidden",!e)}),Cs.classList.toggle("disabled",!e),e?(Cs.dataset.tooltip="Update project density.",Cs.dataset.tooltipType="text"):(Cs.dataset.tooltip=d(lr,"update project density."),Cs.dataset.tooltipType="html"),Js.readOnly=!e,Xs.readOnly=!e;var t=_r.x.canManageScreens(lr);tl.readOnly=!t,tl.placeholder=t?"Enter a short description here":"No description yet",Array.from(Ld.querySelectorAll(".screen .screenName")).forEach(function(e){e.readOnly=!t}),Array.from(Ld.querySelectorAll(".section .sectionName")).forEach(function(e){e.readOnly=!t}),Array.from(Ld.querySelectorAll(".section .sectionDescription")).forEach(function(e){e.readOnly=!t}),document.body.classList.toggle("canManageScreens",t),Ss.querySelector(".capableInfoLine").classList.toggle("hidden",!t);var n=Ss.querySelector(".unableInfoLine");n.querySelector("span").textContent=Tm.rook,n.classList.toggle("hidden",t);var a=document.getElementById("manageTagsButton");a&&(a.classList.toggle("disabled",!t),t?(a.dataset.tooltip="Manage tags.",a.dataset.tooltipType="text"):(a.dataset.tooltip=d(lr,"organize screens using tags."),a.dataset.tooltipType="html"));var i=_r.x.canManageColors(lr);Array.from($s.querySelectorAll(".color")).forEach(function(e){e.querySelector(".colorName").readOnly=!i,e.querySelector(".colorHex").readOnly=!i,e.querySelector(".colorAlpha").readOnly=!i,i?(e.removeAttribute("data-tooltip"),e.removeAttribute("data-tooltip-type")):"pawn"===lr.role?(e.dataset.tooltip="Only organization members can edit colors.",e.dataset.tooltipType="text"):(e.dataset.tooltip=d(lr,"edit colors."),e.dataset.tooltipType="html")}),Array.from(Qs.querySelectorAll(".color")).forEach(function(e){e.querySelector(".colorName").readOnly=!i;var t=e.querySelector(".addColor");t.classList.toggle("disabled",!i),x(t,e.classList.contains("added"))});var o=_r.x.canManageTextStyles(lr);Kc.classList.toggle("editable",o),Array.from(Kc.querySelectorAll(".styleName")).forEach(function(e){e.readOnly=!o,o?(e.removeAttribute("data-tooltip"),e.removeAttribute("data-tooltip-type")):"pawn"===lr.role?(e.dataset.tooltip="Only organization members can edit text styles.",e.dataset.tooltipType="text"):(e.dataset.tooltip=d(lr,"edit text styles."),e.dataset.tooltipType="html")}),Array.from(Qs.querySelectorAll(".textStyleWrapper")).forEach(function(e){e.querySelector(".textStyleName").readOnly=!o;var t=e.querySelector(".addTextStyle");t.classList.toggle("disabled",!o),k(t,e.classList.contains("added"))}),Dc.classList.toggle("canRemoveNotes",_r.x.canRemoveNotes(lr))}function _(){_r.x.canUpdateProject(lr)&&as.a(sr.id,sr.integration.slacks.map(function(e){return e._id}))}function q(e){return qr.b.get(e.id,"selectedExtension").then(function(t){var n=t||km[e.type],a=Dr.find(function(e){return e.id===n});return a||Dr.find(function(t){return t.id===km[e.type]})})}function O(e,t){var n=Dr.find(function(t){return t.id===e});return n?(wr=n,document.body.dataset.styleType=e,uc.textContent=n.name,Kl.textContent=n.name,t?qr.b.set(sr.id,"selectedExtension",e):Promise.resolve()):Promise.resolve()}function I(e){return qr.b.get(Nd.pid,e.type+"StyleExportType").then(function(t){var n,a;if(!t)return{extensionId:null,prefs:{}};switch(t){case"xml":n=["androidLineSpacingType"],a="android_xml";break;case"react":n=["styleColorFormat","showDefaultValues","showDimensions"],a="react_native";break;case"swift":case"objc":(n=["attributedStringShowDefaultAttributes"]).push("osx"===e.type?"osxDeploymentTarget":"iosDeploymentTarget"),a=e.type+"_"+t+("swift"===t?"3":"");break;case"swift2":n=["osx"===e.type?"osxDeploymentTarget":"iosDeploymentTarget"],a=e.type+"_swift3";break;default:n=["styleColorFormat","showDefaultValues","showDimensions","webUnitlessLineHeight","webMixin"],a="stylesheet_"+t}return Ea(n).then(function(e){var t=n.reduce(function(t,n,a){var i=e[a];return null!==i&&void 0!==i&&(t[n]=i),t},{});return{extensionId:a,prefs:t}})})}function A(e,t){return qr.b.get(Nd.pid,"extensionPrefsMigrated").then(function(n){return n?Promise.resolve():I(e).then(function(n){var a=n.extensionId,i=n.prefs;if(0===Object.keys(i).length)return qr.b.set(e.id,"extensionPrefsMigrated",!0);var o=t.find(function(e){return e.id===a});return o?(Object.keys(i).forEach(function(e){o.setOption(Im[e],i[e])}),qr.b.set(e.id,"selectedExtension",a).then(function(){qr.b.set(e.id,"extensionPrefsMigrated",!0)})):qr.b.set(e.id,"extensionPrefsMigrated",!0)})})}function N(e){return ps.a(e).then(function(t){return Dr=t,A(e,Dr).then(function(){return q(e)})}).then(function(e){return O(e.id),ms.a.loadExtension(e),e})}function F(e){p(e.users),f(e.screens),Po(e),Nr.a&&No(),Md=null,Ud=null,zd=null,Wn(),Jd=null,Kd=null,vm&&Nr.a.ipcRenderer.send("popout:menuitem:enabled",!1),document.body.dataset.projectType=e.type,ir||ja("layer"),qr.b.get(Nd.pid,"showOptimizedSVG").then(function(e){Vl.checked=e,Gl.checked=e}),"android"!==e.type&&qr.b.get(Nd.pid,"assetNamingConvention").then(function(e){yd.querySelector("span").textContent=xm[e],bd.querySelector("span").textContent=xm[e],document.querySelector("input[name='allAssetsNamingConvention'][value='"+e+"']").checked=!0,document.querySelector("input[name='assetNamingConvention'][value='"+e+"']").checked=!0}),"web"===e.type?(document.querySelector(".assetStyle .CodeMirror")||Array.from(document.querySelectorAll(".assetStyle")).forEach(function(e){ja("asset",e)}),or||ja("textLayer")):document.querySelector(".assetStyle .CodeMirror")&&(mc=[],Array.from(document.querySelectorAll(".assetStyle")).forEach(function(e){e.remove()})),rr||ja("guideline"),B(e.prefix),Ta(),Pd=!0,Us.textContent=e.name,Us.title=e.name,Es.value=e.name,Ds.textContent=Cr.b[e.type];var t={ios:'IOS developers usually prefer color names defined in "camel case", which looks like: brightRed',osx:'IOS developers usually prefer color names defined in "camel case", which looks like: brightRed',web:"Web developers usually use underscores or dashes while defining colors, which looks like: bright-red or bright_red",android:"Android developers define their color names using underscore, which look like: bright_red"};if(ou.querySelector(".projectNaming").textContent=t[e.type],Sr=b(e),e.integration&&e.integration.slacks&&e.integration.slacks.length?(zi(e.integration.slacks),_()):(Td.classList.add("hidden"),fd.classList.remove("hidden")),R(e.density),Re(),vs.classList.remove("loading"),kn(),CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||Ie(),$s.innerHTML="",e.colors&&e.colors.length&&e.colors.forEach(Me),e.textStyles&&e.textStyles.length&&Pe(),qr.b.get(Nd.pid,"projectInfoWidth").then(function(e){go(e,xu),xn()}),qr.b.get(Nd.pid,"generatorContainerWidth").then(function(e){go(e,lc),setTimeout(function(){rr.refresh()},100)}),qr.b.get(Nd.pid,"rightSidebarWrapperWidth").then(function(e){go(e,Tu)}),qr.b.get(Nd.pid,"versionsSidebarWrapperWidth").then(function(e){go(e,ku),ku.classList.add("collapsed")}),Nr.a&&Nr.a.features&&Nr.a.features.downloadAssets&&Qr.b(sr.id,sr.type),T(),cr)"pawn"!==lr.role&&"past_due"===cr.subscriptionStatus&&Cr.d({oid:cr._id,currentRole:lr.role});else{var n={currentRole:lr.role},a=sr.findOwner();"past_due"===a.user.subscriptionStatus&&(n.ownerEmail=a.user.email,Cr.d(n))}}function P(){var e;switch(sr.type){case"android":e="android";break;case"ios":case"osx":e="iosx";break;case"web":default:e="web"}return e+"Density"}function R(e){sr.density=e,ws.textContent=e;var t=document.querySelector("input[name='"+P()+"'][value='"+e+"']");t&&(t.checked=!0,t.dispatchEvent(new Event("change")))}function M(e){if(_r.x.canUpdateProject(lr)){var t=sr.density;ws.textContent=e,fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/density",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({density:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){yi(e)}).catch(function(e){ws.textContent=t,Or.b(e)})}}function B(e,t,n){if(sr.prefix=e||"","osx"===sr.type||"ios"===sr.type){var a="ios"===sr.type?Js:Xs,i="ios"===sr.type?Gs:Ks,o=ms.b.getState().options.categoryName;!o||n?(o=(e?e.toUpperCase():"")+"Additions",i.value=o,nm[i.id]=o,ms.a.updateOption("categoryName",o)):(i.value=o,nm[i.id]=o),a.value=e||"",nm[a.id]=e||"",t&&Ta()}}function U(){var e=Ln(),t=zt(),n=(e||"No")+" screen"+(1===e?"":"s");if(nd.classList.remove("showHint"),t.length)if(n+=" with ",1===t.length)n+=t,nd.classList.add("showHint");else{var a=t.pop();n+=t.join(", ")+", and "+a}else Ht()&&(n=(e||"No")+" untagged screen"+(1===e?"":"s")+" ");bs.textContent=n,bs.title=n}function z(){var e="";"dashboard"===Hd?e="Dashboard - ":"styleguide"===Hd?e="Styleguide - ":Md&&(e=Md.name+" - "),Is.textContent=e+(sr?sr.name+" - ":"")+"Zeplin"}function H(){cr?location.replace(_r.J("organization-projects",{url:{oid:cr._id}})):location.replace(_r.J("projects"))}function Z(){if(hm){var e;return ym&&(e=JSON.parse(sessionStorage.getItem("deferredDialog")))&&sessionStorage.removeItem("deferredDialog"),void Nr.a.ipcRenderer.sendToHost("close-project-webview",cr?_r.J("organization-projects",{url:{oid:cr._id}}):_r.J("projects"),e)}H()}function W(e,t){(t=t||{}).shouldReplace?Sm.history.replace(e,t.state):Sm.history.push(e,t.state)}function Y(e,t){t=t||{},W(_r.J("project-dashboard",{url:{pid:e},query:t}))}function V(e){W(_r.J("project-styleguide",{url:{pid:e}}))}function G(e,t){W(_r.J("project-screen",{url:{pid:e,sid:t}}))}function J(){Hn(),Hd="dashboard",Rd=-2,Md=null,Rs.href=cr?_r.J("organization-projects",{url:{oid:cr._id}}):_r.J("projects"),Rs.querySelector("span").textContent="Projects",Fs.dataset.selection="dashboard",As.checked=!0,D(),C(),ro(),CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||(Ie(),window.addEventListener("resize",Ae)),window.addEventListener("resize",xn),!Rt()&&vm&&Nr.a.ipcRenderer.send("popout:menuitem:enabled",!1),Bt()}function K(){Hn(),Hd="styleguide",Rd=-1,Md=null,Rs.href=cr?_r.J("organization-projects",{url:{oid:cr._id}}):_r.J("projects"),Rs.querySelector("span").textContent="Projects",Fs.dataset.selection="styleguide",Ns.checked=!0,E(),CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||(clearTimeout(Am),window.removeEventListener("resize",Ae)),window.removeEventListener("resize",xn),rr&&rr.refresh(),!Rt()&&vm&&Nr.a.ipcRenderer.send("popout:menuitem:enabled",!1),Bt()}function X(e){if(e){var t=Md.dots.find(function(t){return t._id===e});if(t)return t.status}}function $(e){if("apiData"in Zeplin&&e in Zeplin.apiData){var t=Zeplin.apiData[e];return delete Zeplin.apiData[e],t}}function Q(e){var t=$("organizationMembers");if(t)return Promise.resolve(t);var n=zr.a.mark();return fetch(Zeplin.urls.baseURL+"/organizations/"+e+"/members",{headers:Zeplin.headers}).then(function(e){return zr.a.measure("api.getOrganizationMembers",{start:n,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(e.ok)return t;throw Or.a(e.status,t)})})}function ee(e){var t,n=$("projectOrganization");if(n)t=Promise.resolve(n);else{var a=zr.a.mark();t=fetch(Zeplin.urls.baseURL+"/projects/"+e+"/organization",{method:"GET",headers:Zeplin.headers}).then(function(e){if(zr.a.measure("api.getProjectOrganization",{start:a,minTime:50,labels:{status:e.status}}),e.ok)return e.json()})}return t.then(function(e){if(cr=e)return cr.transitionFinished=-1===e.transitionLeft,hm&&Nr.a.ipcRenderer.send("preload-url",Rs.href=_r.J("organization-projects",{url:{oid:cr._id}})),"screen"!==Hd&&(Rs.href=_r.J("organization-projects",{url:{oid:cr._id}})),"pawn"!==lr.role||cr.transitionFinished||qt(Math.ceil(e.transitionLeft/1e3/60/60/24)),"pawn"!==lr.role?Q(e._id).then(function(e){Object.assign(cr,e)}):void 0}).catch(function(){})}function te(e,t,n){var a=_r.k(t);e.classList.add("optionsOpen"),a&&a.classList.add("optionsOpen"),ss.a.render(ss.a.h(ds.a,{availableExtensions:Dr,posRefRect:t.getBoundingClientRect(),enabledOptions:n?Nm:Fm,extensionMenuName:"web"===sr.type?"Style sheet":"",onChange:function(e,t){var n=Promise.resolve();"extension"===e?(n=O(t,!0),"ios"===sr.type?document.querySelector(".iosCategoryContainer .categoryNameContainer .categoryTitle").textContent=("objc"===t?"Category":"Extension")+" name:":"osx"===sr.type&&(document.querySelector(".osxCategoryContainer .categoryNameContainer .categoryTitle").textContent=("objc"===t?"Category":"Extension")+" name:")):"colorFormat"===e&&Oa(t),n.then(function(){Ta(),Da()})},onClose:function(){e.classList.remove("optionsOpen"),a&&a.classList.remove("optionsOpen")}}),document.body)}function ne(e){e.stopPropagation(),Hn(),To(),te(e.target.closest(".sidebarOptionRealm"),e.target.closest("button"),!!Zd)}function ae(e){$d||tr();var t,n=$("project");if(n)t=Promise.resolve(n);else{var a=zr.a.mark();t=fetch(Zeplin.urls.baseURL+"/v2/projects/"+e,{headers:Zeplin.headers}).then(function(e){return zr.a.measure("api.getProject",{start:a,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(!e.ok)throw Or.a(e.status,t);var n=t;return 206===e.status&&(n.partial=!0),n})})}return t.then(function(t){if(t){if(!t.partial)return ie(t);location.replace(_r.J("preview",{url:{pid:e}}))}}).catch(function(e){$d?($d=!1,navigator.onLine&&location.reload()):Or.b(e,{clientErrorHandler:function(){kr.a({title:e.title,message:e.message},{defer:!0}),Z()}})}).then(function(){hm?(bm=!1,Nr.a.ipcRenderer.sendToHost("active")):nr()},function(){hm?(bm=!1,Nr.a.ipcRenderer.sendToHost("active")):nr()})}function ie(e){sr=new Rr.a(e),lr=sr.findUser(Zeplin.user._id),document.body.classList.toggle("organizationProject",_r.r(sr)),cr=null;var t;return _r.r(sr)?t=ee(sr.id):(t=Promise.resolve(),hm&&Nr.a.ipcRenderer.send("preload-url",Rs.href=_r.J("projects"))),Promise.all([t,Cr.a(),Io(),N(sr)]).then(function(e){F(sr);var t;t=_r.r(sr)?cr.paymentPlan:sr.findOwner().user.paymentPlan;var n=e[1].find(function(e){return e._id===t});sr.allowedVersionCount=n.allowedVersionCount,Ir.b([sr.id],cr&&"pawn"!==lr.role&&cr._id),xu.addEventListener("usersInvited",oe),ti(sr),sr.public&&ai(sr),$d=!1})}function oe(e){e.detail.users.forEach(function(e){sr.addUser(e)}),p(sr.users)}function re(e){return Ld.querySelector(".screen[data-view-index='"+e+"']")}function se(e){return Ld.querySelector(".screen[data-id='"+e+"']")}function le(e,t){var n=(t=t||{}).padding||0,a=t.unit||0;return e*Gd+n+a}function ce(e,t,n){return void 0===e||void 0===t?"":_r.z(e,1)+"×"+_r.z(t,1)+n}function ue(e,t){if(void 0===e||null===e)return"";if("%"===t)return _r.z(100*e,1)+"%";var n="text"===t?sr.textDimensionSuffix:sr.dimensionSuffix;return _r.z(e/sr.densityDivisor,1)+n}function de(e,t){return 100*e/t+"%"}function me(){hl.classList.add("loading"),hl.classList.remove("empty","restricted"),bl.classList.add("loading"),bl.classList.remove("empty","restricted"),cm.start()}function pe(){cm.stop(),Fs.classList.remove("online"),hl.classList.remove("loading")}function ge(e,t){for(var n=0;n<e.length;n++){var a=e[n];a.absoluteRect={x:a.rect.x+t.x,y:a.rect.y+t.y,width:a.rect.width,height:a.rect.height},"group"===a.type&&ge(a.layers,a.absoluteRect)}}function fe(e,t){if(!navigator.onLine)return Fs.className="offline",Promise.resolve();if(!e||!t)return Promise.resolve();var n=zr.a.mark();return fetch(Zeplin.urls.baseURL+"/v2/projects/"+sr.id+"/screens/"+e._id+"/versions/"+t._id+"/snapshot",{headers:Zeplin.headers}).then(function(e){return zr.a.measure("api.getSnapshot",{start:n,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(e.ok)return t;throw Or.a(e.status,t)})}).then(function(n){return n.layers.unshift(Lt(e.name,n)),ge(n.layers,{x:0,y:0}),Object.assign(t.snapshot,n)}).catch(function(e){return Or.b(e),t.snapshot})}function he(e){e instanceof Date||(e=new Date(e));var t=new Date;if(t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()){if(t.getDate()===e.getDate())return"today";if(t.getDate()-e.getDate()==1)return"yesterday"}return Rm.format(e)}function ye(e,t,n){if("pawn"===lr.role)return Promise.reject(Or.a(403,{title:"You’re not allowed to do this",message:"Please contact the organization admins."}));var a={color:n};return fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/screens/"+e._id+"/versions/"+t._id+"/commit/color",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(a)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){return mixpanel.track("Updated version color"),Object.assign(t.commit,a)})}function be(e,t,n){if(!_r.x.canManageScreens(lr))return Promise.reject(Or.a(403,{title:"You’re not allowed to do this",message:"Please contact the organization admins."}));if(!t.creator||t.creator._id!==lr.user._id)return Promise.reject(Or.a(403,{title:"You can’t edit this commit",message:"You can only edit your own commits."}));var a={message:n};return fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/screens/"+e._id+"/versions/"+t._id+"/commit/message",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(a)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){return mixpanel.track("Updated version commit message"),Object.assign(t.commit,a)})}function ve(e,t,n){var a=Um.querySelector(".version.editing");if(a&&Bm.get(a).cancelEditing(),bc.classList.contains("versionsShown")){var i=document.querySelector(".version.selected");i&&i.classList.remove("selected");var o=document.querySelector(".version[data-id='"+t._id+"']");o&&o.classList.add("selected"),o&&n&&n.scrollIfNecessary&&_r.A(o)}Nt(e,Bd=t),document.querySelector(".oldVersionWarning time").textContent=he(t.created),bc.classList.toggle("oldVersion",e.versions[0]._id!==Bd._id)}function Se(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&Pm&&(e.target.closest(".openInFolder")?Nr.a.ipcRenderer.send("show-item-in-folder",Pm):e.target.closest(".openInPhotoshop")&&Nr.a.ipcRenderer.send("open-item",Pm))}function je(e){Nr.a&&Nr.a.features&&Nr.a.features.openInPhotoshop&&(pd.removeEventListener("click",Se),ud.classList.add("hidden"),Nr.a.ipcRenderer.removeAllListeners(e+":sourceFile"),Nr.a.ipcRenderer.once(e+":sourceFile",function(e,t){Pm=t.file,dd.title=t.name,dd.textContent=t.name,md.title=t.dir,md.textContent=t.pathParts.join("▸"),qr.c.get("hideSourceFileInfo").then(function(e){if(!e){var t=Tr.a({content:"This is only visible to you, to quickly jump to your design file.",hideCallback:function(){qr.c.set("hideSourceFileInfo",!0)}});ud.appendChild(t)}}),pd.addEventListener("click",Se),ud.classList.remove("hidden")}),Nr.a.ipcRenderer.send("query-source-file",e))}function Ee(e,t){return _r.x.canManageScreens(lr)?fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/screens/"+e._id+"/versions/"+t._id,{method:"DELETE",headers:Zeplin.headers}).then(function(){return mixpanel.track("Deleted version"),sr.removeVersion(e._id,t._id)}):Promise.reject(Or.a(403,{title:"You’re not allowed to do this",message:"Please contact the organization admins."}))}function Le(e,t,n,a){t.commit=t.commit||{},t.commit.message=t.commit.message||"",t.commit.color=t.commit.color||wm.yellow;var i=new Date(e.created),o=new Date(t.created),r=i.getDate()!==o.getDate()||i.getMonth()!==o.getMonth()||i.getFullYear()!==o.getFullYear();r&&Um.appendChild(De(o));var s=document.importNode(zm.content,!0),l=s.querySelector(".version"),c=l.querySelector(".versionNodeDot"),u=l.querySelector(".commitMessage"),d=new Pr.a(u,Wa);Bm.set(l,d),l.dataset.id=t._id;var m=Dm[new Mr.a(t.commit.color).hexBase()];l.classList.add(m),u.classList.add(m),!r&&e.creator&&t.creator&&e.creator._id===t.creator._id?l.classList.add("sameCreator"):(_r.C(l.querySelector(".versionAuthorImage"),t.creator),l.querySelector(".versionAuthorName").textContent=t.creator?t.creator.username:"Anonymous"),l.classList.toggle("canDelete",_r.x.canManageScreens(lr)),l.classList.toggle("versionOwner",t.creator&&t.creator._id===lr.user._id);var p;return p=t.creator&&t.creator._id===Zeplin.user._id?1===a.length?"Got any notes?":"What has changed in this version?":"No commit message yet.",d.placeholder=p,t.commit.message?d.value=t.commit.message:l.classList.add("empty"),l.querySelector(".versionMetadata time").textContent=Mm.format(o),c.addEventListener("mouseenter",function(){if(!ku.classList.contains("collapsed")&&"pawn"!==lr.role){var e=document.importNode(Hm.content,!0),n=e.querySelector(".nodeColorChooser");n.classList.add(m),n.addEventListener("mouseleave",function(){n.addEventListener("transitionend",function(e){n.remove()})}),n.addEventListener("click",function(e){if(e.stopPropagation(),e.target.classList.contains("nodeColor")&&m!==e.target.dataset.color){var a=wm[e.target.dataset.color];mt(n),n.classList.add(a.name),mt(l),l.classList.add(a.name),mt(u),u.classList.add(a.name),ye(Md,t,a).then(function(e){m=e.color.name}).catch(function(e){var t=wm[m];mt(n),n.classList.add(t.name),mt(l),l.classList.add(t.name),mt(u),u.classList.add(t.name),Or.b(e)})}}),c.appendChild(e)}}),l.addEventListener("click",function(){l.classList.contains("selected")||ve(Md,t)}),u.addEventListener("autocomplete",function(){var e=es.manageSuggestedEmojis(u.querySelector("textarea"),u.querySelector(".mirror"));e&&(e.style.top=u.getBoundingClientRect().top+u.offsetHeight-90+"px",l.appendChild(e),es.open())}),u.addEventListener("submit",function(){var e=d.value,n=es.formatEmojiString(d.value.trim(),!0);d.value=n,l.classList.remove("editing"),es.close(),t.commit.message!==n&&be(Md,t,n).then(function(e){l.classList.toggle("empty",!n)}).catch(function(t){d.value=e,Or.b(t,{clientErrorDialogCallback:function(){d.cancelEditing()},serverErrorDialogCallback:function(){d.startEditing()}})})}),u.addEventListener("cancel",function(){l.classList.remove("editing")}),Array.from(l.querySelectorAll(".commitMessageEditButton, .enterCommitMessageButton")).forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation(),ve(Md,t),l.classList.add("editing"),d.startEditing()})}),l.querySelector(".commitDeleteButton").addEventListener("click",function(e){e.stopPropagation(),1===Md.totalVersionCount?kr.a({title:'Delete  "'+Md.name+'"?',message:"Deleted screens cannot be restored.",done:{name:"DELETE",cb:function(){Mi(Md._id),Y(sr.id,_n())}},cancel:{name:"CANCEL"}}):kr.a({title:"Delete version?",message:"Deleted versions cannot be restored.",done:{name:"DELETE",cb:function(){var e=Md.versions[0]._id;Ee(Md,t).then(function(){return Md.versions.length<sr.allowedVersionCount&&Md.totalVersionCount>=sr.allowedVersionCount?we(Md):Md}).then(function(){var n=Md.versions[0];e===t._id&&_r.y(se(Md._id).querySelector(".screenImage"),n.snapshot,"url"),Bd._id===t._id&&(Qs.classList.add("resourceView"),Qs.classList.remove("layerView"),Nt(Md,Bd=n)),yt(Md)}).catch(Or.b)}},cancel:{name:"CANCEL"}})}),Um.appendChild(s),t}function De(e){var t=document.importNode(Zm.content,!0);return t.querySelector(".versionHeaderText").textContent=he(e),t}function we(e){ku.classList.add("loading");var t=$("versions");return(t?Promise.resolve(t):fetch(Zeplin.urls.baseURL+"/v2/projects/"+sr.id+"/screens/"+e._id+"/versions",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Or.a(e.status,t)})})).then(function(t){return e.versions.forEach(function(e){if("layers"in e.snapshot){var n=t.versions.find(function(t){return e._id===t._id});n&&Object.assign(n.snapshot,e.snapshot)}}),Object.assign(e,t)}).catch(function(t){return e})}function Ce(e,t){var n=es.replace(t.replace(_r.f,""),!1,!0).trim();return(!n||"️"===n)&&(e.childElementCount>0&&e.childElementCount<=5)}function xe(e,t,n){var a,i=t.slice(0,t.length-n);return a=n===t.length?e.comments.length-2>1?e.comments.length-2+" more replies":"1 more reply":n>0?(a=(a=i.join(", "))?a+" and ":a)+n+" more also replied":(a=(a=i.slice(0,i.length-1).join(", "))?a+" and ":a)+i[i.length-1]+" also replied"}function ke(e,t){var n=sr.findUser(e);return!n&&t&&cr&&cr.members?cr.members.find(function(t){return t.user._id===e}):n}function Te(e){var t=document.importNode(zu.content,!0),n=t.querySelector(".dotListing");n.dataset.did=e._id,n.classList.add(Dm[new Mr.a(e.color).hexBase()]),n.classList.toggle("hasOtherReplies",e.comments&&e.comments.length>2),n.classList.toggle("hasLastReply",e.comments&&e.comments.length>1);var a=e.comments[0],i=e.comments[e.comments.length-1];_r.C(t.querySelector(".avatarOfAuthor"),a.author),t.querySelector(".author").textContent=a.author?a.author.username:"Anonymous",t.querySelector("time").setAttribute("datetime",_e(e,0)),t.querySelector(".dotNumber").textContent=e.name;var o=t.querySelector(".commentContent");o.innerHTML=Ya(a.note),o.classList.toggle("jumboEmojis",Ce(o,a.note));var r,s;if(e.comments.length>2&&((r=e.comments.slice(1,-1).filter(function(e){return!(a.author&&a.author._id===e.author._id||i.author&&i.author._id===e.author._id)}).map(function(e){return e.author})).length?(r.forEach(function(e,n){var a=document.importNode(Yu.content,!0);a.querySelector(".avatarFrame").style.left=8*n+"px",_r.C(a.querySelector(".avatarOfOtherReply"),e),t.querySelector(".avatarsOfOtherReplies").appendChild(a)}),s=8*((r=r.map(function(e){return e?e.username:"Anonymous"})).length-1)+16):(s=0,t.querySelector(".avatarsOfOtherReplies").classList.add("hidden")),t.querySelector(".avatarsOfOtherReplies").style.width=s+"px"),e.comments.length>1){var l=t.querySelector(".comment:last-child");n.dataset.cmid=i._id,_r.C(l.querySelector(".avatarOfAuthor"),i.author),l.querySelector(".author").textContent=i.author?i.author.username:"Anonymous",l.querySelector("time").setAttribute("datetime",_e(e));var c=l.querySelector(".commentContent");c.innerHTML=Ya(i.note),c.classList.toggle("jumboEmojis",Ce(c,i.note))}Hu.appendChild(t);var u=Hu.lastElementChild.querySelector(".otherRepliesAuthors");if(r&&r.length){var d=r.length;if((r=r.filter(function(e){return"Anonymous"!==e})).length){var m=d-r.length;if(m)for(var p=0;p<m;p++)r.push("Anonymous");var g=document.createElement("canvas").getContext("2d");g.font="italic 12px roboto";for(var f=Qs.offsetWidth-30-s,h=xe(e,r,m);g.measureText(h).width>f&&m<=r.length;)h=xe(e,r,++m);u.textContent=h}else e.comments.length-2>1?u.textContent=e.comments.length-2+" more replies":u.textContent="1 more reply"}else r&&!r.length&&(e.comments.length-2>1?u.textContent=e.comments.length-2+" more replies":u.textContent="1 more reply")}function _e(e,t){t=void 0!==t?t:e.comments.length-1;var n=e.comments[t],a=new Date(n.updated),i=new Date(n.created);return a-i>3e5?a:i}function qe(e){var t=_a(),n=!e.length;Wu.classList.toggle("noDots",n),e=e?e.filter(function(e){return e.status===t}):[],Wu.classList.remove("noOpenDots","noResolvedDots"),Wu.classList.toggle(Wm[t],!n&&!e.length),Wu.dataset.statusFilter=t,Zu.querySelector("span").textContent=e.length,Zu.classList.toggle("multiple",e.length>1),Hu.innerHTML="",e.sort(function(e,t){var n=_e(e),a=_e(t);return n>a?-1:a>n?1:0}),e.forEach(Te),Wu.classList.remove("loading")}function Oe(e){if(e){Wu.classList.add("loading"),Wu.classList.remove("noDots","noOpenDots","noResolvedDots");var t,n=$("dots");if(n)t=Promise.resolve(n);else{var a=zr.a.mark();t=fetch(Zeplin.urls.baseURL+"/v2/projects/"+sr.id+"/screens/"+e._id+"/dots",{headers:Zeplin.headers}).then(function(e){return zr.a.measure("api.getDots",{start:a,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(e.ok)return t;throw Or.a(e.status,t)})})}return t.then(function(t){if(e.dots=t.dots,e.dots.forEach(function(e){e.status=e.status||"open"}),Md===e){var n;if(Nd.did&&1===Nd.did.length){var a=X(Nd.did[0]);n=a?Promise.resolve(a):qr.b.get(sr.id,"dotListingsStatusFilter")}else n=qr.b.get(sr.id,"dotListingsStatusFilter");return n.then(function(t){qa(t,!0),e.dots.forEach(pt),Nd.did&&1===Nd.did.length?ia(Nd.did[0],Nd.cmid):v(Nd.did)})}}).catch(function(t){Md===e&&Or.b(t)})}}function Ie(){Array.from(Ld.querySelectorAll(".screenGrid")).forEach(function(e){e.style.width=244*Math.floor(ys.clientWidth/244)+"px"}),Am=setTimeout(Ie,1e3),xn()}function Ae(){clearTimeout(Am),requestAnimationFrame(Ie)}function Ne(e,t,n,a){var i=document.importNode(Gm.content,!0),o=i.querySelector(".screen"),r=i.querySelector(".screenName"),s=i.querySelector(".screenNameMirror"),l=i.querySelector(".screenLink"),c=_r.x.canManageScreens(lr);o.dataset.id=t._id,o.dataset.index=n,o.dataset.viewIndex=a+n,l.href=_r.J("project-screen",{url:{pid:Nd.pid,sid:t._id}}),i.querySelector(".screenLastUpdated").setAttribute("datetime",t.updated||sr.updated),o.classList.toggle("thumbnail",sr.thumbnail===t.versions[0].snapshot.url),r.value=t.name,r.readOnly=!c;var u=td.value.toLowerCase().trim();u&&_r.p(s,t.name,u,t.hasFuzzyMatch);var d=o.querySelector(".screenImage"),m=t.versions[0].snapshot;m[Symbol.for("thumbnail")]?Object.assign(d,m[Symbol.for("thumbnail")]):(l.classList.add("loading"),d.addEventListener("load",function e(t){t.target.removeEventListener("load",e),t.target.parentElement.classList.remove("loading")}),Vm.observe(o)),e.appendChild(i)}function Fe(){Array.from(Ld.querySelectorAll(".screenName")).forEach(function(e){e.parentNode.querySelector(".screenNameMirror").textContent=e.value})}function Pe(){if(sr.textStyles&&sr.textStyles.length){var e=!1;Kc.innerHTML="";for(var t=0;t<sr.textStyles.length;t++){var n=document.importNode(Jm.content,!0),a=n.querySelector(".font"),i=n.querySelector(".styleName"),o=sr.textStyles[t];a.dataset.id=o.id,a.dataset.index=t,i.value=o.name,i.style.fontSize=o.scaledFontSize+"px",i.style.fontWeight=o.fontWeight,i.style.fontStyle=o.fontStyle,i.tabIndex=t+1;var r=o.fontStretch.split("-"),s=_r.I(o.weightText)+("normal"!==o.fontStyle?" "+_r.I(o.fontStyle):"");if(r="normal"!==o.fontStretch?" "+_r.I(r[0])+(r[1]||""):"",n.querySelector(".style").textContent=o.fontFamily+r+", "+s+", "+ue(o.fontSize,"text"),o.color){var l=sr.findColorEqual(o.color);n.querySelector(".color").textContent=l?"#"+l.name:o.color.toPlatformString(sr.type),n.querySelector(".colorPreview").style.backgroundColor=o.color.toCSS()}else n.querySelector(".colorContainer").classList.add("hidden");var c=[];if(o.textAlign&&"left"!==o.textAlign&&c.push(_r.I(o.textAlign)),o.lineHeight&&c.push("Line height: "+ue(o.lineHeight,"text")),o.letterSpacing){var u;u="android"===sr.type?_r.z(o.letterSpacing/sr.densityDivisor,2):ue(o.letterSpacing,"text"),c.push("Letter spacing: "+u)}n.querySelector(".subInfo").textContent=c.join(", "),e=e||!!c.length;var m=_r.x.canManageTextStyles(lr);i.readOnly=!m,m?(i.removeAttribute("data-tooltip"),i.removeAttribute("data-tooltip-type")):"pawn"===lr.role?(i.dataset.tooltip="Only organization members can edit text styles.",i.dataset.tooltipType="text"):(i.dataset.tooltip=d(lr,"edit text styles."),i.dataset.tooltipType="html"),Kc.appendChild(n)}Kc.classList.toggle("hasAdditionalProp",e)}}function Re(){var e=zt(),t=Ht()||"untagged"in Nd;if(vs.innerHTML="",sr.screens&&sr.screens.length&&(sr.tags.forEach(function(t){var n=document.createElement("div");n.classList.add("tag"),n.classList.toggle("selected",-1!==e.indexOf(t)),n.dataset.tag=_r.h(t),n.textContent=t,vs.appendChild(n)}),vs.childElementCount)){var n=document.createElement("div");n.classList.add("tag","untagged"),t&&n.classList.add("selected"),n.textContent="Untagged",vs.appendChild(n)}}function Me(e){var t=document.importNode(Km.content,!0),n=t.querySelector(".color");n.dataset.id=e.id,t.querySelector(".colorPreview").style.backgroundColor=e.toCSS(),t.querySelector(".colorName").value=e.name,t.querySelector(".colorHex").value=e.hexBase(),t.querySelector(".colorAlpha").value=Math.round(100*e.a),t.querySelector(".colorRGB").textContent=e.toRGBAString();var a=_r.x.canManageColors(lr);t.querySelector(".colorName").readOnly=!a,t.querySelector(".colorHex").readOnly=!a,t.querySelector(".colorAlpha").readOnly=!a,a?(n.removeAttribute("data-tooltip"),n.removeAttribute("data-tooltip-type")):"pawn"===lr.role?(n.dataset.tooltip="Only organization members can edit colors.",n.dataset.tooltipType="text"):(n.dataset.tooltip=d(lr,"edit colors."),n.dataset.tooltipType="html"),$s.appendChild(t)}function Be(e,t){var n=new Mr.a(e),a=document.importNode(Xm.content,!0),i=a.querySelector(".color"),o=i.querySelector(".addColor"),r=sr.findColorEqual(n);r&&(i.classList.add("added"),i.dataset.id=r.id,i.querySelector(".colorName").value="#"+r.name),i.dataset.color=n.toHexString(),i.dataset.rgbcolor=JSON.stringify(e),i.querySelector(".colorPreview").style.backgroundColor=n.toCSS();var s=_r.x.canManageColors(lr);i.querySelector(".colorName").readOnly=!s,o.classList.toggle("disabled",!s),x(o,!!r),"web"===sr.type?qr.b.get(Nd.pid,"styleColorFormat").then(function(e){i.querySelector(".colorValue").textContent=n.toPlatformString(sr.type,e),t.appendChild(a),hl.classList.toggle("empty",!yl.childElementCount)}):(i.querySelector(".colorValue").textContent=n.toPlatformString(sr.type),t.appendChild(a))}function Ue(e,t){var n=document.createElement("div");n.classList.add("gradient"),e.colorStops.forEach(function(e){Be(e.color,n)}),t.appendChild(n)}function ze(e,t){switch(e.fillType){case"color":Be(e.color,t);break;case"gradient":Ue(e.gradient,t)}}function He(e){var t=document.importNode($m.content,!0);t.querySelector(".shadowType").textContent=e.type,t.querySelector(".shadowOffsetX").textContent=ue(e.offsetX),t.querySelector(".shadowOffsetY").textContent=ue(e.offsetY),t.querySelector(".shadowBlurRadius").textContent=ue(e.blurRadius),t.querySelector(".shadowSpread").textContent=ue(e.spread),t.querySelector(".shadowBlurSpread").classList.toggle("hidden",!e.blurRadius&&!e.spread),Ml.appendChild(t),Be(e.color,Ml)}function Ze(e,t){switch(e.format){case"jpg":case"png":return rt(e,t)+("1x"===e.density?"":"@"+e.density);case"pdf":case"svg":return rt(e,t)}}function We(e){return("svg"===e.format?qr.b.get(sr.id,"showOptimizedSVG"):Promise.resolve(!1)).then(function(t){return t&&Object.assign(e,e.optimized),e.url}).then(fetch).then(function(e){return e.arrayBuffer()}).then(function(t){return Object.assign({data:t},e)})}function Ye(e,t){return e.contents.filter(function(e){return e.format===t}).map(function(t){return Object.assign({layerName:e.layerName,displayName:e.displayName},t)})}function Ve(e,t){var n;if("all"===e)n=[].concat.apply([],Bd.snapshot.assets.map(function(e){return Ye(e,t)}));else{var a=Bd.snapshot.assets.find(function(t){return t._id===e});if(!a)return Promise.reject("Asset with id "+e+" not found.");n=Ye(a,t)}return Promise.all(n.map(We))}function Ge(e,t){t=t||function(e){return e.displayName};var n={},a=new Gr.a;return e.forEach(function(e){var i=t(e)+e.format;i in n||(n[i]=0);var o=++n[i];o>1&&((e=Object.assign({},e)).displayName+="_"+o,e.layerName+="_"+o),a.file(t(e)+"."+e.format,e.data)}),a}function Je(e,t){var n;return Ve(e,t).then(function(t){return n="all"===e?"assets_"+Md.name:t[0].displayName,Ge(t,function(e){return"drawable-"+e.density+"/"+e.displayName})}).then(function(e){return e.generateAsync({type:"blob"})}).then(function(e){return{data:URL.createObjectURL(e),name:n+"_"+(new Date).toISOString().substr(0,10)+".zip"}})}function Ke(e,t){var n;return Promise.all([Ve(e,t),qr.b.get(Nd.pid,"assetNamingConvention")]).then(function(a){var i=a[0],o=a[1];if(1===i.length){var r=i[0];return n=Ze(r,o)+"."+r.format,new Blob([r.data],{type:Lm[t]})}var s=(new Date).toISOString().substr(0,10),l=Ge(i,function(e){return Ze(e,o)});return n=("all"===e?"assets_"+Md.name:rt(i[0],o))+"_"+s+".zip",l.generateAsync({type:"blob"})}).then(function(e){return{data:URL.createObjectURL(e),name:n}})}function Xe(e){var t=document.createElement("a");t.href=e.data,t.download=e.name||"assets.zip",t.classList.add("hidden"),document.body.appendChild(t),t.addEventListener("click",function(n){n.stopPropagation(),setTimeout(function(){URL.revokeObjectURL(e.data)},1500),t.remove()}),t.click()}function $e(e,t,n){Qr.a({projectId:sr.id,projectType:sr.type,format:t,assets:e,namingConvention:n})}function Qe(e){if(document.body.classList.contains("canDownload")&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&e.target.classList.contains("exportAssets")){e.stopPropagation();var t,n=e.target.parentElement.dataset.format,a=e.target.parentElement.dataset.aid;if(Nr.a&&Nr.a.features&&Nr.a.features.downloadAssets){var i;if(0===(i="all"===a?Bd.snapshot.assets:[Bd.snapshot.assets.find(function(e){return e._id===a})]).length)return;"android"===sr.type?qr.b.get(Nd.pid,"androidResFolderReminderSeen").then(function(e){e?$e(i,n):(qr.b.set(Nd.pid,"androidResFolderReminderSeen",!0),jd.addEventListener("click",function(e){e.stopPropagation(),$e(i,n)}),Sd.showModal())}):qr.b.get(Nd.pid,"assetNamingConvention").then(function(e){$e(i,n,e)})}else{switch(sr.type){case"android":if("svg"!==n){t=Je(a,n);break}case"ios":case"osx":case"web":default:t=Ke(a,n)}t.then(Xe)}}}function et(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){if(e.target.classList.contains("exportAssets"))return Qe(e);var t=e.target.closest(".asset");if(t){var n=t.nextElementSibling;n.style.height=t.classList.contains("expanded")?"0":Array.from(n.children).reduce(function(e,t){return e+t.getBoundingClientRect().height},0)+"px",t.classList.toggle("expanded")}}}function tt(e){switch(e){case"mdpi":case"1x":case"web":case"unknown":default:return"1x";case"hdpi":return"1.5x";case"xhdpi":case"2x":return"2x";case"xxhdpi":case"3x":return"3x";case"xxxhdpi":case"4x":return"4x"}}function nt(e){return new Promise(function(t,n){var a=document.createElement("img"),i=document.createElement("canvas").getContext("2d");a.addEventListener("load",function(){i.drawImage(a,0,0);for(var e=i.getImageData(0,0,a.width,a.height).data,n="light",o=0;o<e.length;o+=4)if(!(e[o+3]<45)&&(e[o]<"210"||e[o+1]<"210"||e[o+2]<"210")){n="dark";break}t({size:ce(a.width,a.height,sr.dimensionSuffix),lightness:n})}),a.addEventListener("error",function(e){n(e)}),a.crossOrigin="anonymous",a.src=e.url})}function at(e){return e.find(function(e){return e.density===sr.baseDensity&&"png"===e.format})}function it(e){return e.filter(function(e){return"png"===e.format&&e.density!==sr.baseDensity}).map(function(e){return e.url+" "+tt(e.density)}).join(", ")}function ot(e,t){var n=document.importNode(Qm.content,!0),a=n.querySelector(".assetExporter");if(a.dataset.aid=e.aid,a.dataset.format=e.format,a.querySelector(".assetType").textContent=e.format,a.querySelector(".assetCount").textContent=e.count,"jpg"===e.format||"png"===e.format)a.querySelector(".assetCount").title=Array.from(e.densities).join(", ");else if("svg"===e.format){var i=a.querySelector(".assetStats");e.percent>0&&(i.textContent=e.percent),qr.b.get(sr.id,"showOptimizedSVG").then(function(e){i.classList.toggle("hidden",!e)})}e.count>1&&a.querySelector(".assetCount").classList.add("plural"),t.appendChild(n)}function rt(e,t){return"default"===t?e.displayName:"original"===t?e.layerName:Object($r.a)(e.layerName,t)}function st(e,t,n){var a=document.importNode(ep.content,!0);return Promise.all([nt(t),fa()]).then(function(i){var o=i[0],r=i[1],s=a.querySelector(".assetPreview img"),l=a.querySelector(".assetExports");a.querySelector(".asset").dataset.id=e._id,a.querySelector(".assetPreview").classList.add(o.lightness),a.querySelector(".assetSize").textContent=o.size,s.src=t.url,s.srcset=it(e.contents),a.querySelector(".assetName").textContent=rt(e,r);var c={},u=new Set;e.contents.forEach(function(e){e.format in c?c[e.format]++:c[e.format]=1,u.add(e.density)}),l.innerHTML="";for(var d in c){var m;"svg"===d&&(m=e.contents.find(function(e){return"svg"===e.format})),ot({aid:e._id,format:d,count:c[d],densities:u,percent:m&&m.optimized.percent},l)}n.appendChild(a)}).catch(function(e){})}function lt(e){var t=new Mr.a(e).toHexString();Ad.has(t)||(Be(e,yl),Ad.add(t))}function ct(e){"group"===e.type?("bottom"===e.interactionLevel&&ut(e),e.layers.forEach(function(e){ct(e)}),"top"===e.interactionLevel&&ut(e)):ut(e)}function ut(e){var t=document.importNode(tp.content,!0),n=t.querySelector(".layer"),a=le(e.rect.width),i=le(e.rect.height),o=Bd.snapshot.width,r=Bd.snapshot.height;n.dataset.id=e._id,n.classList.toggle("wideEnough",a>120),n.classList.toggle("longEnough",i>120),n.classList.toggle("tooNarrow",a<3),n.classList.toggle("tooShort",i<3),n.style.width=de(e.rect.width,o),n.querySelector(".layerWidth").textContent=ue(e.rect.width),n.style.height=de(e.rect.height,r),n.querySelector(".layerHeight").textContent=ue(e.rect.height),n.style.left=de(e.absoluteRect.x,o),n.style.top=de(e.absoluteRect.y,r),Nc.appendChild(t),"text"===e.type&&e.textStyles&&e.textStyles.forEach(function(e){e.style.color&&lt(e.style.color)}),e.fills.forEach(function(e){switch(e.fillType){case"color":lt(e.color);break;case"gradient":e.gradient.colorStops.forEach(function(e){lt(e.color)})}}),hl.classList.toggle("empty",!yl.childElementCount)}function dt(e){e.classList.remove("open","resolved")}function mt(e){e.classList.remove("yellow","orange","peach","green","turquoise")}function pt(e){var t=document.createElement("div"),n=Dm[new Mr.a(e.color).hexBase()];return t.classList.add("dot",n,e.status||"open"),t.dataset.id=e._id,t.textContent=e.name||"?",t.dataset.color=n,t.dataset.position=e.x<=.5?"left":"right",t.style.left="calc("+100*e.x+"% - 13px)",t.style.top="calc("+100*e.y+"% - 13px)",Lc.appendChild(t),Lc.lastElementChild}function gt(e,t){var n=es.formatEmojiString(Oc.value.trim(),!0);if(n){um=!1;var a=e._id,i=Ga({author:{_id:Zeplin.user._id,email:Zeplin.user.email,username:Zeplin.user.username,emotar:Zeplin.user.emotar,avatar:Zeplin.user.avatar},note:n,created:Date.now(),updated:Date.now()},a);Pa(t),i.classList.add("loading"),Va(),kc.classList.remove("composing"),Kd.comments=[{note:n}];var o=Kd;delete o.name,fetch(Zeplin.urls.baseURL+"/v2/projects/"+sr.id+"/screens/"+a+"/dots",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(o)}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Or.a(e.status,t)})}).then(function(n){Ud=n,qr.b.set(Nd.pid,"lastNoteColorUsed",o.color.name),t.dataset.id=Ud._id,t.dataset.name=Ud.name,Dc.dataset.id=Ud._id,e.dots.push(Ud),qe(e.dots),qc.innerHTML="&nbsp;",Oc.value="",rm[a]&&rm[a].comment&&(rm[a].comment=null),i.dataset.id=Ud.comments[0]._id,i.querySelector(".commentLink").href=_r.J("project-screen",{url:{pid:sr.id,sid:a},query:{did:Ud._id,cmid:Ud.comments[0]._id}}),i.classList.remove("loading"),um=!0,mixpanel.track("Created dot")}).catch(function(e){i.remove(),kc.classList.add("composing"),Oc.focus(),Or.b(e)})}}function ft(e,t,n,a){var i=document.querySelector(".dot[data-id='"+t+"']"),o=i.dataset.color;if(mt(i),i.classList.add(e),i.dataset.color=e,mt(Dc),Dc.classList.add(e),"undefined"!==t){var r=n._id;fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/screens/"+r+"/dots/"+t,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({color:wm[e]})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){a.color=wm[e],qe(n.dots),qr.b.set(Nd.pid,"lastNoteColorUsed",e),mixpanel.track("Changed dot color")}).catch(function(e){mt(i),i.classList.add(o),i.dataset.color=o,mt(Dc),Dc.classList.add(o),Or.b(e)})}else Kd.color=wm[e]}function ht(e){al.innerHTML="",e.tags=e.tags||[],e.tags.sort().forEach(function(e){var t=document.createElement("a");t.classList.add("tag"),t.dataset.tag=_r.h(e),t.textContent=e,t.href=_r.J("project-dashboard",{url:{pid:sr.id},query:{tag:[e]}}),t.dataset.linkType="inApp",al.appendChild(t)});var t=document.importNode(Su.content,!0),n=_r.x.canManageScreens(lr),a=t.querySelector("#manageTagsButton");a.classList.toggle("disabled",!n),n?(a.dataset.tooltip="Manage tags.",a.dataset.tooltipType="text"):(a.dataset.tooltip=d(lr,"organize screens using tags."),a.dataset.tooltipType="html"),a.addEventListener("click",function(){io(e._id)}),al.appendChild(t)}function yt(e){if(e===Md){if(Um.scrollTop=0,Um.innerHTML="",e.versions.reduce(Le,{}),Bd){var t=document.querySelector(".version[data-id='"+Bd._id+"']");t&&t.classList.add("selected")}bc.classList.toggle("oldVersion",e.versions[0]._id!==Bd._id);var n=e.totalVersionCount-sr.allowedVersionCount;if(n>0){var a=document.importNode(document.getElementById("versionLimitExceeded").content,!0),i=a.querySelector(".versionLimitExceeded");i.classList.toggle("plural",n>1),i.querySelector(".remainingVersionCount").textContent=n,i.querySelector("a").addEventListener("click",function(){mixpanel.track("Clicked version limits learn more button")}),Um.appendChild(a)}else{var o=document.importNode(document.getElementById("initialCommit").content,!0);Um.appendChild(o)}ku.classList.remove("loading")}}function bt(){Md.totalVersionCount?yt(Md):we(Md).then(yt),Gu.classList.add("hidden"),qr.c.set("versionsTutorialSeen",!0),document.querySelector(".versionsToggle").classList.remove("hasNewVersions"),qr.b.set(sr.id,Md._id,"versionsLastSeen",new Date(Md.versions[0].created)),bc.classList.add("versionsShown"),ku.classList.remove("collapsed"),Rt()}function vt(){ku.classList.toggle("collapsed")?bc.classList.contains("oldVersion")?ku.classList.add("compact"):bc.classList.remove("versionsShown"):ku.classList.contains("compact")?ku.classList.remove("compact"):bc.classList.remove("versionsShown"),Rt()}function St(e){var t=!("updateSelectedIndex"in(e=e||{}))||e.updateSelectedIndex,n=!("saveZoomLevel"in e)||e.saveZoomLevel;if(gc.textContent=(100*Gd).toFixed(),pc.disabled=Gd>=5,hc.disabled=Gd<=.25,Xc.classList.toggle("pixelated",Gd>=2),t){for(var a=0;a<fc.childElementCount;a++)if(parseFloat(fc.children[a].value)===Gd){fc.selectedIndex=a;break}fc.childElementCount===a&&(fc.selectedIndex=-1)}ip||(requestAnimationFrame(function(){Bd&&Tt(Bd.snapshot,"zoom"),Sc.classList.contains("zooming")?jc.addEventListener("transitionend",function e(){jc.removeEventListener("transitionend",e),Sc.classList.remove("zooming"),Bd&&Tt(Bd.snapshot,"zoom"),Ra()}):Ra(),ip=!1}),ip=!0),n&&(clearTimeout(np),np=setTimeout(function(){qr.b.set(Nd.pid,"zoomLevel",Gd)},1e3))}function jt(e){if(il.classList.toggle("hidden",!e),e){if(e.vertical){var t=e.vertical,n=t.numberOfCols,a=t.columnWidth+t.gutterWidth,i=Math.min(230*t.columnWidth/a,206);cl.style.width=Math.floor(i)+"px",ul.style.width=Math.ceil(230-i)+"px",sl.textContent=ue(t.columnWidth),ll.textContent=ue(t.gutterWidth),pl.textContent=ue(n*t.columnWidth+(n-!t.guttersOnOutside)*t.gutterWidth),gl.textContent=""+n}else cl.removeAttribute("style"),ul.removeAttribute("style"),pl.textContent="",gl.textContent="";if(e.horizontal){var o=e.horizontal,r=o.rowHeight+o.gutterHeight,s=Math.min(48*o.rowHeight/r,32);dl.style.height=Math.floor(s)+"px",ml.style.height=Math.ceil(48-s)+"px",dl.textContent=ue(o.rowHeight),ml.textContent=ue(o.gutterHeight)}rl.classList.toggle("v",!!e.vertical),rl.classList.toggle("h",!!e.horizontal)}}function Et(e){var t=op.getContext("2d");if(t.clearRect(0,0,op.width,op.height),e.grid){op.width=le(e.width),op.height=le(e.height);var n=e.grid,a="rgba(238, 103, 35, 0.3)";if(n.vertical){var i,o=n.vertical,r=le(o.columnWidth+o.gutterWidth),s=o.numberOfCols,l=le(n.horizontalOffset+(o.guttersOnOutside?o.gutterWidth/2:0));n.horizontal&&!n.horizontal.gutterHeight||!n.vertical.gutterWidth?(a="rgba(0, 255, 255, 0.7)",i=1):i=le(o.columnWidth),s=1===i?s+1:s,t.fillStyle=a;for(var c=l,u=0;u<s;u++)t.fillRect(c,0,i,op.height),c+=r}if(n.horizontal){var d,m=n.horizontal,p=le(m.rowHeight+m.gutterHeight),g=Math.round(op.height/p),f=0|le(n.horizontalOffset);n.vertical&&!n.vertical.gutterWidth||!n.horizontal.gutterHeight?(a="rgba(0, 255, 255, 0.7)",d=1):d=le(m.rowHeight),g=op.height-g*p>p-d?g+1:g,t.fillStyle=a;for(var h=1===d?p:0,y=0;y<g;y++)t.fillRect(f,h,op.width-2*f,d),h+=p}}}function Lt(e,t){var n={_id:t._id,name:e,opacity:1,borderRadius:0,blendMode:"normal",rect:{x:0,y:0,width:t.width,height:t.height},type:"shape",fills:[],borders:[],shadows:[]};return t.backgroundColor&&n.fills.push({fillType:"color",color:t.backgroundColor}),n}function Dt(e){Nc.innerHTML="",Xc.width/Gd===e.width&&Xc.height/Gd===e.height||(Xc.src=""),Xc.src=e.url}function wt(e){var t=20*Gd;Sc.style.width=le(e.width,{padding:240,unit:"px"}),Sc.style.height=le(e.height,{padding:120,unit:"px"}),Sc.style.backgroundImage="linear-gradient(to bottom, transparent 0px, transparent "+2*Gd+"px, #FFF "+2*Gd+"px, #FFF "+t+"px), linear-gradient(to right, #C8C3C7 0, #C8C3C7 "+2*Gd+"px, #FFF "+2*Gd+"px, #FFF "+t+"px)",Sc.style.backgroundPosition=window.innerWidth/2-151-Gd*e.width/2+"px "+(-3*t+58)+"px",Sc.style.backgroundSize=t+"px "+t+"px",jc.style.width=le(e.width,{unit:"px"}),jc.style.height=le(e.height,{unit:"px"}),Xc.style.width=le(e.width,{unit:"px"}),Xc.style.height=le(e.height,{unit:"px"})}function Ct(e,t,n){for(var a=0;a<e.length;a++){var i=e[a];if(i[t]===n)return i;if("group"===i.type){var o=Ct(i.layers,t,n);if(o)return o}}return null}function xt(e){if(Ad=new Set,yl.innerHTML="",Qu.innerHTML="",Nc.innerHTML="",e.layers&&(e.layers.forEach(ct),pr)){var t=Ct(e.layers,"sourceId",pr);pr=null,t&&(t=document.querySelector(".layer[data-id='"+t._id+"']"))&&ha(t)}ed.classList.toggle("hidden",!e.backgroundColor),e.backgroundColor&&Be(e.backgroundColor,Qu),Et(e)}function kt(e){if(vl.innerHTML="",Sl.innerHTML="",void 0===e.assets);else if(Array.isArray(e.assets)&&!e.assets.length)bl.classList.remove("loading"),bl.classList.add("empty"),ss.a.render(ss.a.h(cs.a,{source:Md.source}),_d,document.querySelector(".noScreenAssets"));else{Qs.classList.toggle("densityMismatch",e.density!==sr.density),bl.classList.add("loading"),bl.classList.remove("empty");var t={},n=new Set,a=[];e.assets.forEach(function(e){var i=at(e.contents);i&&(a.push(ya(e).then(function(){return st(e,i,vl)})),e.contents.forEach(function(e){e.format in t?t[e.format]++:t[e.format]=1,n.add(e.density)}))}),Promise.race(a).then(function(){bl.classList.remove("loading","empty")});for(var i in t)ot({aid:"all",format:i,count:t[i],densities:n},Sl)}}function Tt(e,t){rp[t=t||"layers"].forEach(function(t){t(e)})}function _t(e,t){sp?_r.D("Already sent!",t):(sp=!0,fetch(Zeplin.urls.baseURL+"/organizations/"+e+"/requests/join",{method:"POST",headers:Zeplin.headers}).then(function(){_r.D("Invitation sent!",t)}).catch(function(){_r.D("Invitation sent!",t)}))}function qt(e){"dismissed"!==sessionStorage.getItem("transitionBannerStatus"+sr.id)&&xr.b({content:"This project now belongs to an organization but looks like you're not a member yet. For "+(1===e?"a day":e+" days")+", you'll be able to access resources but if you're a designer or a developer, <a href='#'>request an invite</a> from admins.",type:"info",contentType:"html",group:"transition",closeCallback:function(){sessionStorage.setItem("transitionBannerStatus"+sr.id,"dismissed")},bodyCallbacks:{a:function(e){e.preventDefault(),_t(cr._id,document.querySelector("main")),sessionStorage.setItem("transitionBannerStatus"+sr.id,"dismissed"),xr.a("transition")}}})}function Ot(){qr.b.get(sr.id,"noResourceInfoDismissed").then(function(e){var t=document.getElementById("infoContent");if(!e&&!t.querySelector(".noResourceInfo")){var n=Tr.a({content:"This project belongs to an organization but looks like you're not a member.If you're a developer or a designer and want to access these resources, please <a href='#'>request an invite</a> from admins!",type:"html",hideCallback:function(){qr.b.set(sr.id,"noResourceInfoDismissed",!0)},bodyCallbacks:{a:function(e){e.preventDefault(),_t(cr._id,Tu)}}});n.classList.add("noResourceInfo"),t.insertBefore(n,document.querySelector(".screenDescriptionContainer"))}})}function It(e){(e.totalVersionCount?Promise.resolve(e):we(e)).then(function(e){bc.classList.contains("versionsShown")?(yt(e),qr.b.set(sr.id,e._id,"versionsLastSeen",new Date(e.versions[0].created))):Pt(e)})}function At(e){clearTimeout(lp),lp=setTimeout(It,300,e)}function Nt(e,t){clearTimeout(cp);var n=(t=t||e.versions[0]).snapshot,a=n?"layers":"initial";if(n&&Bd._id===t._id&&Tt(n,"partial"),"pawn"===lr.role&&cr&&cr.transitionFinished)return n&&(delete n.layers,delete n.assets),Tt(n,a),Ot(),hl.classList.remove("loading","empty"),hl.classList.add("restricted"),bl.classList.remove("loading","empty"),void bl.classList.add("restricted");je(t._id),n&&"layers"in n?(jt(n.grid),Tt(n,a),pe()):cp=setTimeout(function(){me(),fe(e,t).then(function(e){e&&Bd._id===t._id&&(jt(e.grid),Tt(e,a),pe())})},300)}function Ft(e){var t;return Lc.innerHTML="","dots"in e?(e.dots.forEach(pt),t=qr.b.get(sr.id,"dotListingsStatusFilter").then(function(t){document.querySelector('input[type="radio"][name="dotListingsStatusFilter"][value="'+t+'"]').checked=!0,Lc.dataset.statusFilter=t,qe(e.dots)})):t=new Promise(function(t){clearTimeout(up),up=setTimeout(function(){Oe(e).then(function(){t()})},300)}),t}function Pt(e){var t=document.querySelector(".versionsAuntie");t&&t.remove(),t=null,qr.b.get(sr.id,e._id,"versionsLastSeen").then(function(n){if(!n)return qr.b.set(sr.id,e._id,"versionsLastSeen",new Date(e.versions[0].created));var a=e.versions.filter(function(e){return new Date(e.created)>n});if(document.querySelector(".versionsToggle").classList.toggle("hasNewVersions",a.length),a.length){var i=a.filter(function(e){return e.creator&&e.creator._id===lr.user._id}),o=i.find(function(e){return!e.commit||!e.commit.message}),r=a.length-i.length;o&&"dismissed"!==sessionStorage.getItem("versionsCommitAuntieStatus")?t=Tr.a({content:new Date-new Date(o.created)>36e5?"Looks like you uploaded a version <time is='time-ago' datetime='"+o.created+"'></time>. Add a commit message and share what has changed!":"New version! Add a commit message and share what has changed.",type:"html",buttonText:"Got it!",popover:!0,hideCallback:function(){sessionStorage.setItem("versionsCommitAuntieStatus","dismissed")}}):r&&"dismissed"!==sessionStorage.getItem("newVersionsAuntieStatus")&&(t=Tr.a({content:"There "+(r>1?"are ":"is ")+(r>1?r:"a")+" new version"+(r>1?"s":"")+" since you last visited!",buttonText:"Got it!",popover:!0,hideCallback:function(){sessionStorage.setItem("newVersionsAuntieStatus","dismissed")}})),t&&(t.classList.add("versionsAuntie"),document.body.appendChild(t))}})}function Rt(){return!(!fm||!ym)&&("dashboard"===Hd||"styleguide"===Hd?Fr.a.setViewMenuContext(Hd):bc.classList.contains("versionsShown")?Fr.a.setViewMenuContext("screen-view",{versionsShown:!0}):Fr.a.setViewMenuContext("screen-view"),!0)}function Mt(){fm&&ym&&sr&&(Fr.a.addRecentProject(sr),Fr.a.bindProjectPreferences(sr,wr.id,wr.options,function(e){var t=Dr.find(function(t){return t.id===e});t&&(ms.a.loadExtension(t),O(t.id,!0)),Ta(),Da()},function(e,t){ms.a.updateOption(e,t),Ta(),Da()}))}function Bt(){if(fm&&ym){var e=sr.findUser(Zeplin.user._id),t=[],n=[];_r.x.canDeleteProject(e)?t.push("deleteProject"):n.push("deleteProject"),_r.x.canLeaveProject(e)?t.push("leaveProject"):n.push("leaveProject"),Md?(_r.x.canManageScreens(e)&&(t.push("renameScreen","deleteScreen"),Md.tags.length?(t.push("manageTags"),n.push("addTag")):(n.push("manageTags"),t.push("addTag"))),!_r.x.canUpdateProject(e)||sr.thumbnail&&sr.thumbnail===Md.versions[0].snapshot.url?n.push("setAsThumbnail"):t.push("setAsThumbnail")):n.push("renameScreen","deleteScreen","setAsThumbnail","addTag","manageTags"),Fr.a.updateEditCapabilities({on:t,off:n})}}function Ut(e){CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||(clearTimeout(Am),window.removeEventListener("resize",Ae)),window.removeEventListener("resize",xn);var t=se(e);if(!t&&(zt().length>0&&(Tn(),kn(),t=se(e)),!t))return kr.a({message:"Screen not available anymore.",defer:!0}),void Y(sr.id,_n());ur=t,Rd=parseInt(t.dataset.viewIndex,10),Hn(),(Md=sr.screens.find(function(e){return e._id===ur.dataset.id})).description=Md.description||"",Hd="screen",Fs.dataset.selection="screen",Ms.disabled=0===Rd,Bs.disabled=Rd===Ln()-1,tl.value=Md.description,ni(Md),nl.setAttribute("datetime",Md.updated||sr.updated),ht(Md);var n=_n();return td.value.length&&(n.q=td.value),Rs.href=_r.J("project-dashboard",{url:{pid:sr.id},query:n}),Rs.querySelector("span").textContent="Dashboard",Us.textContent=Md.name,Us.title=Md.name,E(),D(),C(),Bd=Md.versions[0],Nt(Md),At(Md),!Rt()&&pm&&Nr.a.ipcRenderer.send("popout:menuitem:enabled",!0),Bt(),Ft(Md).then(Qo)}function zt(){return Array.from(document.querySelectorAll(".tag.selected:not(.untagged)"),function(e){return _r.H(e.dataset.tag)})}function Ht(){return document.querySelector(".tag.untagged.selected")}function Zt(e){return function(t){return e.reduce(function(e,n){return e&&t.tags&&t.tags.includes(n)},!0)}}function Wt(e,t){var n;return t?("tags"in t?n=Zt(t.tags):"untagged"in t&&(n=function(e){return!e.tags||!e.tags.length}),e.map(function(e){return Object.assign(e,{screens:e.screens.filter(n)})}).filter(function(e){return!!e.screens.length})):e}function Yt(e,t,n,a){e&&_r.x.canManageScreens(lr)&&fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/sections/"+e+"/screens/order",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(n)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).catch(function(n){Or.b(n),Jt(e,t,a)})}function Vt(e,t,n){e&&_r.x.canManageScreens(lr)&&(sr.addScreensToSection(e,t,n),kn())}function Gt(e,t,n){if(e&&_r.x.canManageScreens(lr)){var a=JSON.parse(JSON.stringify(sr.sections));Vt(e,t,n),fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/sections/"+e+"/screens",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({index:n,screens:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).catch(function(e){sr.sections=a,kn(),Or.b(e)})}}function Jt(e,t,n){if(e){sr.updateScreenOrder(e,t,n);var a=bn(e),i=a.querySelector(".screenGrid"),o=parseInt(a.dataset.viewIndexOffset,10);sr.findSection(e).screens.forEach(function(e,t){var n=se(e);n.dataset.index=t,n.dataset.viewIndex=o+t,i.appendChild(n)})}}function Kt(){var e=document.querySelector(".screenMenu");e&&e.remove()}function Xt(){var e=document.querySelector(".sectionMenu");e&&e.remove()}function $t(e){if(e)return fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/sections/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})})}function Qt(e,t){if(e){var n=sr.removeSection(e);return kn(),$t(e).catch(function(e){Or.b(e),sr.addSection(n,t),kn()})}}function en(e,t){var n=e.querySelector(".sectionHeader"),a=document.importNode(pp.content,!0),i=a.querySelector(".sectionMenu");n.getBoundingClientRect().top+150>window.innerHeight&&i.classList.add("toTop"),i.classList.add("open");var o=n.querySelector(".sectionActions");o.parentElement.insertBefore(a,o),i.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".menuitem");if(t){var n=e.target.closest(".section");switch(n.classList.contains("collapsed")&&an(n),t.dataset.action){case"edit-description":var a=n.querySelector(".sectionHeader .sectionDescription"),i=a.closest(".sectionDescriptionForm");n.classList.contains("hasDescription")||(Sn(a,"A sweet, short description"),n.classList.add("hasDescription")),i.classList.add("editing"),i.querySelector(".counter").textContent=a.maxLength-a.value.length,_r.o(a);break;case"rename":_r.o(n.querySelector(".sectionHeader .sectionName"));break;case"delete":Qt(n.dataset.id,n.dataset.index)}}}})}function tn(e,t,n){n=void 0===n||n;var a="collapse"===t;e.classList.toggle("collapsed",a);var i=e.dataset.id;i&&n&&(Id[i]=a,qr.b.set(sr.id,"sectionsCollapseState",Id))}function nn(e,t){tn(e,"collapse",t)}function an(e,t){tn(e,"expand",t)}function on(e){return e&&Id[e]}function rn(e){if(_r.x.canManageScreens(lr)&&!document.querySelector(".tag.selected")&&1!==sr.screens.length&&!td.value.toLowerCase().trim()&&!vd.querySelector("input:checked"))if(e.target.classList.contains("screen")){var t,n=e.target.getBoundingClientRect();if(e.clientX<=n.left)Dd.style.left=n.left-24+"px",t=e.target.dataset.id;else{if(!(e.clientX>=n.right))return;Dd.style.left=n.right+"px",t=re(parseInt(e.target.dataset.viewIndex,10)+1).dataset.id}Dd.dataset.nextScreenId=t,Dd.style.top=ys.scrollTop+n.top-30+"px",Dd.classList.remove("hidden")}else Dd.classList.add("hidden")}function sn(e){if(po(e)){var t=zt(),n=JSON.parse(JSON.stringify(sr.sections)),a={name:e,screens:sr.screens.filter(Zt([e])).map(function(e){return e._id})};sr.addSection(a,1),t.length>0&&(Tn(),On()),Promise.all([kn().then(function(){var e=Ld.querySelector(".section:not(.default)");return e&&_r.o(e.querySelector(".sectionName")),e}),ln(a,1)]).then(function(t){var n=t[0],i=t[1];a._id=i._id,n&&(n.dataset.id=i._id),uo(e)}).catch(function(e){sr.sections=n,Y(sr.id,t.length>0?{tag:t}:{}),Or.b(e)})}}function ln(e,t){return fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/sections/",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({name:e.name,screens:e.screens,index:t})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Or.a(e.status,t)})})}function cn(e,t){if(e){var n=JSON.parse(JSON.stringify(sr.sections)),a=sr.splitSection(e,t,"Untitled section");a.new=!0,kn().then(function(){var t=bn(e),i=t?t.nextElementSibling:Ld.firstElementChild,o=sr.sections.findIndex(function(t){return t._id===e})+1;_r.o(i.querySelector(".sectionName")),ln(a,o).then(function(e){a._id=e._id,i.dataset.id=e._id}).catch(function(e){sr.sections=n,kn(),Or.b(e)})})}}function un(e,t){if(e)return fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/sections/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(t)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})})}function dn(e,t){if(e._id){var n=e.name;e.name=t,un(e._id,{name:t}).catch(function(t){e.name=n,kn().then(function(){Or.b(t,{dialogCallback:function(){var t=bn(e._id);_r.o(t.querySelector(".sectionName"))}})})})}}function mn(e,t){if(e._id){var n=e.description;e.description=t,un(e._id,{description:t}).catch(function(t){e.description=n,kn().then(function(){Or.b(t,{dialogCallback:function(){var t=bn(e._id);_r.o(t.querySelector(".sectionDescription"))}})})})}}function pn(e){var t=e.querySelector(".screenGrid"),n=e.querySelector(".sectionHeader");n.addEventListener("click",function(t){if(t.target.matches(".sectionDescriptionForm .mirror")){var n=t.target.closest(".sectionDescriptionForm"),a=t.target.nextElementSibling;return vn(a),n.classList.add("editing"),n.querySelector(".counter").textContent=a.maxLength-a.value.length,void a.focus()}var i=t.target.closest("button[data-action]");if(i)switch(To(),t.stopPropagation(),i.dataset.action){case"open-menu":en(e,i);break;case"collapse":e.classList.contains("collapsed")?an(e):nn(e)}else e.classList.contains("collapsed")&&(an(e),t.stopPropagation())}),n.addEventListener("blur",function(t){if(_r.x.canManageScreens(lr)&&"input"===t.target.tagName.toLowerCase()){t.preventDefault();var n=e.dataset.id,a=sr.findSection(n);if(a)if(t.target.classList.contains("sectionName")){var i=t.target.value.trim();if(!0===a.new&&delete a.new,i===a.name)return;i?(Sn(t.target,i),dn(a,i)):Sn(t.target,a.name)}else if(t.target.classList.contains("sectionDescription")){var o=t.target.value.trim();if(e.classList.toggle("hasDescription",o.length>0),t.target.closest(".sectionDescriptionForm").classList.remove("editing"),Sn(t.target,o),o===a.description)return;mn(a,o)}}},!0),n.addEventListener("submit",function(e){if(_r.x.canManageScreens(lr)){e.preventDefault();var t=e.target.querySelector("input");t&&t.blur()}}),n.addEventListener("keydown",function(t){if(_r.x.canManageScreens(lr)){t.stopPropagation();var n=t.target.closest("input");if(n&&-1!==["sectionName","sectionDescription"].indexOf(n.name))switch(t.keyCode){case Zeplin.KEY_CODE.ESC:var a=sr.findSection(e.dataset.id);if(!a)return;if(!0===a.new)return void Qt(a._id,parseInt(e.dataset.index,10));Sn(n,a["sectionName"===n.name?"name":"description"]),n.blur()}}});var a=n.querySelector(".sectionDescriptionForm .counter");n.addEventListener("input",function(e){vn(e.target),e.target.classList.contains("sectionDescription")&&(a.textContent=e.target.maxLength-e.target.value.length)}),t.addEventListener("mouseover",rn),t.addEventListener("mouseover",function(e){var t=e.target.closest(".screenLink");t&&(t.classList.add("hover"),t.classList.remove("highlight"))}),t.addEventListener("mouseout",function(e){var t=e.target.closest(".screenLink");t&&t.classList.remove("hover")}),t.addEventListener("keydown",function(e){if(_r.x.canManageScreens(lr)&&(e.stopPropagation(),e.target.classList.contains("screenName")))switch(e.keyCode){case Zeplin.KEY_CODE.ESC:var t=e.target.closest(".screen").dataset.id;e.target.value=sr.screens.find(function(e){return e._id===t}).name,e.target.blur()}}),t.addEventListener("submit",function(e){_r.x.canManageScreens(lr)&&(e.preventDefault(),e.target.querySelector(".screenName").blur())}),t.addEventListener("blur",function(e){if(_r.x.canManageScreens(lr)&&(e.preventDefault(),e.target.classList.contains("screenName"))){var t=e.target.closest(".screen").dataset.id,n=sr.screens.find(function(e){return e._id===t}),a=e.target.closest(".screen").querySelector(".screenNameMirror");if(!e.target.value)return a.classList.remove("hidden"),void(e.target.value=n.name);if(n.name!==e.target.value){a.classList.add("hidden");var i=n.name;n.name=e.target.value,kn(),Ai(t,n.name,i)}else a.classList.remove("hidden")}},!0),t.addEventListener("contextmenu",function(e){To();var t=e.target.closest(".screenLink");if(t){var n=t.parentElement;e.preventDefault();var a=document.importNode(gp.content,!0),i=a.querySelector(".screenMenu");i.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".menuitem");if(t){switch(e.stopPropagation(),t.dataset.action){case"thumbnail":Fi(n.dataset.id);break;case"delete":kr.a({title:'Delete  "'+n.querySelector(".screenName").value+'"?',message:"Deleted screens cannot be restored.",done:{name:"DELETE",cb:function(){n.classList.remove("menuOpen"),Mi(n.dataset.id).then(function(){Re(),qn(zt())})}},cancel:{name:"CANCEL"}});break;case"manageTags":io(n.dataset.id);break;case"download":Ri(n.dataset.id);break;case"move-screen":var a=cr?cr._id:null,i=n.getBoundingClientRect(),o=ss.a.h(ls.a,{top:i.top+i.height/2,left:i.left+172,oid:a,sourceProject:{id:sr.id,name:sr.name},sids:[n.dataset.id],projectType:sr.type,density:sr.density,onMove:function(){var e=sr.findScreenSection(n.dataset.id);sr.removeScreen(e._id,n.dataset.id),Re(),qn(zt())},onClose:function(){n.classList.remove("menuOpen"),ys.classList.remove("noScroll")}});n.classList.add("menuOpen"),ys.classList.add("noScroll"),ss.a.render(o,document.body)}setTimeout(function(){Kt()},80)}}});var o=_r.x.canUpdateProject(lr),r=_r.x.canManageScreens(lr),s=_r.x.canMoveScreens(lr);i.querySelector(".menuitem[data-action='thumbnail']").classList.toggle("hidden",!o),i.querySelector(".menuitem[data-action='manageTags']").classList.toggle("hidden",!r),i.querySelector(".menuitem[data-action='delete']").classList.toggle("hidden",!r),i.querySelector(".menuitem[data-action='move-screen']").classList.toggle("hidden",!s);var l=ao(n.dataset.id);i.classList.toggle("taglessScreen",!l.tags||0===l.tags.length),n.appendChild(a),Ho(i,Cu,n,e)}})}function gn(e){return{screens:e,type:"default"}}function fn(e){var t=[],n={};return e.forEach(function(e){var a,i=_r.m(new Date(e.updated));i in n?a=n[i]:(t.push(i),a=[],n[i]=a),a.push(e)},{}),t.map(function(e){return{name:_r.I(e),screens:n[e],type:"timeline"}})}function hn(){if(!sr.screens.length)return[];var e=sr.sections.map(function(e){return e=Object.assign({},e),e.screens=e.screens.map(function(e){return sr.findScreen(e)}),e.type="user",e});return e[0].screens.length>0?e[0].type="default":e.splice(0,1),e}function yn(e){if((e=e||{}).searchTerm){var t={},n=sr.screens.filter(function(n){var a=_r.d(e.searchTerm,n.name);return t[n._id]=a.score,n.hasFuzzyMatch=a.hasFuzzyMatch,a.score>0}).sort(function(e,n){return t[e._id]<t[n._id]?1:t[e._id]>t[n._id]?-1:0});return n.length>0?[gn(n)]:[]}var a;return a=e.sortBy?"lastUpdated"===e.sortBy?fn(sr.screens.sort(_r.E[e.sortBy])):[gn(sr.screens.sort(_r.E[e.sortBy]))]:hn(),e.tagFilter&&(a=Wt(a,e.tagFilter)),a}function bn(e){return Ld.querySelector(".section[data-id='"+e+"']")}function vn(e,t){var n=e.parentElement.querySelector(".mirror");t?n.innerHTML=Za(e.value.replace(/ /g," ")):n.textContent=e.value.replace(/ /g," ")}function Sn(e,t){e.value=t||"",vn(e,!0)}function jn(e,t,n){var a=document.importNode(Ed.content,!0),i=a.querySelector(".section"),o=a.querySelector(".screenGrid"),r=a.querySelector(".sectionName"),s=a.querySelector(".sectionDescription"),l=a.querySelector(".screenCount"),c=_r.x.canManageScreens(lr);Sn(r,e.name),e._id&&(i.dataset.id=e._id),"user"===e.type&&(r.readOnly=!c,s.readOnly=!c,e.description&&e.description.length&&(Sn(s,e.description),i.classList.add("hasDescription")),e.screens.length>1&&(l.textContent=e.screens.length),i.classList.toggle("empty",0===e.screens.length)),on(e._id)&&!i.classList.contains("empty")?nn(i):an(i),i.classList.add(e.type),i.dataset.index=t,i.dataset.viewIndexOffset=n,e.screens.forEach(function(e,t){Ne(o,e,t,n)}),Ld.appendChild(a),pn(i)}function En(){var e={};td.value&&(e.searchTerm=td.value.toLowerCase().trim());var t=vd.querySelector("input:checked");t&&(e.sortBy=t.name);var n=zt();return n.length?e.tagFilter={tags:n}:Ht()&&(e.tagFilter={untagged:!0}),e}function Ln(){return Ld.querySelectorAll(".screen").length}function Dn(e,t,n){if(e)return sr.updateSectionOrder(e,t),kn(),fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/sections/order",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({sections:[{_id:e,to:parseInt(t,10)}]})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).catch(function(t){sr.updateSectionOrder(e,n),kn(),Or.b(t)})}function wn(e,t){var n=e.getBoundingClientRect();fp.style.top=ys.scrollTop+n.top-30+"px",fp.style.left=t?n.right+11+"px":n.left-13+"px",fp.classList.remove("hidden")}function Cn(){if(Array.from(Ld.querySelectorAll(".screenGrid")).forEach(function(e){ns.a.disable(e.dataset.dragId)}),Ld.innerHTML="",Dd.classList.add("hidden"),!sr.screens||!sr.screens.length)return document.querySelector(".projectOverview").classList.add("empty"),void(au.disabled=!0);document.querySelector(".projectOverview").classList.remove("empty"),document.querySelector(".noIntersection").removeAttribute("data-empty-for"),au.disabled=!1;var e=En(),t=yn(e);"tagFilter"in e&&!t.length&&(document.querySelector(".noIntersection").dataset.emptyFor=Ht()?"untagged":"tagged"),Ld.classList.toggle("locked","sortBy"in e);var n=0;t.forEach(function(e,t){jn(e,t,n),n+=e.screens.length}),ns.a.enable({containers:Array.from(Ld.querySelectorAll(".screenGrid")),dropTargets:Array.from(Ld.querySelectorAll(".section")),root:ys,canGrab:function(){return _r.x.canManageScreens(lr)&&1!==sr.screens.length},onGrab:function(e,t){t.style.height="",Fe();var n=e.getBoundingClientRect(),a=t.getBoundingClientRect();mp=parseInt(e.dataset.index,10),dp=e.closest(".section").dataset.id,wn(e,a.left>n.left),document.body.classList.add("dragging")},onDrop:function(e,t,n){fp.classList.add("hidden"),document.body.classList.remove("dragging");var a=t.dataset.id,i=t.closest(".section").dataset.id;if(dp&&i){if(i===dp){var o=parseInt(t.dataset.index,10);if(o===mp)return;var r={screens:[{_id:a,to:parseInt(mp,10)}]};Jt(dp,a,mp),Yt(dp,a,r,o)}else Gt(dp,[a],mp);dp=null,mp=null}},onMove:function(e,t,n,a,i){var o;if("sortBy"in En()?o="Unselect sort option to reorder":document.querySelector(".tag.selected")?o="Unselect tags to reorder":td.value.toLowerCase().trim()&&(o="Reset search to reorder"),o)document.querySelector(".toastContainer")||_r.D(o,document.querySelector("main"));else{Array.from(Ld.querySelectorAll(".section.dropTarget")).forEach(function(e){e.classList.remove("dropTarget")});var r=i.getBoundingClientRect();if(a){var s=a.getBoundingClientRect(),l=parseInt(a.dataset.index,10),c=parseInt(t.dataset.index,10),u=r.left>s.left,d=0;n===e?d=u?l<c?1:0:l<=c?0:-1:u&&(d=1),mp=l+d,dp=n.closest(".section").dataset.id,wn(a,u)}else if(n){var m=n.querySelectorAll(".screen").length-1;if(n.classList.contains("section")&&(n.classList.contains("empty")||n.classList.contains("collapsed")))return dp=n.dataset.id,mp=n.classList.contains("collapsed")?m+1:0,fp.classList.add("hidden"),void n.classList.add("dropTarget");var p=n.querySelector('.screen[data-index="'+m+'"]'),g=p.getBoundingClientRect();r.bottom>g.top&&r.left>g.left&&(dp=n.closest(".section").dataset.id,mp=m,n!==e&&(mp+=1),wn(p,!0))}}}}),U(),xn()}function xn(){var e=Ld.querySelector(".section:not(.collapsed) .screenLink");if(e){var t=e.getBoundingClientRect();vp=Math.max(36,t.left)+"px"}Array.from(Ld.querySelectorAll(".sectionHeader")).forEach(function(e){e.style.paddingLeft=vp,e.style.paddingRight=vp})}function kn(e){var t=!0;return e&&"immediate"in e&&(t=e.immediate),new Promise(function(e,n){t?(Cn(),e()):(clearTimeout(bp),bp=setTimeout(function(){Cn(),e()},300))})}function Tn(){Fd="",Array.from(document.querySelectorAll(".tag.selected")).forEach(function(e){e.classList.remove("selected")})}function _n(){return Ht()?{untagged:"true"}:Fd||{}}function qn(e){Tn(),e&&(Fd={tag:e},(e=[].concat(e).filter(function(e){return sr.tags.indexOf(e)>-1})).forEach(function(e){document.querySelector(".tag[data-tag='"+decodeURIComponent(_r.h(e)+"']")).classList.add("selected")})),kn()}function On(){var e=zt();Fd=e.length?{tag:e}:{},Ht()?Nd.untagged="true":delete Nd.untagged,Y(sr.id,_n())}function In(){return!Ir.c()||!Dc.classList.contains("hidden")||!eu.classList.contains("hidden")||!cu.classList.contains("hidden")||ad.classList.contains("focus")}function An(){Hn(),Wn(),Fa(),Si(),To(),tl.submitEdits(),oo(),ts.close(),es.close()}function Nn(){mm=!1,dm?(Ec.src=Zeplin.urls.appURL+"/img/grab.svg",document.body.classList.contains("mac")||(Sc.classList.remove("panMode"),Sc.classList.add("holdingSpace"))):Sc.classList.remove("panMode"),document.removeEventListener("mouseup",Nn)}function Fn(){Hn(),To(),jp=0,yr=0,br=0,eu.classList.remove("hidden"),tu.value="",tu.focus(),Object.assign(Qd,sr.screens),Qd.sort(_r.E.name),iu.classList.toggle("noScreen",!Qd.length),nu.innerHTML="",Qd.forEach(vi),Qd.length&&(hr=Qd[0],nu.querySelector(".screenSuggestion[data-id='"+hr._id+"']").classList.add("selected"))}function Pn(){if(Si(),!se(hr._id))return Tn(),td.value="",nd.classList.remove("searching"),ad.classList.remove("focus"),void kn();G(sr.id,hr._id)}function Rn(e){var t;document.querySelector(".screenSuggestion.selected").classList.remove("selected"),jp=e,hr=Qd[e],(t=document.querySelector(".screenSuggestion[data-id='"+hr._id+"']")).classList.add("selected"),_r.A(t)}function Mn(){Us.style.width=getComputedStyle(Us).width,Ps.addEventListener("mouseleave",Bn)}function Bn(){Ps.removeEventListener("mouseleave",Bn),Us.removeAttribute("style")}function Un(){ts.close(),es.close(),Jd&&!Ud&&um&&(Jd.remove(),Kd=null),vc.removeEventListener("scroll",Ra),Ud=null,Jd=null,xc.innerHTML="",xc.scrollTop=0,Dc.classList.add("hidden")}function zn(){!Dc.classList.contains("hidden")&&Md&&(rm[Md._id]=rm[Md._id]||{},Ud?(rm[Md._id].reply=rm[Md._id].reply||{},rm[Md._id].reply[Ud._id]=Oc.value):rm[Md._id].comment=Oc.value)}function Hn(){zn(),Un()}function Zn(){if(Jd){var e=Jd;Un(),ia(e)}}function Wn(e){e=e||{},Yn(),Fc.classList.add("hidden"),e.willReselect||(Qs.classList.add("resourceView"),Qs.classList.remove("layerView")),jc.removeEventListener("mouseover",ea),document.removeEventListener("keydown",ta),document.removeEventListener("keyup",ta),document.removeEventListener("keydown",na),Sc.removeEventListener("mousemove",aa),Yd=!1,jc.classList.remove("measuring"),Zd&&(Zd.classList.remove("selected"),Zd=null,mr=null,dr=null,sm=null,lm=null),Array.from(document.querySelectorAll(".assetStyle")).forEach(function(e){e.dataset.exportType=""})}function Yn(){Uc.classList.add("hidden"),Hc.classList.add("hidden"),Wc.classList.add("hidden"),Vc.classList.add("hidden")}function Vn(e,t){return e.absoluteRect.x===t.absoluteRect.x&&e.absoluteRect.y===t.absoluteRect.y&&e.rect.width===t.rect.width&&e.rect.height===t.rect.height}function Gn(e,t){for(var n=[],a=0;a<e.length;a++){var i=e[a],o=i.absoluteRect.x+i.rect.width,r=i.absoluteRect.y+i.rect.height;i.absoluteRect.x<=t.left&&i.absoluteRect.y<=t.top&&o>=t.right&&r>=t.bottom&&(("group"!==i.type||["bottom","top"].includes(i.interactionLevel))&&n.push(i),"group"===i.type&&(n=n.concat(Gn(i.layers,t))))}return n}function Jn(e,t){if(!t)return[e];var n={left:Math.min(e.absoluteRect.x,t.absoluteRect.x),top:Math.min(e.absoluteRect.y,t.absoluteRect.y),right:Math.max(e.absoluteRect.x+e.rect.width,t.absoluteRect.x+t.rect.width),bottom:Math.max(e.absoluteRect.y+e.rect.height,t.absoluteRect.y+t.rect.height)},a=Gn(Bd.snapshot.layers,n);return e===t&&(a=a.filter(function(t){return!Vn(t,e)})),a.length?a.sort(function(e,t){return e.rect.width*e.rect.height-t.rect.width*t.rect.height}):[Bd.snapshot.layers[0]]}function Kn(e){var t=document.querySelector(".parent");t&&t.classList.remove("parent"),(t=e?document.querySelector(".layer[data-id='"+e+"']"):jc)&&t.classList.add("parent")}function Xn(e,t,n){var a=Bd.snapshot.width,i=e.absoluteRect,o=i.x,r=o+i.width,s=t.absoluteRect,l=s.x,c=l+s.width,u=!1,d=-1,m=-1;if(c<o)d=o-c,Uc.style.left=de(c,a);else if(l<o&&c>r)d=o-l,Uc.style.left=de(l,a),m=c-r,Hc.style.left=de(r,a),Wc.style.left=de((o+r)/2,a),Vc.style.left=de((o+r)/2,a),u=!0;else if(l>o&&c<r)d=l-o,Uc.style.left=de(o,a),m=r-c,Hc.style.left=de(c,a);else if(c>o&&c<r)d=o-l,Uc.style.left=de(l,a),(p=c-o)>7&&(Wc.style.left=de((c+o)/2,a),Vc.style.left=de((c+o)/2,a),u=!0);else if(l>o&&l<r){d=l-o,Uc.style.left=de(o,a);var p=r-l;p>7&&(Wc.style.left=de((l+r)/2,a),Vc.style.left=de((l+r)/2,a),u=!0)}else l>r&&(m=l-r,Hc.style.left=de(r,a));-1!==d&&(Uc.style.width=de(d,a),zc.textContent=Vd?ue(d/n.rect.width,"%"):ue(d),Uc.classList.remove("hidden")),-1!==m&&(Hc.style.width=de(m,a),Zc.textContent=Vd?ue(m/n.rect.width,"%"):ue(m),Hc.classList.remove("hidden")),u||(Wc.style.left=de((l+c)/2,a),Vc.style.left=de((l+c)/2,a))}function $n(e,t,n){var a=Bd.snapshot.height,i=e.absoluteRect,o=i.y,r=o+i.height,s=t.absoluteRect,l=s.y,c=l+s.height,u=!1,d=-1,m=-1;if(c<o)d=o-c,Wc.style.top=de(c,a);else if(l<o&&c>r)d=o-l,Wc.style.top=de(l,a),m=c-r,Vc.style.top=de(r,a),Uc.style.top=de((o+r)/2,a),Hc.style.top=de((o+r)/2,a),u=!0;else if(l>o&&c<r)d=l-o,Wc.style.top=de(o,a),m=r-c,Vc.style.top=de(c,a);else if(c>o&&c<r)d=o-l,Wc.style.top=de(l,a),(p=c-o)>7&&(Uc.style.top=de((c+o)/2,a),Hc.style.top=de((c+o)/2,a),u=!0);else if(l>o&&l<r){d=l-o,Wc.style.top=de(o,a);var p=r-l;p>7&&(Uc.style.top=de((l+r)/2,a),Hc.style.top=de((l+r)/2,a),u=!0)}else l>r&&(m=l-r,Vc.style.top=de(r,a));-1!==d&&(Wc.style.height=de(d,a),Yc.textContent=Vd?ue(d/n.rect.height,"%"):ue(d),Wc.classList.remove("hidden")),-1!==m&&(Vc.style.height=de(m,a),Gc.textContent=Vd?ue(m/n.rect.height,"%"):ue(m),Vc.classList.remove("hidden")),u||(Uc.style.top=de((l+c)/2,a),Hc.style.top=de((l+c)/2,a))}function Qn(e,t,n){Yn();var a=document.querySelector(".parent");a&&a.classList.remove("parent"),e&&t&&(e&&t&&e===t&&(Zd.querySelector(".layerWidth").textContent=Vd?ue(e.rect.width/n.rect.width,"%"):ue(e.rect.width),Zd.querySelector(".layerHeight").textContent=Vd?ue(e.rect.height/n.rect.height,"%"):ue(e.rect.height)),n&&Kn(n._id),Xn(e,t,n),$n(e,t,n))}function ea(e){if(e.stopPropagation(),Vd=e.altKey,mr=null,Yn(),jc.classList.remove("measuring"),e.target.classList.contains("layer")){if(e.target.classList.contains("selected")||jc.classList.add("measuring"),mr=Ct(Bd.snapshot.layers,"_id",e.target.dataset.id),Vd){var t=Jn(dr,mr);_r.b(Wd,t,function(e,t){return e===t})||(Wd=t,Ep=0)}else Wd=[],Ep=0;Qn(dr,mr,Wd[Ep])}else{var n=document.querySelector(".parent");n&&n.classList.remove("parent")}}function ta(e){if(e.keyCode===Zeplin.KEY_CODE.ALT)if(e.preventDefault(),Vd=e.altKey,Yd&&gr)aa(gr);else{var t;Vd?t=(Wd=Jn(dr,mr))[Ep]:(Wd=[],Ep=0),Qn(dr,mr,t)}}function na(e){e.keyCode===Zeplin.KEY_CODE.ArrowUp?(e.preventDefault(),Ep=(Ep+1)%Wd.length,Qn(dr,mr,Wd[Ep])):e.keyCode===Zeplin.KEY_CODE.ArrowDown&&(e.preventDefault(),Ep=(Ep-1+Wd.length)%Wd.length,Qn(dr,mr,Wd[Ep]))}function aa(e){var t=jc.getBoundingClientRect(),n=Bd.snapshot.width,a=Bd.snapshot.height,i=dr.absoluteRect.x,o=i+dr.rect.width,r=dr.absoluteRect.y,s=r+dr.rect.height;e!==gr&&(Vd=e.altKey),Yn(),mr=null,gr=e,e.clientX<t.left&&(Uc.style.left=0,Uc.style.width=de(i,n),zc.textContent=Vd?ue(i/n,"%"):ue(i),Uc.style.top=de((r+s)/2,a),Uc.classList.remove("hidden")),e.clientY<t.top&&(Wc.style.top=0,Wc.style.height=de(r,a),Yc.textContent=Vd?ue(r/a,"%"):ue(r),Wc.style.left=de((i+o)/2,n),Wc.classList.remove("hidden")),e.clientX>t.right&&(Hc.style.left=de(o,n),Hc.style.width=de(n-o,n),Zc.textContent=Vd?ue((n-o)/n,"%"):ue(n-o),Hc.style.top=de((r+s)/2,a),Hc.classList.remove("hidden")),e.clientY>t.bottom&&(Vc.style.top=de(s,a),Vc.style.height=de(a-s,a),Gc.textContent=Vd?ue((a-s)/a,"%"):ue(a-s),Vc.style.left=de((i+o)/2,n),Vc.classList.remove("hidden"))}function ia(e,t){function n(e){if(_r.q(e,vc))Ma();else{var n=e.getBoundingClientRect(),a=vc.scrollLeft,i=vc.scrollTop;n.left<0?a=vc.scrollLeft+n.left-60:n.right>vc.offsetWidth&&(a=n.right-vc.offsetWidth+60),n.top<92?i=vc.scrollTop+n.top-60-Np-60:n.bottom>window.innerHeight&&(i=vc.scrollTop+(n.bottom-window.innerHeight)+60),"scrollTo"in Element.prototype?(vc.scrollTo({left:a,top:i,behavior:"smooth"}),setTimeout(function(){Ma()},450)):(vc.scrollLeft=a,vc.scrollTop=i,Ma())}t?S(t):xc.lastElementChild.scrollIntoView()}if(e&&sr.users){Array.isArray(t)&&1===t.length&&(t=t[0]);var a="string"==typeof e?document.querySelector(".dot[data-id='"+e+"']"):e;a?a!==Jd?(yc.checked=!0,Lc.classList.remove("invisible"),Un(),a.classList.remove("hover"),Jd=a,mt(Dc),dt(Dc),Dc.classList.remove("left","right"),Dc.classList.add(Dm[new Mr.a(wm[Jd.dataset.color]).hexBase()],Jd.dataset.position),Dc.classList.toggle("canRemoveNotes",_r.x.canRemoveNotes(lr)),qc.innerHTML="&nbsp;",Oc.value="",kc.classList.remove("hidden"),"undefined"===Jd.dataset.id?(Dc.classList.add("open"),Dc.dataset.id="undefined",kc.classList.add("composing"),rm[Md._id]&&rm[Md._id].comment&&(qc.innerHTML=_r.h(rm[Md._id].comment)+"&nbsp;",Oc.value=rm[Md._id].comment),setTimeout(function(){Oc.focus(),Oc.setSelectionRange(Oc.value.length,Oc.value.length)},4)):(Ud=Md.dots.find(function(e){return e._id===Jd.dataset.id}),Dc.classList.add(Ud.status),Jd.classList.remove("highlight"),Ud.comments.forEach(function(e){Ga(e,Md._id,Ud._id)}),S(t),Dc.dataset.id=Ud._id,rm[Md._id]&&rm[Md._id].reply&&rm[Md._id].reply[Ud._id]?(kc.classList.add("composing"),qc.innerHTML=_r.h(rm[Md._id].reply[Ud._id])+"&nbsp;",Oc.value=rm[Md._id].reply[Ud._id],setTimeout(function(){Oc.focus(),Oc.setSelectionRange(Oc.value.length,Oc.value.length)},4)):(Va(),kc.classList.remove("composing"))),"undefined"!==Jd.dataset.id?setTimeout(function(){n(Jd)},200):Ma()):S(t):kr.a({message:"Note not available anymore."})}}function oa(e){var t=document.importNode(Lp.content,!0);switch(t.querySelector(".borderPosition").textContent=e.position,t.querySelector(".borderThickness").textContent=ue(e.thickness),Pl.appendChild(t),e.fillType){case"color":Be(e.color,Pl);break;case"gradient":Ue(e.gradient,Pl)}}function ra(e){if(dr){var t=new Ur.a(dr),n=Array.from(ql.children);if("text"===t.type)return"string"==typeof e?ql.querySelector('.textStyleWrapper[data-id="'+e+'"]'):"object"==typeof e?n.find(function(n){var a=t.textStyles[n.dataset.index];return a&&new Br.a(e).equals(a.font)}):void 0}}function sa(e,t){function n(e,t){e.textContent=ue(t,"text")}var a={name:{selector:".layerTextStyle .textStyleName",cb:function(e,t){e.value=t}},fontFace:{selector:".layerFontFace .fontFace"},fontSize:{selector:".layerFontSize",cb:n},textAlign:{selector:".layerTextAlign",cb:function(e,t){e.textContent=t?_r.I(t):""}},lineHeight:{selector:".layerLineHeight",cb:n},letterSpacing:{selector:".layerLetterSpacing",cb:function(e,t){t&&(e.textContent="android"===sr.type?_r.z(t/sr.densityDivisor,2):ue(t,"text"))}},color:{selector:".layerTextColor",cb:function(e,t){e.innerHTML="",t&&Be(t,e)}},header:{selector:".typefaceHeader > h2 > span:nth-child(2)"}};for(var i in t){var o=a[i];if(o){var r=e.querySelector(o.selector);o.cb?o.cb(r,t[i]):r.textContent=t[i]}}}function la(e){var t=document.getElementById("layerTextStyleTemplate"),n=document.importNode(t.content,!0).querySelector(".textStyleWrapper"),a=n.querySelector(".addTextStyle"),i=sr.findTextStyleEqual(e);i&&(n.classList.add("added"),n.dataset.id=i.id,e.name=i.name),sa(n,e);var o=_r.x.canManageTextStyles(lr);return n.querySelector(".textStyleName").readOnly=!o,a.classList.toggle("disabled",!o),k(a,!!i),n}function ca(e){return["turquoise","cornflower-blue","light-green","yellow","peach"][parseInt(e,10)]||"warm-gray-"+e}function ua(e,t){function n(e,t){return'<span class="highlightedLayerContent" data-color-group="'+ca(t)+'">'+_r.h(e)+"</span>"}if(!t.length)return e;var a="",i=0;return t.forEach(function(t){var o=t.range,r=e.substring(o.start,o.end);if(o.start>i)a+=_r.h(e.substring(i,o.start));else if(o.start<i)return;-1===t.groupId?a+=_r.h(r):a+=n(r,t.groupId),i=o.end}),a+=_r.h(e.substring(i,e.length))}function da(e){var t,n=e.getDefaultTextStyle(),a=[],i=0;return e.textStyles.forEach(function(e){if(n&&n.equals(e.font))t=-1;else{var o=a.find(function(t){return t.font.equals(e.font)});o?t=o.groupId:(t=i,i+=1)}a.push(Object.assign({},e,{groupId:t}))}),a}function ma(e){function t(t,n,a){var i=la(t);return i.dataset.index=e.textStyles.findIndex(function(e){return e.font.equals(t)}),n>-1&&(sa(i,{header:a}),i.dataset.colorGroup=ca(n)),ql.appendChild(i),i}var n=da(e),a=[];if(ql.innerHTML="",1===n.length){var i=sr.findTextStyleEqual(n[0].font);"web"===sr.type&&i&&Ar.b(i.name)?wa(i.name,e.content):rd.classList.add("hidden")}else rd.classList.add("hidden");n.sort(function(e,t){return e.range.start-t.range.start}).forEach(function(n,i){if(!(a.indexOf(n.groupId)>-1)){var o=n.range,r=e.content.substring(o.start,o.end);t(n.font,n.groupId,r),a.push(n.groupId)}}),Il.innerHTML=ua(e.content,n)}function pa(e,t,n,a){if(e){nt(t).then(function(e){Zl.className=e.lightness}),Zl.src=t.url,Zl.srcset=it(n.contents),Zl.style.height=Math.min(e.rect.height/sr.densityDivisor+4,160)+"px",Wl.textContent=rt(n,a),Wl.title=rt(n,a);for(var i={},o=new Set,r=0;r<n.contents.length;r++){var s=n.contents[r];s.format in i?i[s.format]++:i[s.format]=1,o.add(s.density)}Yl.innerHTML="";for(var l in i){if("svg"===l)var c=n.contents.find(function(e){return"svg"===e.format});ot({aid:n._id,format:l,count:i[l],densities:o,percent:c&&c.optimized.percent},Yl)}Hl.classList.remove("hidden"),!("jpg"in i)||"svg"in i||"pdf"in i||(n.percent&&(Hl.querySelector(".assetExporter[data-format='"+n.percent.type+"'][data-aid='"+n._id+"']").querySelector(".assetStats").textContent=n.percent.diff),qr.c.get("hideNoVectorAssetInfo").then(function(e){if(!e){var t=Tr.a({content:"This layer contains bitmap images, so no vector assets were generated.",hideCallback:function(){qr.c.set("hideNoVectorAssetInfo",!0)}});Yl.appendChild(t)}})),"web"===sr.type&&Ca(e,n,i,a)}}function fa(){return"android"===sr.type?Promise.resolve("snakeCase"):qr.b.get(Nd.pid,"assetNamingConvention")}function ha(e){if(getSelection().removeAllRanges(),!dm&&e!==Zd&&(Array.from(document.querySelectorAll(".assetStyle")).forEach(function(e){e.dataset.exportType=""}),Yn(),jc.classList.remove("measuring"),Zd&&Zd.classList.remove("selected"),Zd=null,Bd.snapshot.layers&&(dr=Ct(Bd.snapshot.layers,"_id",e.dataset.id)))){Zd=e,mr=dr,pr=dr.sourceId;var t=dr.rect.width,n=dr.rect.height,a=dr.absoluteRect.x,i=dr.absoluteRect.y,o=dr.rotation,r=dr.opacity,s=dr.borderRadius,l=dr.blendMode;if(Zd.classList.add("selected"),Pc.style.top=de(i,Bd.snapshot.height),Mc.style.top="calc("+de(i+n,Bd.snapshot.height)+" - 1px)",Bc.style.left=de(a,Bd.snapshot.width),Rc.style.left="calc("+de(a+t,Bd.snapshot.width)+" - 1px)",Fc.classList.remove("hidden"),jc.addEventListener("mouseover",ea),document.addEventListener("keydown",ta),document.addEventListener("keydown",na),document.addEventListener("keyup",ta),El.textContent=dr.name,Ll.textContent=ue(a),Dl.textContent=ue(i),wl.textContent=ue(t),Cl.textContent=ue(n),xl.textContent=o||"",kl.textContent=1===r?"":Math.round(100*r)+"%",Tl.textContent=ue(0===s?null:s),_l.textContent="normal"===l?"":l,Pl.innerHTML="",dr.borders.forEach(oa),Fl.classList.toggle("hidden",!dr.borders.length),Ml.innerHTML="",dr.shadows.forEach(He),Rl.classList.toggle("hidden",!dr.shadows.length),dr.blur?(Ul.textContent=dr.blur.type,zl.textContent=ue(dr.blur.radius),Bl.classList.remove("hidden")):Bl.classList.add("hidden"),"text"===dr.type?ma(new Ur.a(dr)):rd.classList.add("hidden"),jl.classList.toggle("textLayer","text"===dr.type),dr.exportable){var c=Bd.snapshot.assets.find(function(e){return e.layerId?e.layerId===dr.sourceId:e.layerName===dr.name});if(c){var u=at(c.contents);u?fa().then(function(e){pa(dr,u,c,e)}):(Hl.classList.add("hidden"),id.classList.add("hidden"))}else Hl.classList.add("hidden"),id.classList.add("hidden")}else Hl.classList.add("hidden"),id.classList.add("hidden");dr.fills.length?(Nl.innerHTML="",dr.fills.forEach(function(e){ze(e,Nl)}),Al.classList.remove("hidden")):Al.classList.add("hidden"),Da(),Qs.classList.remove("resourceView"),Qs.classList.add("layerView")}}function ya(e){for(var t={},n=new Set,a=0;a<e.contents.length;a++){var i=e.contents[a];i.format in t?t[i.format]++:t[i.format]=1,n.add(i.density)}return!("jpg"in t)||"svg"in t||"pdf"in t||t.jpg!==t.png?"svg"in t?ba(e.contents.find(function(e){return"svg"===e.format})):Promise.resolve():va(e,n)}function ba(e){return e.optimized=Object.assign({},e,{url:Zeplin.urls.imgURL+"/svgo/"+encodeURIComponent(e.url)}),Promise.all([Sa(e),Sa(e.optimized)]).then(function(t){e.optimized.percent=Math.round((t[0].length-t[1].length)/t[0].length*100)})}function va(e,t){var n=0,a=0,i=0;return Promise.all(e.contents.map(Sa)).then(function(o){t.forEach(function(e){var t=o.filter(function(t){return t.density===e}).reduce(function(e,t){return e[t.format]=t.length,e},{});a+=Number(t.jpg)/Number(t.png),i+=Number(t.png)/Number(t.jpg)}),a=Math.round(100-a/t.size*100),i=Math.round(100-i/t.size*100),a>=10?n={type:"jpg",diff:a}:i>=10&&(n={type:"png",diff:i}),n&&(e.percent=n)}).catch(function(){})}function Sa(e){return fetch(e.url,{method:"HEAD"}).then(function(t){return{format:e.format,density:e.density,length:t.headers.get("Content-Length")}})}function ja(e,t){var n=t||document.getElementById(e+"Style"),a=new Zr.a(n,{lineSeparator:"\n",theme:"theme-zeplin",indentUnit:2,lineWrapping:!0,lineNumbers:!0,lineNumberFormatter:function(){return"●"},readOnly:!0,cursorBlinkRate:-1,viewportMargin:1/0,styleSelectedText:!0});"layer"===e?ir=a:"guideline"===e?(rr=a).on("update",function(){var e=cc.querySelectorAll(".cm-comment");if(e&&e.length)for(var t=[su,lu],n=lc.getBoundingClientRect(),a=0;a<t.length;a++){var i=e[a].getBoundingClientRect();t[a].style.top=i.top-n.top+cc.scrollTop-45+"px"}}):"asset"===e?mc.push(a):"textLayer"===e&&(or=a)}function Ea(e){return Promise.all(e.map(function(e){return qr.b.get(Nd.pid,e)}))}function La(e){Nm=null;var t=wr.layer(e);if(t)return Nm=t.options,{mode:t.mode,content:t.code}}function Da(){if(dr){var e=La(new Ur.a(dr));e?(Od.classList.add("visible"),ir.setOption("mode",Dp[e.mode]),ir.setValue(e.content),ic.value=e.content,ir.refresh()):Od.classList.remove("visible")}}function wa(e,t){var n="<"+e+">"+t+"</"+e+">";rd.classList.remove("hidden"),or.setOption("mode","text/html"),or.setValue(n),sd.value=n,or.refresh()}function Ca(e,t,n,a){if(!n.pdf){var i="img/"+encodeURIComponent(rt(t,a)),o=Ar.e(e.name).replace(".","")||"layer",r=0;id.classList.remove("hidden");var s=Object.keys(n);s.forEach(function(e){var t="";"png"===e?t='<img src="'+i+'.png"\n     srcset="'+i+"@2x.png 2x,\n             "+i+'@3x.png 3x"\n     class="'+o+'">':"svg"===e?t='<img src="'+i+'.svg"\n     class="'+o+'">':"jpg"===e&&(t='<img src="'+i+'.jpg"\n     srcset="'+i+"@2x.jpg 2x,\n             "+i+'@3x.jpg 3x"\n     class="'+o+'">'),xa(e,t,r),r++}),document.querySelector(".assetStyle.secondary").classList.toggle("hidden",1===s.length),document.querySelector(".assetStyle.primary").classList.toggle("singleStyle",1===s.length)}}function xa(e,t,n){var a=!1;Array.from(document.querySelectorAll(".assetStyle")).forEach(function(i){if(!(a||i.dataset.exportType&&i.dataset.exportType!==e)){a=!0,t="\x3c!-- "+e+" --\x3e\n\n"+t,i.dataset.exportType=e,i.querySelector("button").dataset.exportType=e;var o=mc[n];o.setOption("mode","text/html"),o.setValue(t),i.querySelector("textarea").value=t,o.refresh()}})}function ka(e,t,n,a){var i,o,r,s=wr.styleguideColors(t),l=wr.styleguideTextStyles(a);return Fm=s.options,i=s.code,o=l.code,r=wr.comment(e)+"\n\n"+i+"\n\n"+wr.comment(n)+"\n\n"+o,{mode:s.mode,colorStyle:i,textStyle:o,allStyles:r}}function Ta(){ac.classList.remove("hidden"),Cp[1].name=wp[sr.type],document.querySelector(".sampleColors .color:nth-child(2) .colorName").textContent=wp[sr.type];var e,t="color palette";sr.colors&&sr.colors.length?(e=sr.colors,cc.classList.add("projectColor")):(e=Cp,t="sample "+t);var n,a="text styles";sr.textStyles&&sr.textStyles.length?(n=sr.textStyles,cc.classList.add("projectTextStyle")):(n=xp[sr.type],a="sample "+a);var i=ka(_r.I(t),e,_r.I(a),n);oc.value=i.colorStyle,rc.value=i.textStyle,rr.setOption("mode",Dp[i.mode]),rr.setValue(i.allStyles),sc.value=i.allStyles,rr.refresh()}function _a(){return document.querySelector('input[type="radio"][name="dotListingsStatusFilter"]:checked').value}function qa(e,t){e&&(t&&(document.querySelector('input[type="radio"][name="dotListingsStatusFilter"][value="'+e+'"]').checked=!0),Lc.dataset.statusFilter=e,qe(Md.dots),qr.b.set(Nd.pid,"dotListingsStatusFilter",e))}function Oa(e){"web"===sr.type&&Mo(e)}function Ia(){for(var e=0;e<fc.childElementCount;e++){var t=parseFloat(fc.children[e].value);if(t>Gd){Gd=t;break}}Sc.classList.add("zooming"),St()}function Aa(){for(var e=fc.childElementCount-1;e>=0;e--){var t=parseFloat(fc.children[e].value);if(t<Gd){Gd=t;break}}Sc.classList.add("zooming"),St()}function Na(){yc.checked=!0,Lc.classList.remove("invisible"),Lc.addEventListener("transitionend",function e(){Lc.removeEventListener("transitionend",e),setTimeout(function(){Lc.classList.remove("flashing")},200)}),Lc.classList.add("flashing"),Sc.classList.add("noteMode"),Tp=!0}function Fa(){Sc.classList.remove("noteMode"),Tp=!1}function Pa(e){var t=e.getBoundingClientRect(),n=Dc.getBoundingClientRect(),a=Op,i=Op,o=Np,r=!1;t.right<=0?(r=!0,a=Op):t.left>=vc.offsetWidth?(r=!0,a=vc.offsetWidth-Op-n.width):t.left<=n.width+Op+Ip?(Dc.classList.remove("left"),Dc.classList.add("right"),a=t.right+Ip):t.right+Ip+n.width+Op>=vc.offsetWidth?(Dc.classList.remove("right"),Dc.classList.add("left"),a=t.left-Ip-n.width):(Dc.classList.remove("left","right"),Dc.classList.add(e.dataset.position),a="left"===e.dataset.position?t.left-Ip-n.width:t.right+Ip),t.top<=vc.offsetTop+Ap+Op?(r=!0,i=vc.offsetTop+Op):t.bottom>=window.innerHeight-Ap?(r=!0,i=window.innerHeight-n.height-Op):t.top>=window.innerHeight-n.height+Ap-Op?(i=window.innerHeight-n.height-Op,o=t.top-i+Op):t.top+n.height-Np>window.innerHeight?(r=!0,i=window.innerHeight-n.height-Op):i=t.top-Ap,Dc.classList.toggle("overflown",r),Dc.style.transform="translate("+a.toFixed()+"px, "+i.toFixed()+"px)",wc.style.top=o+"px"}function Ra(){Jd&&!Fp&&(requestAnimationFrame(function(){Pa(Jd),Fp=!1}),Fp=!0)}function Ma(){Dc.classList.remove("hidden"),Pa(Jd),vc.addEventListener("scroll",Ra)}function Ba(e){var t=(e=new URL(e)).origin===location.origin,n="zpl:"===e.protocol;if(t||n){var a={};if(e.hash||n){var i=(n?e.search||e.href.substring(e.href.indexOf("?")):e.hash).replace("&amp;","&").substring(1),o=_r.w(i);if(!("pid"in o))return;return a.url={pid:o.pid[0]},"sid"in o?a.url.sid=o.sid[0]:t&&"styleguide"in o||n&&(e.pathname.startsWith("//styleguide")||e.pathname.startsWith("//guideline"))?a.subpage="styleguide":a.subpage="dashboard",a}var r=g(e.pathname);if(r){Object.assign(a,{url:r});var s=e.pathname.match(/\/(dashboard|styleguide)$/);return s&&(a.subpage=s[1]),e.search&&Object.assign(a,_r.w(e.search.replace("&amp;","&"))),a}}}function Ua(e){return function(t){switch(t.getType()){case"url":if(t.protocolRelativeMatch)return!1;var n=Ba(t.getUrl());if(n&&"pid"in n.url&&n.url.pid===sr.id){var a="project-dashboard",i="Dashboard",o=["link"];if("sid"in n.url){a="project-screen";var r=sr.screens.find(function(e){return e._id===n.url.sid});o.push("screenLink"),i=r?r.name:"unknown"}return"subpage"in n&&"styleguide"===n.subpage&&(a="project-styleguide",i="Styleguide"),delete n.subpage,e.push('<a href="'+_r.J(a,n)+'" class="'+o.join(" ")+'" data-link-type="inApp">'+i+"</a>"),"{{link:"+(e.length-1)+"}}"}var s=t.buildTag();return s.setAttr("rel","nofollow external noopener noreferrer"),e.push(s.toAnchorString()),"{{link:"+(e.length-1)+"}}";case"email":return e.push(t.buildTag().toAnchorString()),"{{link:"+(e.length-1)+"}}";default:return!1}}}function za(e){return e.replace(/#([\w-]+)/g,function(e,t){var n=sr.findColorByName(t);return n?'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+n.toCSS()+'"></span></span>':/#[\da-f]{6}/i.test(e)?(n=sr.findColorByHexAndAlpha({hex:e}))?'<span class="color">#'+n.name+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':e})}function Ha(e){return e.replace(fr,function(e){return'<span class="user'+(Xd.test(e)?" self":"")+'">'+e+"</span>"})}function Za(e,t){var n=[],a=new Yr.a({stripPrefix:!1,className:"link",phone:!1,twitter:!1,hashtag:!1,replaceFn:Ua(n)});return(t=t||[]).reduce(function(e,t){return t(e)},a.link(_r.h(e))).replace(/{{link:(\d+)}}/g,function(e,t){return n[parseInt(t,10)]})}function Wa(e){return Za(e,[es.formatEmojiString,_r.F])}function Ya(e){return Za(e,[za,Ha,es.formatEmojiString,_r.F])}function Va(){_c.textContent=xc.lastElementChild.classList.contains("commentOwner")?"POST":"REPLY"}function Ga(e,t,n){delete e.status;var a=document.importNode(Pp.content,!0);Ja(a.querySelector(".comment"),e,t,n),xc.appendChild(a);var i=xc.lastElementChild,o=i.querySelector(".commentNote"),r=i.querySelector(".commentMirror");return o.addEventListener("input",function(){Qa(o,r,i)}),o.addEventListener("keyup",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:Qa(o,r,i)}}),i}function Ja(e,t,n,a){_r.C(e.querySelector(".commentAuthorImage"),t.author),e.querySelector(".commentAuthorName").textContent=t.author?t.author.username:"Anonymous",e.dataset.id=t._id,e.classList.toggle("commentOwner",t.author&&t.author._id===Zeplin.user._id);var i=new Date(t.created),o=new Date(t.updated);e.querySelector(".commentLink").href=_r.J("project-screen",{url:{pid:sr.id,sid:n},query:{did:a,cmid:t._id}}),e.querySelector(".commentCreated").setAttribute("datetime",i);var r=e.querySelector(".commentMirror");r.innerHTML=Ya(t.note),r.classList.toggle("jumboEmojis",Ce(r,t.note)),e.querySelector(".commentEdited").setAttribute("datetime",o-i>3e5?o:"")}function Ka(e,t,n){var a=es.formatEmojiString(Oc.value.trim(),!0);if(es.close(),ts.close(),a){var i=e._id,o=t._id,r=Ga({author:{_id:Zeplin.user._id,email:Zeplin.user.email,username:Zeplin.user.username,emotar:Zeplin.user.emotar,avatar:Zeplin.user.avatar},note:a,created:Date.now(),updated:Date.now()},i,o);Pa(document.querySelector(".dot[data-id='"+o+"']")),r.classList.add("loading"),_r.A(r),Va(),kc.classList.remove("composing"),fetch(Zeplin.urls.baseURL+"/v2/projects/"+sr.id+"/screens/"+i+"/dots/"+o+"/comments",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({note:a})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Or.a(e.status,t)})}).then(function(i){t.comments.push(i),qe(e.dots),qc.innerHTML="&nbsp;",Oc.value="",r.dataset.id=i._id,r.classList.remove("loading"),n?mixpanel.track("Created comment with reaction",{reaction:a}):mixpanel.track("Created comment")}).catch(function(e){r.remove(),kc.classList.add("composing"),Oc.focus(),Or.b(e)})}}function Xa(e,t,n,a){var i=e.querySelector(".commentMirror"),o=e.querySelector(".commentNote"),r=es.formatEmojiString(o.value.trim(),!0);if(es.close(),ts.close(),r&&(i.innerHTML=Ya(r),i.classList.toggle("jumboEmojis",Ce(i,r)),e.classList.remove("editing"),kc.classList.remove("hidden"),Pa(Jd),a.note!==r)){var s=t._id,l=n._id,c=e.dataset.id;e.classList.add("loading"),fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/screens/"+s+"/dots/"+l+"/comments/"+c+"/note",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({note:r})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){a.note=r,qe(t.dots),Ja(e,a,s,l),e.classList.remove("loading"),mixpanel.track("Edited comment")}).catch(function(t){e.classList.remove("loading","jumboEmojis"),e.classList.add("editing"),kc.classList.add("hidden"),o.focus(),Or.b(t)})}}function $a(e,t,n){var a=t._id,i=n._id,o=e.dataset.id,r=Lc.querySelector(".dot[data-id='"+i+"']");1===n.comments.length?(Un(),r.classList.add("hidden")):(e.style.height=getComputedStyle(e).height,e.style.height=0,e.style.padding="0 6px 0 12px"),fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/screens/"+a+"/dots/"+i+"/comments/"+o,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){1===n.comments.length?(mi(t,i),r.remove(),Ud=null,Jd=null,xc.innerHTML="",xc.scrollTop=0):(pi(n,o),e.remove(),Va(),Pa(r)),qe(t.dots),mixpanel.track("Deleted comment")}).catch(function(t){1===n.comments.length?(Dc.classList.remove("hidden"),r.classList.remove("hidden")):e.removeAttribute("style"),Or.b(t)})}function Qa(e,t,n){if(t.innerHTML=_r.h(e.value)+"&nbsp;",e.selectionStart===e.selectionEnd){var a=_r.j(e.value.substring(0,e.selectionStart),!0),i=e.value.charAt(a);if("@"===i){var o=ts.manageSuggestedUsers(e,t,sr);o&&ei(o,n,ts)}else if(":"===i){var r=es.manageSuggestedEmojis(e,t);r&&ei(r,n,es)}else ts.close(),es.close()}}function ei(e,t,n){e.style.top="",e.style.bottom="",t.appendChild(e),n.open(),e.getBoundingClientRect().bottom+12>=window.innerHeight?(e.style.bottom=Dc.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom+t.offsetHeight+"px",e.style.top=""):(e.style.top=t.getBoundingClientRect().top-Dc.getBoundingClientRect().top+t.offsetHeight+"px",e.style.bottom="")}function ti(e){var t=new URL(e.url);ii(t.toString()).then(function(t){var n=new URL(t);e.shortUrl=t,qs.textContent=n.host+n.pathname,qs.classList.remove("fetching")}).catch(function(){e.shortUrl=t.toString(),qs.textContent=t.host+t.pathname,qs.classList.remove("fetching")})}function ni(e){var t=e._id,n=new URL(_r.J("project-screen",{url:{pid:sr.id,sid:t}}));(e.url?Promise.resolve(e.url):ii(n.toString()).catch(function(){return n.toString()})).then(function(t){var n=new URL(t);e.url=t,hd.querySelector(".screenLink.web").classList.remove("fetching"),hd.querySelector(".screenLink.web").textContent=n.host+n.pathname}),hd.querySelector(".screenLink.app").classList.remove("fetching"),hd.querySelector(".screenLink.app").textContent="zpl://screen?pid="+sr.id+"&sid="+t,hd.querySelector(".openInApp").href="zpl://screen?pid="+sr.id+"&sid="+t}function ai(){ii(sr.sceneUrl,"scene").then(function(e){sr.sceneUrl=e,Mu.textContent=e,Bu.href=e}).then(function(){Au.classList.remove("loading"),Nu.disabled=!1,Ru.classList.add("hidden"),Pu.classList.remove("hidden")})}function ii(e,t){var n=Zeplin.urls.baseURL+"/urls"+(t?"?path="+t:"");return fetch(n,{method:"POST",headers:Zeplin.headers,body:JSON.stringify({url:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Or.a(e.status,t)})}).then(function(e){return e.url}).catch(function(e){throw Or.b(e),e})}function oi(e){var t="#text"===e.target.nodeName?e.target.nextElementSibling?e.target.nextElementSibling:e.target.parentElement:e.target,n=(t.id?t.id:t.className).replace(/[A-Z]/g,function(e){return" "+e.toLowerCase()}).replace(/^./,function(e){return e.toUpperCase()}).replace(/ with label$/,"");n&&-1===["Sidebar row","No border","No screen colors","No screen assets","No color message"].indexOf(n)&&mixpanel.track("Copied something from "+e.currentTarget.id.replace(/[A-Z]/g,function(e){return" "+e.toLowerCase()}),{type:n})}function ri(){"web"===sr.type?mixpanel.track("Copied layer style",{type:document.querySelector("input[name='webStyleExportType']:checked").value,showDimensions:Xl.checked,unitlessLineHeight:$l.checked,useMixin:Ql.checked,showDefaultValues:ec.checked}):"ios"!==sr.type&&"osx"!==sr.type||mixpanel.track("Copied attributed string style",{type:document.querySelector("input[name='"+sr.type+"StyleExportType']:checked").value,deploymentTarget:document.querySelector("input[name='"+sr.type+"DeploymentTarget']:checked").value})}function si(e){mixpanel.track("Copied asset style",{type:e})}function li(){mixpanel.track("Copied text layer style html")}function ci(e){mixpanel.track("Selected asset naming convention",{projectType:sr.type,convention:e})}function ui(){var e=document.querySelector(".colorMenu");e&&e.remove()}function di(e){var t,n,a;if("color"===e?(t=wr.exportStyleguideColors(sr.colors),n="colors_"+sr.name+".zip",a="color"):(t=wr.exportStyleguideTextStyles(sr.textStyles),n="textstyles_"+sr.name+".zip",a="text styles"),Array.isArray(t)){var i=new Gr.a;t.forEach(function(e){i.file(e.filename,e.code)}),i.generateAsync({type:"blob"}).then(function(e){Xe({data:URL.createObjectURL(e),name:n})})}else Xe({data:URL.createObjectURL(new Blob([t.code],{type:Lm[t.mode]})),name:t.filename});Yi(a,sr.type,wr.name)}function mi(e,t){return _r.c(e.dots,function(e){return e._id===t})}function pi(e,t){return _r.c(e.comments,function(e){return e._id===t})}function gi(e){sr.removeTextStyle(e);var t=ra(e);if(t&&(t.removeAttribute("data-id"),t.classList.remove("added"),sa(t,{name:""}),k(t.querySelector(".addTextStyle"),!1)),sr.textStyles.length){var n=Kc.querySelector(".font[data-id='"+e+"']");n&&n.remove()}else Kc.innerHTML="";Ta(),Da(),Pe()}function fi(e){window.Notification&&"granted"===Notification.permission&&qr.c.get("notificationStatus").then(function(t){if(t){var n=new Notification(e.title,{body:e.body,icon:"https://secure.gravatar.com/avatar/"+Kr()(e.notifier.email)+"?s=160",name:0});n.addEventListener("show",function(){setTimeout(n.close.bind(n),5e3)}),"handler"in e&&n.addEventListener("click",e.handler)}})}function hi(e){sr.name=e,z(),Es.value=e}function yi(e){R(e),Md&&(Tt(Bd.snapshot,"density"),jt(Bd.snapshot.grid)),Da(),Ta(),Pe()}function bi(e){e=e.toLowerCase();var t,n=[],a=[],i=[],o=[];sr.screens.forEach(function(r){var s=r.name.toLowerCase();s.startsWith(e)?n.push(r):_r.G(s,e)?a.push(r):(t=ji(r,e))?i.push(Object.assign({filterTag:t},r)):s.includes(e)&&o.push(r)}),Qd=n.sort(_r.E.name).concat(a.sort(_r.E.name)).concat(i.sort(_r.E.name)).concat(o.sort(_r.E.name)),iu.classList.toggle("noScreen",!Qd.length),nu.innerHTML="",Qd.forEach(vi),Qd.length&&(hr=Qd[0],nu.querySelector(".screenSuggestion[data-id='"+hr._id+"']").classList.add("selected"))}function vi(e,t){var n=document.importNode(Bp.content,!0),a=n.querySelector(".screenSuggestion");a.dataset.id=e._id,a.dataset.index=t,n.querySelector(".screenName").textContent=e.name,n.querySelector(".tagName").textContent=e.filterTag||"",nu.appendChild(n)}function Si(){tu.value="",tu.blur(),nu.innerHTML="",eu.classList.add("hidden")}function ji(e,t){return e.tags&&e.tags.find(function(e){return e.toLowerCase().includes(t)})}function Ei(e){e.target.parentElement.classList.contains("added")?Li(e.target.parentElement):Di(e)}function Li(e){if(_r.x.canManageColors(lr)){var t=e.dataset.id;"colorPalette"===e.parentElement.id?e.classList.add("hidden"):e.classList.remove("added"),fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/colors/"+t,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){em=!0,Ci(e.dataset.id)}).catch(function(t){Or.b(t),em=!0,"colorPalette"===e.parentElement.id?e.classList.remove("hidden"):(e.querySelector(".colorName").classList.remove("hidden"),e.classList.add("added"))})}}function Di(e){if(_r.x.canManageColors(lr)){var t=e.target.parentElement,n=new Mr.a(JSON.parse(t.dataset.rgbcolor)),a={r:n.r,g:n.g,b:n.b,a:n.a,name:sr.getColorName(n)};t.querySelector(".colorName").value="#"+a.name,t.classList.add("added"),fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/colors",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(a)}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Or.a(e.status,t)})}).then(function(e){em=!0,a._id=e._id,wi(a),_r.D("Added to Styleguide!",Qs)}).catch(function(e){Or.b(e),em=!0,t.querySelector(".colorName").value="",t.classList.remove("added")})}}function wi(e){var t=new Mr.a(e);sr.addColor(t),Me(t);var n=document.querySelectorAll(".color[data-color='"+t.toHexString()+"']");Array.from(n).forEach(function(e){e.dataset.id=t.id,e.querySelector(".colorName").value="#"+t.name,e.querySelector(".colorName").classList.remove("hidden"),e.classList.add("added"),x(e.querySelector(".addColor"),!0)}),Da(),Ta(),Pe(),Zn()}function Ci(e){sr.removeColor(e);var t=Qs.querySelectorAll(".color[data-id='"+e+"']");if(Array.from(t).forEach(function(e){e.querySelector(".colorName").value="",e.classList.remove("added"),x(e.querySelector(".addColor"),!1)}),sr.colors.length){var n=$s.querySelector(".color[data-id='"+e+"']");n&&n.remove()}else $s.innerHTML="";Da(),Ta(),Pe(),Zn()}function xi(e,t){sr.updateColor(e,t);var n=$s.querySelector(".color[data-id='"+e+"']");if("name"in t){var a=Qs.querySelectorAll(".color[data-id='"+e+"'] .colorName");Array.from(a).forEach(function(e){e.value="#"+t.name}),n.querySelector(".colorName").value=t.name}if("r"in t||"g"in t||"b"in t||"a"in t){var i=sr.findColorById(e),o=Qs.querySelectorAll(".color[data-id='"+e+"']");Array.from(o).forEach(function(e){e.querySelector(".colorName").textContent="",e.classList.remove("added"),e.removeAttribute("data-id"),x(e.querySelector(".addColor"),!1)}),o=Qs.querySelectorAll(".color[data-color='"+i.toHexString()+"']"),Array.from(o).forEach(function(t){t.querySelector(".colorName").value="#"+i.name,t.classList.add("added"),t.dataset.id=e,x(t.querySelector(".addColor"),!0)}),n.querySelector(".colorPreview").style.backgroundColor=i.toCSS(),n.querySelector(".colorHex").value=i.hexBase(),n.querySelector(".colorAlpha").value=Math.round(100*i.a),n.querySelector(".colorRGB").textContent=i.toRGBAString()}Da(),Ta(),Pe(),Zn()}function ki(e,t,n){if(_r.x.canManageColors(lr)){var a=n.dataset.id;fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/colors/"+a,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(e)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){xi(a,e)}).catch(function(e){Or.b(e),n.querySelector(".colorName").value=(n.querySelector(".colorNameForm")?"#":"")+t.name,n.querySelector(".colorHex").value=t.hexBase(),n.querySelector(".colorAlpha").value=t.a?100*t.a:100})}}function Ti(e){To();var t=document.importNode(Up.content,!0),n=t.querySelector(".memberMenu"),a=e.dataset.id;n.addEventListener("click",function(t){if(t.button===Zeplin.MOUSE_BUTTON.LEFT){var n=t.target.closest(".menuitem");if(n){switch(t.stopPropagation(),n.dataset.action){case"assign":qi(a,"admin",e);break;case"unassign":qi(a,"user",e);break;case"transfer":kr.a({message:'Transfer ownership of "'+sr.name+'" to '+e.querySelector(".memberName").textContent+"?",done:{name:"TRANSFER",cb:function(){Ii(a)}},cancel:{name:"CANCEL"}});break;case"remove":var i,o;a===Zeplin.user._id?(i='Leave "'+sr.name+'"?',o="LEAVE"):(i='Remove "'+e.querySelector(".memberName").textContent+'" ?',o="REMOVE"),kr.a({message:i,done:{name:o,cb:function(){Oi(a)}},cancel:{name:"CANCEL"}})}setTimeout(function(){_i()},80)}}});var i=ke(a);_r.r(sr)?(n.querySelector(".menuitem[data-action='assign']").classList.add("hidden"),n.querySelector(".menuitem[data-action='unassign']").classList.add("hidden"),n.querySelector(".menuitem[data-action='transfer']").classList.add("hidden")):(n.querySelector(".menuitem[data-action='assign']").classList.toggle("hidden","user"===lr.role||"user"!==i.role),n.querySelector(".menuitem[data-action='unassign']").classList.toggle("hidden","user"===lr.role||"admin"!==i.role),n.querySelector(".menuitem[data-action='transfer']").classList.toggle("hidden",!_r.x.canTransferOwnership(lr))),n.querySelector(".menuitem[data-action='remove']").classList.toggle("hidden","owner"===i.role||_r.x.isSuperior(i,lr)),e.classList.add("memberMenuOpen"),e.appendChild(t)}function _i(){var e=document.querySelector(".memberMenu");e&&(e.parentElement.classList.remove("memberMenuOpen"),e.remove())}function qi(e,t,n){fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/users/"+e+"/role",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({role:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){n.dataset.role=t,sr.changeUserRole(e,t),p(sr.users)}).catch(Or.b)}function Oi(e){fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/users/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){sr.removeUser(e),e===Zeplin.user._id?(Un(),Z()):(p(sr.users),Ir.d(sr.id,e))}).catch(Or.b)}function Ii(e){fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/users/"+e+"/ownership",{method:"POST",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){sr.changeUserRole(Zeplin.user._id,"admin"),sr.changeUserRole(e,"owner"),p(sr.users)}).catch(Or.b)}function Ai(e,t,n){_r.x.canManageScreens(lr)&&fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/screens/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({name:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).catch(function(t){sr.screens.find(function(t){return t._id===e}).name=n,kn().then(function(){Or.b(t,{dialogCallback:function(){var t=se(e);t.querySelector(".screenNameMirror").classList.add("hidden"),_r.o(t.querySelector(".screenName"))}})})})}function Ni(e){_r.x.canUpdateProject(lr)&&fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/name",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({name:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Or.a(e.status,t)})}).then(function(e){hi(e.name),B(e.prefix,!0,!0)}).catch(function(e){Or.b(e,{dialogCallback:function(){_r.o(Es)}})})}function Fi(e){if(_r.x.canUpdateProject(lr)){var t=ao(e),n=se(e),a=Ld.querySelector(".screen.thumbnail");return fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/thumbnail",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({thumbnail:t.versions[0].snapshot.url})}).then(function(){sr.thumbnail=t.versions[0].snapshot.url,a&&a.classList.remove("thumbnail"),n&&n.classList.add("thumbnail")})}}function Pi(e){var t=ao(e);return We(t.versions[0].snapshot).then(function(e){var n=new Blob([e.data],{type:Lm.png}),a=t.name+".png";return{data:URL.createObjectURL(n),name:a}})}function Ri(e){if(document.body.classList.contains("canDownload"))Pi(e).then(Xe);else{var t=ao(e).versions[0].snapshot.url;t.includes("raven-warehouse")||(t="https://cdn.zeplin.io"+new URL(t).pathname),s(t)}}function Mi(e){var t=se(e),n=sr.findScreenSection(e);return t&&t.classList.add("hidden"),fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/screens/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){sr.removeScreen(n._id,e)},function(e){Or.b(e),t&&t.classList.remove("hidden")})}function Bi(e,t){var n=Td.querySelector(".integration[data-id='"+t+"']");n&&n.classList.add("hidden"),fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/integrations/"+e+"/"+t,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){n&&n.remove(),sr.removeIntegration(e,t),sr.integration[e].length||(Td.classList.add("hidden"),fd.classList.remove("hidden"))}).catch(function(e){Or.b(e),n&&n.classList.remove("hidden")})}function Ui(){var e=document.querySelector(".slackSettingsMenu");e&&(e.parentElement.classList.remove("slackMenuOpen"),e.remove())}function zi(e){Td.innerHTML="",e.reverse().forEach(Hi),fd.classList.add("hidden"),Td.classList.remove("hidden")}function Hi(e){var t=document.importNode(Hp.content,!0).querySelector(".integration"),n=t.querySelector(".slackChannel"),a=new URL(e.incomingWebHook.configurationURL),i=t.querySelector(".slackSettingsButton"),o=_r.x.canUpdateProject(lr);i.classList.toggle("disabled",!o),o?(i.removeAttribute("data-tooltip"),i.removeAttribute("data-tooltip-type")):(i.dataset.tooltip=d(lr,"update Slack integration."),i.dataset.tooltipType="html"),n.textContent=e.incomingWebHook.channel,n.href=a.origin+"/messages/"+(e.incomingWebHook.channelId||e.incomingWebHook.channel.replace("#","")),t.dataset.id=e._id,Td.appendChild(t)}function Zi(e,t){t.value=t.value.trim();var n=sr.findTextStyleById(e),a=t.value;a.length?n.name!==a&&Qi(e,{name:a}):t.value=n.name}function Wi(e,t,n){if(t.name!==e){var a=(n.querySelector(".colorNameForm")?"#":"")+t.name;e&&!Cm[sr.type].test(e)?sr.checkDuplicateColorName(e,t)?(kr.a({title:e+" already exists",message:"Please enter another name for this color.",done:{name:"GOT IT"}}),n.querySelector(".colorName").value=a):ki({name:e},t,n):n.querySelector(".colorName").value=a}}function Yi(e,t,n){mixpanel.track("Exported styleguide "+e,{projectType:Cr.b[t],type:n})}function Vi(e){sr.addTextStyle(e),Ta(),Da(),Pe();var t=ra(e);t&&(t.classList.add("added"),sa(t,{name:e.name}),t.dataset.id=e._id,k(t.querySelector(".addTextStyle"),!0))}function Gi(e){if(_r.x.canManageTextStyles(lr))return fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/textStyles",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(function(e){var t={};return["name","fontFace","fontSize","lineHeight","letterSpacing","textAlign","color"].forEach(function(n){t[n]=e[n]}),t}(e))}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Or.a(e.status,t)})}).then(function(t){e._id=t._id,Vi(e)})}function Ji(e){if(_r.x.canManageTextStyles(lr)){var t=new Ur.a(dr).textStyles[e.dataset.index],n=t&&t.font;return n.name=sr.getTextStyleName(),tm=!1,e.classList.add("added"),sa(e,{name:n.name}),Gi(n).then(function(e){tm=!0,_r.D("Added to Styleguide!",Qs),Da()}).catch(function(t){Or.b(t),tm=!0,e.classList.remove("added"),sa(e,{name:""})})}}function Ki(e){if(_r.x.canManageTextStyles(lr))return fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/textStyles/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){gi(e)})}function Xi(e){return Ki(e).catch(function(e){Or.b(e)})}function $i(e){return tm=!1,e.classList.remove("added"),Ki(e.dataset.id).then(function(){tm=!0}).catch(function(t){Or.b(t),e.classList.add("added"),tm=!0})}function Qi(e,t){_r.x.canManageTextStyles(lr)&&fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/textStyles/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(t)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){sr.updateTextStyle(e,t),Ta(),Da(),Pe(),"name"in t&&ql&&1===ql.querySelectorAll(".textStyleWrapper").length&&Ar.b(t.name)?wa(t.name,Il.textContent):rd.classList.add("hidden")}).catch(function(n){Or.b(n);var a=document.querySelector(".font[data-id='"+e+"']");"name"in t&&_r.o(a.querySelector(".styleName")),"color"in t&&a.querySelector(".colorContainer").classList.remove("hidden")})}function eo(){var e=document.querySelector(".textStyleMenu");e&&e.remove()}function to(e,t){for(var n=0;n<e.length;n++)if(e[n].toLowerCase()===t.toLowerCase())return!0;return!1}function no(e,t,n){if(!cu.classList.toggle("taglessProject",0===e.length&&!n)){t=t||[],yu.innerHTML="";var a=0;Wp=0,e.forEach(function(e){if(-1===t.indexOf(e)&&(!n||-1!==e.toLowerCase().indexOf(n.toLowerCase()))){var i=document.importNode(fu.content,!0);0===yu.childElementCount&&i.querySelector(".tagSuggestion").classList.add("selected"),i.querySelector(".tagSuggestion").dataset.tag=_r.h(e),i.querySelector(".tagSuggestion").dataset.suggestionIndex=a,a++,i.querySelector(".tagSuggestion .tagSuggestionText").textContent=e,yu.appendChild(i)}}),!n||to(e,n)?(uu.classList.add("hidden"),uu.classList.remove("selected")):(uu.classList.remove("hidden"),uu.dataset.suggestionIndex=a,uu.dataset.tag=_r.h(n),du.textContent=n,uu.classList.toggle("selected",0===yu.childElementCount)),cu.classList.toggle("taglessScreen",0===t.length)||(hu.innerHTML="",t.forEach(function(e){var t=document.importNode(gu.content,!0);t.querySelector(".tagOfScreen").dataset.tag=_r.h(e),t.querySelector(".tagButtonText").textContent=e,hu.appendChild(t)}))}}function ao(e){if(sr.screens)return sr.screens.find(function(t){return t._id===e})}function io(e){_r.x.canManageScreens(lr)&&(yr=0,br=0,Hn(),To(),cu.classList.remove("hidden"),cu.dataset.sid=e,vu.value="",vu.focus(),no(sr.tags,ao(e).tags))}function oo(){vu.value="",vu.blur(),cu.classList.add("hidden")}function ro(e){Md&&ht(ao(Md._id)),Re(),e&&("dashboard"===Hd?On():kn()),cu.classList.contains("hidden")||no(sr.tags,ao(cu.dataset.sid).tags,vu.value)}function so(e){_r.x.canManageScreens(lr)&&fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/screens/tags",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({screens:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).catch(function(t){Or.b(t),e.forEach(function(e){var t=ao(e._id);"add"===e.operation?t.tags=t.tags.filter(function(t){return-1===e.tags.indexOf(t)}):t.tags=t.tags.concat(e.tags),Bt()}),ro()})}function lo(e,t,n){_r.x.canManageScreens(lr)&&(vu.value="",so([{_id:e._id,operation:n,tags:[t]}]),"add"===n?(e.tags=e.tags||[],e.tags.push(t)):e.tags=e.tags.filter(function(e){return e!==t}),Bt(),ro(Ht()||"remove"===n&&!!vs.querySelector(".tag.selected[data-tag='"+_r.h(t)+"']")))}function co(e){var t=pu.querySelector(".tagSuggestion[data-suggestion-index='"+e+"']");t&&(pu.querySelector(".tagSuggestion.selected").classList.remove("selected"),t.classList.add("selected"),_r.A(t),Wp=e)}function uo(e){_r.x.canManageScreens(lr)&&(so(sr.deleteTag(e)),ro(Ht()||!!vs.querySelector(".tag.selected[data-tag='"+_r.h(e)+"']")))}function mo(){var e=document.querySelector(".tagMenu");e&&e.remove()}function po(e){var t=sr.screens.filter(Zt([e]));return 0!==t.length&&t.every(function(e){var t=sr.findScreenSection(e._id);return sr.isDefaultSection(t._id)})}function go(e,t,n,a){var i=parseInt(t.dataset.minWidth,10);if(t.classList.contains("collapsed")){if(!(e>i/2))return;t.classList.remove("collapsed"),a&&a(t)}t.style.width=e+"px",e<i?(document.body.classList.add("minResizing"),t.classList.toggle("collapsed",e<i/2)&&n&&n(t)):e>t.clientWidth?(t.classList.add("maxSizebar"),document.body.classList.add("maxResizing")):(t.classList.remove("maxSizebar"),document.body.classList.remove("maxResizing","minResizing"))}function fo(e,t,n){function a(t){t.preventDefault&&t.preventDefault(),go(i="left"===e.dataset.side?t.clientX||t.changedTouches[0].clientX:window.innerWidth-(t.clientX||t.changedTouches[0].clientX),e,n.onCollapse,n.onExpand),n.onResize&&n.onResize()}n=n||{};var i;document.body.classList.add("resizing","resizing"+e.dataset.side),e.classList.add("resizing"),document.addEventListener(Er,a),document.addEventListener(Lr,function n(){e.style.width=e.clientWidth+"px",qr.b.set(Nd.pid,t,i),document.body.classList.remove("resizing","resizing"+e.dataset.side,"maxResizing","minResizing"),e.classList.remove("resizing"),setTimeout(function(){rr.refresh(),Object.keys(mc).forEach(function(e){mc[e].refresh()}),ir&&ir.refresh()},8),document.removeEventListener(Er,a),document.removeEventListener(Lr,n)})}function ho(e,t){var n=t.dataset.id;t.classList.add("hidden"),fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/screens/"+e._id+"/dots/"+n,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){mi(e,n),qe(e.dots),t.remove(),mixpanel.track("Deleted dot")}).catch(function(e){t.classList.remove("hidden"),Or.b(e)})}function yo(){var e=document.querySelector(".dotMenu"),t=document.querySelector(".dot.menuOpen");e&&(e.remove(),t&&t.classList.remove("menuOpen"))}function bo(e){function t(t){var a=e.getBoundingClientRect();if(r){t.preventDefault();var l=Lc.getBoundingClientRect();Un(),e.classList.add("moving"),e.style.zIndex=om+5,im=!0,s.x=Math.max(0,Math.min((t.clientX-l.left)/l.width,1)),s.y=Math.max(0,Math.min((t.clientY-l.top)/l.height,1)),e.dataset.position=s.x<=.5?"left":"right",e.style.left="calc("+100*s.x+"% - 13px)",e.style.top="calc("+100*s.y+"% - 13px)",n=requestAnimationFrame(function(){e.classList.toggle("overlap",Lo(e))})}else o={x:Math.abs(t.clientX-a.left+13),y:Math.abs(t.clientY-a.top+13)},Math.hypot(o.x,o.y)>i&&(r=!0)}var n,a={},i=12,o={},r=!1;yo();var s=Md.dots.find(function(t){return t._id===e.dataset.id});a.x=s.x,a.y=s.y,document.addEventListener("mousemove",t),document.addEventListener("mouseup",function i(o){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",i),r?(cancelAnimationFrame(n),r=!1,o.target.classList&&o.target.classList.contains("dot")||(im=!1),e.classList.remove("moving","overlap"),e.style.zIndex=++om,Lo(e)?(e.addEventListener("transitionend",function t(){e.removeEventListener("transitionend",t),e.classList.remove("backToFuture")}),e.classList.remove("hover"),e.classList.add("backToFuture"),e.dataset.position=a.x<=.5?"left":"right",e.style.left="calc("+100*a.x+"% - 13px)",e.style.top="calc("+100*a.y+"% - 13px)",s.x=a.x,s.y=a.y):a.x===s.x&&a.y===s.y||Eo({x:s.x,y:s.y},a,e),a=null):Dc.classList.remove("hidden")})}function vo(e){var t=fl.lastElementChild.getBoundingClientRect();e.style.left=t.left-233+"px",e.style.top=t.top+32+"px",e.style.bottom="initial"}function So(){Tu.classList.contains("collapsed")&&go(300,Tu);var e,t;t=new MutationObserver(function(t){t.forEach(function(t){vo(e)})}),vo(e=Tr.a({content:"Ping ping! You can access the resolved notes from this tab.",popover:!0,anchor:"top",noControls:!0,hideCallback:function(){t.disconnect(),qr.c.set("resolvedDotsTutorialSeen",!0)}})),t.observe(Tu,{attributes:!0,attributeFilter:["style"]}),document.body.appendChild(e),setTimeout(function(){t.disconnect(),e.remove(),qr.c.set("resolvedDotsTutorialSeen",!0)},1e4)}function jo(e,t){var n=Md.dots.find(function(t){return t._id===e}),a=n.status;n.status=t;var i=document.querySelector(".dot[data-id='"+e+"']");Dc.dataset.id===e&&Un(),dt(i),i.classList.add(t),qe(Md.dots),qr.c.get("resolvedDotsTutorialSeen").then(function(e){!e&&"resolved"===t&&Qs.classList.contains("resourceView")&&"dot"!==fl.dataset.selection&&So()}),fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/screens/"+Md._id+"/dots/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({status:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){return Or.a(e.status,t)});mixpanel.track("Re"+("open"===t?"open":"solv")+"ed dot")}).catch(function(e){n.status=a,i.classList.remove(t),i.classList.add(a),qe(Md.dots),Or.b(e)})}function Eo(e,t,n){fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/screens/"+Md._id+"/dots/"+n.dataset.id,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(e)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){mixpanel.track("Moved dot",{distance:Math.hypot(jc.offsetWidth*(e.x-t.x),jc.offsetHeight*(e.y-t.y))/Gd})}).catch(function(e){n.dataset.position=t.x<=.5?"left":"right",n.style.left="calc("+100*t.x+"% - 13px)",n.style.top="calc("+100*t.y+"% - 13px)",Or.b(e)})}function Lo(e){if(document.elementsFromPoint){for(var t=e.getBoundingClientRect(),n=document.elementsFromPoint(t.left+13,t.top+13),a=0;a<n.length;a++)if(n[a].classList.contains("dot")&&n[a]!==e)return!0;return!1}return Do(e)}function Do(e){for(var t=e.getBoundingClientRect(),n=document.querySelectorAll(".dot"),a=t.left+13,i=t.top+13,o=0;o<n.length;o++){var r=n[o].getBoundingClientRect();if(n[o]!==e&&a>r.left&&a<r.right&&i>r.top&&i<r.bottom)return!0}return!1}function wo(e){e.stopPropagation(),To();var t,n,a=document.importNode(qu.content,!0).querySelector(".shortLinkMenu");t=sr.shortUrl,n="zpl://project?pid="+sr.id,_u.classList.add("menuOpen"),a.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var a=e.target.closest(".menuitem");if(a){e.stopPropagation();var i;switch(a.dataset.action){case"copy-app-uri":i=n;break;case"copy-web-link":i=t}_r.e({content:i,toastContainer:Cu}),setTimeout(function(){Co()},80)}}}),_u.appendChild(a)}function Co(){var e=document.querySelector(".shortLinkMenu");e&&e.remove(),_u.classList.remove("menuOpen")}function xo(e){fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/public",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({public:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){sr.public=e,e?ai(sr):_r.D("Unshared the Scene link.",Cu)}).catch(Or.b)}function ko(){var e=document.querySelector(".shareSceneMenu");e&&e.remove()}function To(){Array.from(document.querySelectorAll(".sidebarOptionsButton")).forEach(Wo),Array.from(document.querySelectorAll(".exportOptionsMenu")).forEach(function(e){e.remove()}),Array.from(document.querySelectorAll(".optionsOpen")).forEach(function(e){e.classList.remove("optionsOpen")}),Ir.a(),Cu.removeEventListener("scroll",Vo),xu.removeEventListener("listRefreshed",Go),ui(),eo(),Kt(),mo(),_i(),yo(),Co(),ko(),Ro(),Ui(),Xt(),ts.close(),es.close()}function _o(e){sr.screens.find(function(t){return t._id===e.body._id})||(e.body.dots=e.body.dots||[],e.body.tags=e.body.tags||[],e.body.versions=[e.body.latestVersion],delete e.body.latestVersion,delete e.body.versions[0].snapshot.layers,sr.addScreen(e.body),kn(),"dashboard"!==Hd||CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||Ie())}function qo(e){var t=sr.screens.find(function(t){return t._id===e.params.sid});if(t&&!t.versions.find(function(t){return t._id===e.body._id})){var n=t.versions[0]._id,a=sr.addVersion(e.params.sid,e.body),i=t.versions[0],o=se(e.params.sid);o&&(_r.y(o.querySelector(".screenImage"),e.body.snapshot,"url"),o.querySelector(".screenLastUpdated").setAttribute("datetime",t.updated),Md===t&&(nl.setAttribute("datetime",t.updated),(Bd._id===n||a&&a._id===Bd._id)&&(Qs.classList.add("resourceView"),Qs.classList.remove("layerView"),Bd=i,Nt(t),a&&a._id===Bd._id&&_r.D("Displayed version is not available anymore.",document.querySelector("main"))),bc.classList.contains("versionsShown")?(yt(t),qr.b.set(sr.id,t._id,"versionsLastSeen",new Date(i.created))):Pt(t)))}}function Oo(){var e=arguments[arguments.length-1].body.integration.slacks.filter(function(e){return!sr.integration.slacks.find(function(t){return t._id===e._id})});e.length&&(e.forEach(function(e){sr.addIntegration("slacks",e)},sr),zi(sr.integration.slacks),_())}function Io(){var e=$("slackEmojis");return(e?Promise.resolve(e):fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/integrations/slacks/emojis",{headers:Zeplin.headers}).then(function(e){if(e.ok)return e.json()}).catch(function(){})).then(function(e){e&&"emoji"in e&&is.a.addCustomEmojis(e.emoji)})}function Ao(e){return{createScreen:"project:"+e+":createScreen",createVersion:"project:"+e+":createVersion",authSlack:"project:"+e+":authSlack"}}function No(){Vp&&(Nr.a.ipcRenderer.removeAllListeners(Vp.createScreen),Nr.a.ipcRenderer.removeAllListeners(Vp.createVersion),Nr.a.ipcRenderer.removeAllListeners(Vp.authSlack)),sr&&sr.id&&(Vp=Ao(sr.id),Nr.a.ipcRenderer.on(Vp.createScreen,function(){var e=arguments[arguments.length-1];if("string"==typeof e.body.latestVersion.creator){var t=ke(e.body.latestVersion.creator,!0);e.body.latestVersion.creator={_id:t.user._id,email:t.user.email,username:t.user.username,emotar:t.user.emotar,avatar:t.user.avatar}}if("string"==typeof e.body.latestVersion.commit.author){var n=ke(e.body.latestVersion.commit.author,!0);e.body.latestVersion.commit.author={_id:n.user._id,email:n.user.email,username:n.user.username,emotar:n.user.emotar,avatar:n.user.avatar}}_o(e)}),Nr.a.ipcRenderer.on(Vp.createVersion,function(){var e=arguments[arguments.length-1];if("string"==typeof e.body.creator){var t=ke(e.body.creator,!0);e.body.creator={_id:t.user._id,email:t.user.email,username:t.user.username,emotar:t.user.emotar,avatar:t.user.avatar}}if(e.body.commit&&"string"==typeof e.body.commit.author){var n=ke(e.body.commit.author,!0);e.body.commit.author={_id:n.user._id,email:n.user.email,username:n.user.username,emotar:n.user.emotar,avatar:n.user.avatar}}qo(e)}),Nr.a.ipcRenderer.on(Vp.authSlack,Oo))}function Fo(e){sr.updateUserInfo(e.params.uid,e.body),p(sr.users),Zn(),Md&&(qe(Md.dots),yt(Md))}function Po(e){function t(t){if(t.params.mid===Zeplin.user._id){if(t.params.uid===Zeplin.user._id)return void Z();var n=ke(t.params.uid,!0),a=n?n.user.username:"Anonymous";kr.a({title:a+' removed you from "'+e.name+'".',message:"You won't be able to access its resources from now on.\nIf you think this is a mistake, please contact "+a},{defer:!0}),Z()}else e.removeUser(t.params.mid),p(e.users)}vr&&Cr.c.unsubscribe(vr),vr="private-project@"+e.id;var n=Cr.c.subscribe(vr);n.bind("UpdateProjectDensity",function(e){yi(e.body.density)}),n.bind("UpdateProjectName",function(e){hi(e.body.name),B(e.body.prefix,!0,!0)}),n.bind("UpdateProjectPrefix",function(e){B(e.body.prefix,!0,!0)}),n.bind("ArchiveProject",function(t){if(t.params.uid!==Zeplin.user._id){var n=ke(t.params.uid,!0),a=n?n.user.username:"Anonymous";kr.a({title:a+' archived "'+e.name+'".',message:"You won't be able to access its resources from now on."+(n?"\nIf you think this is a mistake, please contact "+a:"")},{defer:!0})}Z()}),n.bind("DeleteProject",function(t){if(t.params.uid!==Zeplin.user._id){var n=ke(t.params.uid,!0),a=n?n.user.username:"Anonymous";kr.a({title:a+' deleted "'+e.name+'".',message:"You won't be able to access its resources from now on."+(n?"\nIf you think this is a mistake, please contact "+a:"")},{defer:!0})}Z()}),n.bind("InviteUser",function(t){e.addUser(t.body),p(e.users)}),n.bind("CreateUser",function(t){e.updateUserInfo(t.params.uid,{username:t.body.username,status:"registered"}),p(e.users)}),n.bind("UpdateUsername",Fo),n.bind("UpdateEmail",Fo),n.bind("UpdateUserEmotar",Fo),n.bind("UpdateUserAvatar",Fo),n.bind("UpdateUserSubscription",function(t){var n=e.findUser(t.params.uid);n&&(Object.assign(n.user,t.body),"owner"===n.role&&Cr.a().then(function(t){var a=t.find(function(e){return e._id===n.user.paymentPlan}),i=e.allowedVersionCount;e.allowedVersionCount=a.allowedVersionCount,i>e.allowedVersionCount?(e.screens.forEach(function(t){t.versions.length>e.allowedVersionCount&&(t.versions.length=e.allowedVersionCount)}),Md&&(Md.versions.some(function(e){return e._id===Bd._id})||(Qs.classList.add("resourceView"),Qs.classList.remove("layerView"),Bd=Md.versions[0],bc.classList.remove("oldVersion"),Nt(Md),_r.D("Displayed version is not available anymore.",document.querySelector("main"))),Md.versions.length===e.allowedVersionCount&&bc.classList.contains("versionsShown")&&yt(Md))):i<e.allowedVersionCount&&(e.screens.forEach(function(e){e.totalVersionCount&&e.totalVersionCount>i&&delete e.totalVersionCount}),Md&&(!Md.totalVersionCount||Md.totalVersionCount>i)&&we(Md).then(function(e){bc.classList.contains("versionsShown")&&yt(e)}))}))}),n.bind("DeleteUser",function(t){Zeplin.user._id!==t.params.uid&&(e.removeUser(t.params.uid),p())}),n.bind("CreateColor",function(e){wi(e.body)}),n.bind("UpdateColor",function(e){xi(e.params.cid,e.body)}),n.bind("DeleteColor",function(e){Ci(e.params.cid)}),n.bind("UpdateScreen",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});Object.assign(n,t.body),"name"in t.body&&(Md===n&&(z(),Us.textContent=t.body.name,Us.title=t.body.name),kn()),"description"in t.body&&Md===n&&(tl.value=t.body.description)}),n.bind("UpdateSectionScreens",function(e){Vt(e.params.seid,e.body.screens,e.body.index)}),n.bind("UpdateSectionScreensOrder",function(t){var n=e.findScreenSection(t.body.screens[0]._id);n&&(t.body.screens.forEach(function(t){e.updateScreenOrder(n._id,t._id,t.to)}),nd.classList.contains("searching")||nd.querySelector('#sortOptions input[type="checkbox"]:checked')||kn())}),n.bind("UpdateScreensTags",function(t){t.body.screens.forEach(function(t){var n=e.screens.find(function(e){return e._id===t._id});if(n){switch(t.operation){case"add":n.tags=(n.tags||[]).concat(t.tags);break;case"remove":t.tags.forEach(function(e){n.tags.splice(n.tags.indexOf(e),1)})}Md===n&&(ht(Md),Bt()),cu.classList.contains("hidden")||no(e.tags,ao(cu.dataset.sid).tags,vu.value)}}),Re(),"dashboard"===Hd?On():kn()}),n.bind("DeleteScreen",function(t){var n=e.findScreenSection(t.params.sid);if(n){var a=e.removeScreen(n._id,t.params.sid);if(a&&(Re(),"dashboard"===Hd?On():kn(),Md===a)){var i=ke(t.params.uid,!0),o=i?i.user.username:"Anonymous";kr.a({title:o+" deleted this screen",message:"You won't be able to access \""+a.name+'" from now on.'}),Y(e.id,_n())}}}),n.bind("CreateSection",function(t){var n=Object.assign({},t.body);delete n.index,e.addSection(n,t.body.index),kn()}),n.bind("UpdateSectionsOrder",function(t){t.body.sections.forEach(function(t){e.updateSectionOrder(t._id,t.to)}),nd.classList.contains("searching")||nd.querySelector('#sortOptions input[type="checkbox"]:checked')||kn()}),n.bind("UpdateSection",function(t){var n=e.findSection(t.params.seid);n&&(Object.assign(n,t.body),kn())}),n.bind("DeleteSection",function(t){e.removeSection(t.params.seid),kn()}),n.bind("UpdateDot",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots){var a=n.dots.find(function(e){return e._id===t.params.did}),i=document.querySelector(".dot[data-id='"+a._id+"']");if(Object.assign(a,t.body),"color"in t.body){var o=Dm[new Mr.a(t.body.color).hexBase()];Ud===a&&(mt(Dc),Dc.classList.add(o)),i&&(mt(i),i.classList.add(o),i.dataset.color=o)}"x"in t.body&&"y"in t.body&&i&&(Hn(),yo(),i.addEventListener("transitionend",function e(){i.removeEventListener("transitionend",e),i.classList.remove("backToFuture")}),i.classList.add("backToFuture"),i.dataset.position=t.body.x<=.5?"left":"right",i.style.left="calc("+100*t.body.x+"% - 10px)",i.style.top="calc("+100*t.body.y+"% - 10px)"),"status"in t.body&&(Ud===a&&Dc.classList.contains(t.body.status)&&Un(),i&&(dt(i),i.classList.add(t.body.status))),qe(n.dots)}}),n.bind("DeleteDot",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots&&(mi(n,t.params.did),se(t.params.sid))){var a=document.querySelector(".dot[data-id='"+t.params.did+"']");a&&(Jd===a&&Un(),a.remove()),qe(n.dots)}}),n.bind("DeleteDotComment",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots){var a,i=n.dots.find(function(e){return e._id===t.params.did});i&&1!==i.comments.length?(pi(i,t.params.cmid),a=document.querySelector(".comment[data-id='"+t.params.cmid+"']")):(mi(n,t.params.did),Ud===i&&Un(),a=document.querySelector(".dot[data-id='"+t.params.did+"']")),a&&a.remove(),qe(n.dots)}}),n.bind("AuthSlack",Oo),n.bind("DeleteIntegration",function(t){if(e.removeIntegration("slacks",t.params.inid),e.integration.slacks.length){var n=Td.querySelector(".integration[data-id='"+t.params.inid+"']");n&&n.remove()}else Td.classList.add("hidden"),fd.classList.remove("hidden")}),n.bind("CreateTextStyle",function(e){Vi(new Br.a(e.body))}),n.bind("UpdateTextStyle",function(t){if(e.removeTextStyle(t.params.tsid),e.addTextStyle(t.body),"name"in t.body){var n=ra(t.params.tsid);n&&sa(n,{name:t.body.name})}Ta(),Da(),Pe()}),n.bind("DeleteTextStyle",function(e){gi(e.params.tsid)}),n.bind("UpdateProjectAccessibility",function(t){e.public=t.body.public,e.public&&ai(e)}),n.bind("UpdateUserRole",function(t){e.changeUserRole(t.params.mid,t.body.role),p(e.users),T(),Bt(),"pawn"!==lr.role&&xr.a("transition")}),n.bind("TransferOwnership",function(t){document.body.classList.toggle("organizationProject",!!t.params.oid),t.body.users.forEach(function(n){e.changeUserRole(n.user._id,n.role),n.user._id===lr.user._id&&(Zeplin.user.paymentPlan=n.user.paymentPlan),n.user._id!==t.params.mid&&n.user._id!==t.params.uid||e.changeUserPaymentPlan(n.user._id,n.user.paymentPlan)}),p(e.users),T(),t.params.oid?ee(e.id).then(function(){"pawn"===lr.role&&(cr.transitionFinished&&e.screens.forEach(function(e){delete e.versions[0].snapshot.layers,delete e.versions[0].snapshot.assets}),"screen"===Hd&&Nt(Md))}):(cr&&"screen"===Hd&&Nt(Md),xr.a("transition"),cr=null)}),n.bind("RemoveUserFromProject",t),n.bind("RemoveMemberFromOrganization",t),n.bind("CreateScreenV3",_o),n.bind("CreateVersionV2",qo),n.bind("UpdateVersionCommitColor",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n){var a=n.versions.find(function(e){return e._id===t.params.vid});if(a&&(a.commit=a.commit||{},Object.assign(a.commit,t.body),Md===n&&bc.classList.contains("versionsShown"))){var i=document.querySelector(".version[data-id='"+t.params.vid+"']");if(!i)return;var o=Dm[new Mr.a(a.commit.color).hexBase()];mt(i),i.classList.add(o);var r=i.querySelector(".commitMessage");mt(r),r.classList.add(o)}}}),n.bind("UpdateVersionCommitMessageV2",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n){var a=n.versions.find(function(e){return e._id===t.params.vid});if(a&&(a.commit=a.commit||{},Object.assign(a.commit,t.body),Md===n&&bc.classList.contains("versionsShown"))){var i=document.querySelector(".version[data-id='"+t.params.vid+"']");if(!i)return;Bm.get(i).value=a.commit.message}}}),n.bind("DeleteVersion",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n){var a=n.versions[0]._id;e.removeVersion(t.params.sid,t.params.vid);(!n.versions.length||n.versions.length<e.allowedVersionCount&&n.totalVersionCount>=e.allowedVersionCount?we(n):Promise.resolve(n)).then(function(e){var i=se(t.params.sid);i&&a===t.params.vid&&_r.y(i.querySelector(".screenImage"),n.versions[0].snapshot,"url"),Md===n&&(Bd._id===t.params.vid&&(Qs.classList.add("resourceView"),Qs.classList.remove("layerView"),Bd=e.versions[0],Nt(n,Bd),_r.D("Displayed version is not available anymore.",document.querySelector("main"))),bc.classList.contains("versionsShown")?yt(e):Pt(n))})}}),n.bind("CreateDotV2",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});n&&n.dots&&(n.dots.push(t.body),Md===n&&pt(t.body),qe(n.dots));var a=t.body.comments[0];t.params.uid!==Zeplin.user._id&&Xd.test(a.note)&&fi({title:a.author.username+" mentioned you",body:a.note,notifier:a.author,handler:function(){W(_r.J("project-screen",{url:{pid:t.params.pid,sid:t.params.sid},query:{did:t.body._id,cmid:a._id}}))}})}),n.bind("CreateDotCommentV2",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid}),a=t.params.uid!==Zeplin.user._id;if(n&&n.dots){var i=n.dots.find(function(e){return e._id===t.params.did});if(i){var o,r=i._id;i.comments.push(t.body),qe(n.dots),Ud===i&&(o=Ga(t.body,n._id,r)),a&&Md===n&&Ud===i&&(S(o),Pa(document.querySelector(".dot[data-id='"+r+"']")))}}a&&Xd.test(t.body.note)&&fi({title:t.body.author.username+" mentioned you",body:t.body.note,notifier:t.body.author,handler:function(){W(_r.J("project-screen",{url:{pid:t.params.pid,sid:t.params.sid},query:{did:t.params.did,cmid:t.body._id}}))}})}),n.bind("UpdateDotCommentNote",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid}),a=t.params.uid!==Zeplin.user._id;if(n&&n.dots){var i=n.dots.find(function(e){return e._id===t.params.did});if(i){var o=i.comments.find(function(e){return e._id===t.params.cmid}),r=new Date(o.created),s=t.body.updated?new Date(t.body.updated):new Date;if(o.note=t.body.note,o.updated=s,qe(n.dots),a&&Md===n&&Ud===i){var l=document.querySelector(".comment[data-id='"+t.params.cmid+"']"),c=l.querySelector(".commentMirror");c.innerHTML=Ya(t.body.note),c.classList.toggle("jumboEmojis",Ce(c,t.body.note)),l.querySelector(".commentEdited").setAttribute("datetime",s-r>3e5?s:""),S(l),Pa(document.querySelector(".dot[data-id='"+i._id+"']"))}}}if(a&&Xd.test(t.body.note)){var u=ke(t.params.uid,!0);if(!u)return;fi({title:u.user.username+" mentioned you",body:t.body.note,notifier:u.user,handler:function(){W(_r.J("project-screen",{url:{pid:t.params.pid,sid:t.params.sid},query:{did:t.params.did,cmid:t.params.cmid}}))}})}}),n.bind("UpdateProjectUpdated",function(t){e.id===t.params.pid&&(e.updated=t.body.updated)}),n.bind("RequestPaymentFail",function(e){if(!e.params.oid||"pawn"!==lr.role){var t={currentRole:lr.role};Object.assign(t,e.params),e.params.oid||"owner"===lr.role||(t.ownerEmail=e.body.email),Cr.d(t)}})}function Ro(){Ju.classList.contains("hidden")||(qr.c.set("tabTutorialSeen",!0),Ju.classList.add("hidden"))}function Mo(e){Array.from(Qs.querySelectorAll(".color")).forEach(function(t){var n=new Mr.a(JSON.parse(t.dataset.rgbcolor));t.querySelector(".colorValue").textContent=n.toCSS(e)})}function Bo(e){if(Uo(),e){e.classList.add("subMenuOpen");var t=e.closest(".sidebarMenu").getBoundingClientRect().top,n=e.getBoundingClientRect().top,a=document.querySelector(".subMenu."+e.id+"s");a.style.transform="translateY("+(n-t)+"px)",a.classList.add("open")}}function Uo(){Array.from(document.querySelectorAll(".mainMenu.subMenuOpen")).forEach(function(e){e.classList.remove("subMenuOpen")}),Array.from(document.querySelectorAll(".subMenu.open")).forEach(function(e){e.classList.remove("open")})}function zo(e,t){if(null!==t.querySelector(".subMenu")){var n=t.getBoundingClientRect().width;e.offsetWidth>=n+56+120?(t.classList.remove("toLeft"),t.classList.add("toRight")):(t.classList.remove("toRight"),t.classList.add("toLeft"))}}function Ho(e,t,n,a){var i=n.getBoundingClientRect();e.style.top=a.clientY-i.top+2+"px",e.style.left=a.clientX-i.left+2+"px",a.clientX+t.getBoundingClientRect().width+e.offsetWidth>window.innerWidth&&e.classList.add("toLeft"),a.clientY+e.offsetHeight>window.innerHeight&&e.classList.add("toTop")}function Zo(e,t){var n,a,i=parseInt(e.dataset.menuOffsetX,10),o=parseInt(e.dataset.menuOffsetY,10),r=e.closest(".sidebarOptionRealm").getBoundingClientRect(),s=e.getBoundingClientRect(),l=t.getBoundingClientRect(),c=s.bottom-60-o,u=s.right-r.left-i;a=c<12?12:c+l.height+12>window.innerHeight-60?window.innerHeight-l.height-12-60:c,n=u+l.width+12>r.width?r.width-l.width-12:u,t.style.transform="translate3d("+n+"px, "+a+"px, 0)"}function Wo(e){var t=e.closest(".sidebarOptionRealm");if(t.classList.contains("optionsOpen")&&(t.classList.remove("optionsOpen"),"menuId"in e.dataset)){var n=document.getElementById(e.dataset.menuId);n.classList.remove("open"),n.dataset.submenu="",n.style.transform="",Uo();var a=t.closest(".optionsOpen");a||(a=t),a.classList.remove("optionsOpen")}}function Yo(){var e=(Zs.getBoundingClientRect().height-ag)/2,t=ng+ag+e;Xp=ng-e>Qp&&t<window.innerHeight-eg?e:ig,Vo()}function Vo(){var e=Hs.getBoundingClientRect(),t=Math.max(e.top-Xp,tg)-$p;Zs.style.transform="translate3d(0, "+t+"px, 0)",Go()}function Go(){var e=Zs.getBoundingClientRect(),t=Hs.getBoundingClientRect(),n=t.top+t.height/2-e.top-11;Ws.classList.toggle("hidden",e.bottom<t.bottom)||(Ws.style.top=n+"px")}function Jo(){ad.classList.remove("focus"),nd.classList.toggle("searching",!!td.value.length)}function Ko(e){Array.from(vl.querySelectorAll(".asset")).forEach(function(t){var n=Bd.snapshot.assets.find(function(e){return e._id===t.dataset.id});t.querySelector(".assetName").textContent=rt(n,e)})}function Xo(e){var t={web:"Web developer",android:"Android developer",ios:"iOS developer",mac:"macOS developer"};fetch(Zeplin.urls.baseURL+"/intercom/users/tags",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({name:t[e]})})}function $o(e){if(!e||!_r.K(e,"project"))return kr.a({title:"Invalid project link",message:"There might be a typo, please try again."},{defer:!0}),void Z();var t=Promise.resolve(sr);return sr&&sr.id===e||(qr.b.get(e,"layoutGridEnabled").then(function(e){ol.checked=e,Jc.classList.toggle("hidden",!e)}),qr.b.get(e,"zoomLevel").then(function(e){Gd=e,gc.textContent=(100*Gd).toFixed(),pc.disabled=5===Gd,hc.disabled=.25===Gd,St({saveZoomLevel:!1})}),qr.b.get(e,"noteVisibility").then(function(e){yc.checked=e,Lc.classList.toggle("invisible",!e)}),qr.b.get(e,"sectionsCollapseState").then(function(e){Id=e}),t=ae(e)),t}function Qo(){sg||(sg=!0,zr.a.measure("page.interactive"),zr.a.measureFirstInteraction())}function er(){Cd.style.width=244*Math.floor(wd.clientWidth/244)+"px",rg=setTimeout(er,1e3)}function tr(){jm||(jm=!0,document.body.classList.add("loading"),Em.start(),CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||er())}function nr(){jm=!1,clearTimeout(rg),document.body.classList.remove("loading"),Em.stop()}function ar(){setTimeout(function(){Fs.classList.remove("online")},1e4)}Object.defineProperty(t,"__esModule",{value:!0});n(42),n(31),n(27),n(33),n(43);var ir,or,rr,sr,lr,cr,ur,dr,mr,pr,gr,fr,hr,yr,br,vr,Sr,jr,Er,Lr,Dr,wr,Cr=n(8),xr=n(11),kr=n(2),Tr=n(86),_r=n(0),qr=n(10),Or=n(1),Ir=n(44),Ar=n(12),Nr=n(9),Fr=n(24),Pr=n(87),Rr=n(88),Mr=n(17),Br=n(26),Ur=n(89),zr=n(46),Hr=n(95),Zr=n.n(Hr),Wr=n(96),Yr=n.n(Wr),Vr=n(97),Gr=n.n(Vr),Jr=n(4),Kr=n.n(Jr),Xr=n(98),$r=n(15),Qr=n(99),es=n(100),ts=n(102),ns=n(103),as=n(104),is=n(52),os=n(47),rs=n(3),ss=n.n(rs),ls=n(105),cs=n(111),us=n(113),ds=n(115),ms=n(54),ps=n(124),gs=document.getElementById("loading"),fs=document.getElementById("userMenu"),hs=document.getElementById("notificationContainer"),ys=document.querySelector(".projectOverview"),bs=document.getElementById("screenCount"),vs=document.getElementById("tags"),Ss=document.getElementById("taglessProjectInfoLine"),js=document.getElementById("resetTags"),Es=document.getElementById("projectName"),Ls=document.getElementById("projectNameForm"),Ds=document.getElementById("projectType"),ws=document.getElementById("projectDensity"),Cs=document.getElementById("changeDensityButton"),xs=document.getElementById("densityDialog"),ks=document.getElementById("densityDialogSubmitButton"),Ts=document.getElementById("densityHelp"),_s=document.getElementById("densityTooltip"),qs=document.getElementById("projectLink"),Os=document.getElementById("copyProjectLinkButton"),Is=document.querySelector("title"),As=document.getElementById("dashboardTab"),Ns=document.getElementById("styleguideTab"),Fs=document.querySelector("header"),Ps=document.querySelector(".headerTitle"),Rs=document.getElementById("upLink"),Ms=document.getElementById("arrowLeft"),Bs=document.getElementById("arrowRight"),Us=document.getElementById("header"),zs=document.getElementById("headerExtra"),Hs=document.getElementById("addUserButton"),Zs=document.getElementById("inviteUserPopup"),Ws=document.getElementById("inviteUserPopupAnchor"),Ys=document.getElementById("noOtherMembers"),Vs=document.getElementById("members"),Gs=document.getElementById("iosCategoryName"),Js=document.getElementById("iosCategoryPrefix"),Ks=document.getElementById("osxCategoryName"),Xs=document.getElementById("osxCategoryPrefix"),$s=document.getElementById("colorPalette"),Qs=document.getElementById("rightSidebar"),el=document.getElementById("screenDescription"),tl=new Pr.a(el,Wa),nl=document.getElementById("screenLastUpdated"),al=document.getElementById("screenTags"),il=document.getElementById("layoutGridInfoContainer"),ol=document.getElementById("layoutGridCheckbox"),rl=document.getElementById("gridViz"),sl=document.getElementById("gridColumnWidth"),ll=document.getElementById("gridGutterWidth"),cl=document.getElementById("gridColumnViz"),ul=document.getElementById("verticalGutterViz"),dl=document.getElementById("gridRowHeight"),ml=document.getElementById("gridGutterHeight"),pl=document.getElementById("gridTotalWidth"),gl=document.getElementById("gridNumberOfCols"),fl=document.getElementById("resourceTabs"),hl=document.getElementById("colorContent"),yl=document.getElementById("screenColors"),bl=document.getElementById("assetContent"),vl=document.getElementById("screenAssets"),Sl=document.getElementById("screenAssetExports"),jl=document.getElementById("layerView"),El=document.getElementById("layerName"),Ll=document.getElementById("layerPositionX"),Dl=document.getElementById("layerPositionY"),wl=document.getElementById("layerWidth"),Cl=document.getElementById("layerHeight"),xl=document.getElementById("layerRotation"),kl=document.getElementById("layerOpacity"),Tl=document.getElementById("layerRadius"),_l=document.getElementById("layerBlendMode"),ql=document.getElementById("textLayerInfo"),Ol=document.getElementById("copyLayerContent"),Il=document.getElementById("layerContent"),Al=document.getElementById("layerFillContainer"),Nl=document.getElementById("layerFills"),Fl=document.getElementById("layerBorderContainer"),Pl=document.getElementById("layerBorders"),Rl=document.getElementById("layerShadowContainer"),Ml=document.getElementById("layerShadows"),Bl=document.getElementById("layerBlurContainer"),Ul=document.getElementById("layerBlurType"),zl=document.getElementById("layerBlurRadius"),Hl=document.getElementById("layerAssetContainer"),Zl=document.getElementById("layerAssetPreview"),Wl=document.getElementById("layerAssetName"),Yl=document.getElementById("layerAssetExports"),Vl=document.querySelector("input[type='checkbox'][name='showOptimizedSVG']"),Gl=document.querySelector("input[type='checkbox'][name='allAssetsShowOptimizedSVG']"),Jl=document.getElementById("styleOptionsButton"),Kl=document.getElementById("selectedStyleExportType"),Xl=document.getElementById("showDimensionsCheckbox"),$l=document.getElementById("unitlessLineHeightCheckbox"),Ql=document.getElementById("mixinCheckbox"),ec=document.getElementById("defaultValuesCheckbox"),tc=document.getElementById("copyLayerStyleContent"),nc=document.getElementById("layerStyle"),ac=document.getElementById("guidelineStyle"),ic=document.getElementById("layerStyleMirror"),oc=document.getElementById("colorStyleMirror"),rc=document.getElementById("textStyleMirror"),sc=document.getElementById("styleguideStyleMirror"),lc=document.getElementById("generatorContainer"),cc=document.getElementById("guidelineStyleExportContainer"),uc=document.getElementById("guidelineSelectedStyleExportType"),dc=document.getElementById("shareSceneDialog"),mc=[],pc=document.getElementById("zoomIn"),gc=document.getElementById("zoomDropdownLabel"),fc=document.getElementById("zoomDropdown"),hc=document.getElementById("zoomOut"),yc=document.getElementById("maymusCheckbox"),bc=document.querySelector(".screenContent"),vc=document.getElementById("screenView"),Sc=document.getElementById("dotgrid"),jc=document.getElementById("screenContainer"),Ec=document.getElementById("cursorImage"),Lc=document.getElementById("dots"),Dc=document.getElementById("dotPopup"),wc=document.getElementById("dotPopupAnchor"),Cc=document.getElementById("dotColors"),xc=document.getElementById("dotComments"),kc=document.getElementById("newComment"),Tc=document.getElementById("newCommentButtons"),_c=document.getElementById("newCommentButton"),qc=document.getElementById("newCommentMirror"),Oc=document.getElementById("newCommentNote"),Ic=document.getElementById("newCommentSendButton"),Ac=document.getElementById("newCommentArea"),Nc=document.getElementById("layers"),Fc=document.getElementById("rulers"),Pc=document.getElementById("topRuler"),Rc=document.getElementById("rightRuler"),Mc=document.getElementById("bottomRuler"),Bc=document.getElementById("leftRuler"),Uc=document.getElementById("leftDistance"),zc=document.getElementById("leftDistanceValue"),Hc=document.getElementById("rightDistance"),Zc=document.getElementById("rightDistanceValue"),Wc=document.getElementById("topDistance"),Yc=document.getElementById("topDistanceValue"),Vc=document.getElementById("bottomDistance"),Gc=document.getElementById("bottomDistanceValue"),Jc=document.getElementById("layoutGridContainer"),Kc=document.getElementById("fontBook"),Xc=document.getElementById("screenImage"),$c=document.getElementById("suggestedUsersContainer"),Qc=document.getElementById("suggestedEmojisContainer"),eu=document.getElementById("searchScreenContainer"),tu=document.getElementById("screenSearchText"),nu=document.getElementById("suggestedScreensContainer"),au=document.getElementById("jumpToScreen"),iu=document.getElementById("searchPopup"),ou=document.getElementById("namingTip"),ru=document.getElementById("slackButton"),su=document.getElementById("exportColors"),lu=document.getElementById("exportTextStyles"),cu=document.getElementById("manageTagsContainer"),uu=document.getElementById("createTagContainer"),du=uu.querySelector("span"),mu=document.getElementById("manageTagsPopup"),pu=document.getElementById("selectTags"),gu=document.getElementById("tagOfScreenTemplate"),fu=document.getElementById("tagSuggestionTemplate"),hu=document.getElementById("tagsOfScreen"),yu=document.getElementById("tagSuggestions"),bu=document.getElementById("manageTagsDone"),vu=document.getElementById("tagSearchText"),Su=document.getElementById("manageTagsButtonTemplate"),ju=document.getElementById("tagMenuTemplate"),Eu=document.getElementById("projectInfoResizer"),Lu=document.getElementById("versionsSidebarResizer"),Du=document.getElementById("rightSidebarResizer"),wu=document.getElementById("generatorResizer"),Cu=document.getElementById("projectInfo"),xu=document.getElementById("projectInfoWrapper"),ku=document.querySelector(".versionsSidebarWrapper"),Tu=document.getElementById("rightSidebarWrapper"),_u=document.getElementById("projectLinkRow"),qu=document.getElementById("shortLinkMenuTemplate"),Ou=document.getElementById("openSceneDialogButton"),Iu=document.getElementById("shareSceneMenuTemplate"),Au=document.getElementById("shareSceneButton"),Nu=document.getElementById("cancelShareSceneButton"),Fu=document.getElementById("shareSceneRow"),Pu=document.getElementById("sharedSceneContainer"),Ru=document.getElementById("unsharedSceneContainer"),Mu=document.getElementById("sceneShortLink"),Bu=document.getElementById("openSceneNewTab"),Uu=document.getElementById("copySceneShortLink"),zu=document.getElementById("dotListingTemplate"),Hu=document.getElementById("dotListings"),Zu=document.getElementById("dotListingsOptions"),Wu=document.getElementById("dotContent"),Yu=document.getElementById("otherAuthorAvatarFrameTemplate"),Vu=document.getElementById("tabsTutorialCircle"),Gu=document.getElementById("versionsTutorialCircle"),Ju=document.getElementById("tabsTutorialPopup"),Ku=document.getElementById("currentUser"),Xu=document.getElementById("notificationsButton"),$u=document.getElementById("importProgressesButton"),Qu=document.getElementById("screenBgColor"),ed=document.getElementById("screenBgColorContainer"),td=document.getElementById("screenSearch"),nd=document.querySelector(".menuBar"),ad=document.querySelector(".searchArea"),id=document.getElementById("assetStyleExportContainer"),od=document.getElementById("popoutWidget"),rd=document.getElementById("textLayerStyleExportContainer"),sd=document.getElementById("textLayerStyleMirror"),ld=document.getElementById("copyTextLayerStyle"),cd=document.getElementById("textLayerStyle"),ud=document.getElementById("sourceFile"),dd=document.getElementById("sourceFileName"),md=document.getElementById("sourceFilePath"),pd=document.getElementById("sourceFileActions"),gd=document.getElementById("slackContainer"),fd=document.getElementById("slackIntegrationRow"),hd=document.getElementById("screenLinks"),yd=document.getElementById("allAssetsNamingConvention"),bd=document.getElementById("assetNamingConvention"),vd=document.getElementById("sortOptions"),Sd=document.getElementById("androidResFolderReminderDialog"),jd=document.getElementById("androidResFolderReminderDoneButton"),Ed=document.getElementById("sectionTemplate"),Ld=document.getElementById("sections"),Dd=document.getElementById("sectionDivider"),wd=document.querySelector(".projectOverviewLoading"),Cd=document.querySelector(".screenGridLoading"),xd=document.getElementById("screenStatusIndicator"),kd=document.getElementById("projectStatusIndicator"),Td=document.getElementById("integrations"),_d=document.getElementById("noScreenAssetsRoot"),qd=document.querySelector(".noScreensElectronRoot"),Od=document.querySelector("#layerView > .styleExportContainer"),Id={},Ad=new Set,Nd={},Fd="",Pd=!1,Rd=-2,Md=null,Bd=null,Ud=null,zd=null,Hd="",Zd=null,Wd=[],Yd=!1,Vd=!1,Gd=1,Jd=null,Kd=null,Xd=new RegExp("(?:"+[Zeplin.user.username,"everyone","all","tutti"].join("|")+")\\b"),$d=!1,Qd=[],em=!0,tm=!0,nm={},am=!1,im=!1,om=75,rm={},sm=null,lm=null,cm=r(1100,xd),um=!0,dm=!1,mm=!1,pm=!!Nr.a&&!!Nr.a.features&&"popout"in Nr.a.features,gm=!!Nr.a&&!!Nr.a.features&&!!Nr.a.features.integrations&&Nr.a.features.integrations.slack,fm=!!Nr.a&&!!Nr.a.features&&!!Nr.a.features.revampedMenu,hm=!!Nr.a&&!!Nr.a.features&&!!Nr.a.features.webviews,ym=!hm,bm=!1,vm=pm&&Nr.a.features.popout,Sm=new Xr.a({mac:document.body.classList.contains("mac")}),jm=!1,Em=r(700,kd),Lm={jpg:"image/jpeg",js:"application/javascript",javascript:"application/javascript",pdf:"application/pdf",png:"image/png",svg:"image/svg+xml",xml:"application/xml"},Dm={fecf33:"yellow",f69833:"orange",ee6723:"peach",c8cf2d:"green","0dcfda":"turquoise"},wm={yellow:{name:"yellow",r:254,g:207,b:51,a:1},orange:{name:"orange",r:246,g:152,b:51,a:1},peach:{name:"peach",r:238,g:103,b:35,a:1},green:{name:"green",r:200,g:207,b:45,a:1},turquoise:{name:"turquoise",r:13,g:207,b:218,a:1}},Cm={ios:/([^a-zA-Z0-9])/g,osx:/([^a-zA-Z0-9])/g,web:/([^a-zA-Z0-9-_])/g,android:/([^a-z0-9_])/g},xm={default:"Default",camelCase:"camelCase",snakeCase:"snake_case",kebabCase:"kebab-case",original:"Original"},km={android:"android_xml",ios:"ios_swift4",osx:"osx_swift4",web:"stylesheet_css"};kr.b.registerDialog(xs),kr.b.registerDialog(dc),kr.b.registerDialog(Sd),document.body.classList.contains("electron")&&ss.a.render(ss.a.h(us.a,{photoshopAndFigma:!!Nr.a&&!!Nr.a.features&&!!Nr.a.features.figma}),qd),os.a(function(){gs.classList.remove("hidden"),fetch(Zeplin.urls.baseURL+"/projects/"+sr.id,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){Z()}).catch(function(e){gs.classList.add("hidden"),Or.b(e)})}),document.body.classList.toggle("features-popout",pm)?vm&&(od.classList.remove("disabled"),od.dataset.tooltip="Pop screen out",Nr.a.ipcRenderer.on("open-popout",a),od.addEventListener("click",a)):od.remove(),document.body.classList.toggle("features-integrations-slack",gm),fm&&(Nr.a.ipcRenderer.on("new-project",function(){location.assign(_r.J("projects",{query:{newProject:"true"}}))}),Nr.a.ipcRenderer.on("leave-project",function(){kr.a({message:'Leave "'+sr.name+'"?',done:{name:"LEAVE",cb:function(){Oi(Zeplin.user._id)}},cancel:{name:"CANCEL"}})}),Nr.a.ipcRenderer.on("delete-project",function(){os.b(sr.id,sr.name)}),Nr.a.ipcRenderer.on("delete-screen",function(){kr.a({message:'Delete "'+Md.name+'"?',done:{name:"DELETE SCREEN",cb:function(){Mi(Md._id).then(function(){Y(sr.id,_n())})}},cancel:{name:"CANCEL"}})}),Nr.a.ipcRenderer.on("set-as-thumbnail",function(){Fi(Md._id).then(function(){Bt()})}),Nr.a.ipcRenderer.on("add-tag",function(){io(Md._id)}),Nr.a.ipcRenderer.on("manage-tags",function(){io(Md._id)}),Nr.a.ipcRenderer.on("dashboard",function(){Y(sr.id,_n())}),Nr.a.ipcRenderer.on("styleguide",function(){V(sr.id)}),Nr.a.ipcRenderer.on("zoom-in",Ia),Nr.a.ipcRenderer.on("zoom-out",Aa),Nr.a.ipcRenderer.on("actual-size",function(){Gd=1,Sc.classList.add("zooming"),St()}),Nr.a.ipcRenderer.on("jump-to-screen",function(){Dd.classList.add("hidden"),sr.screens&&sr.screens.length&&eu.classList.contains("hidden")&&Fn()}),Nr.a.ipcRenderer.on("show-versions",bt),Nr.a.ipcRenderer.on("hide-versions",vt),Array.from(document.querySelectorAll("input.windows-app-pref-menu-item")).forEach(function(e){e.addEventListener("change",function(){var t=e.dataset.windowsAppPrefName||e.name,n="radio"===e.type?e.value:e.checked,a={};a[t]=n,Fr.a.updateProjectPreferences(a,sr.type),i()})}),ms.b.addListener(function(){var e=ms.b.getState(),t={};Object.keys(e.options).forEach(function(n){t[n]=e.options[n]}),Fr.a.updateProjectPreferences(t,sr.type,e.extension.id),i()}),Fr.a.onOpenRecentProject=function(e){W(_r.J("project",{url:{pid:e}}))},Fr.a.onProjects=Z),document.body.classList.toggle("features-webviews",hm)&&(Nr.a.ipcRenderer.on("load-url",function(e,t){sr&&new URL(t).href.match(/\/project\/([0-9a-z]+)/)[1]===sr.id||(bm=!0),W(t)}),Nr.a.ipcRenderer.on("projects",H),Nr.a.ipcRenderer.on("active",function(e,t){if(!(ym=t))return sr&&"dashboard"!==Hd&&Y(sr.id,_n()),An(),void tr();bm||(nr(),o())}));var Tm={king:"Owner",queen:"Admin",rook:"Editor",knight:"Member",pawn:"",owner:"Owner",admin:"Admin",user:""},_m=document.getElementById("memberTemplate"),qm=(new TextDecoder).decode(new Uint8Array(Array.from(crypto.getRandomValues(new Uint8Array(16)),function(e){return e%94+33})));ru.addEventListener("click",function(){_r.x.canUpdateProject(lr)&&(gm?Nr.a.ipcRenderer.send("add-to-slack",{id:sr.id,name:sr.name}):(y(),s(Sr,{inNewTab:!1})))});var Om=document.querySelector(".styleContainer"),Im={styleColorFormat:"colorFormat",showDefaultValues:"showDefaultValues",showDimensions:"showDimensions",webUnitlessLineHeight:"unitlessLineHeight",webMixin:"mixin",androidLineSpacingType:"lineSpacingType",attributedStringShowDefaultAttributes:"showDefaultAttributes",iosDeploymentTarget:"deploymentTarget",osxDeploymentTarget:"deploymentTarget"};Array.from(document.querySelectorAll("input[name='androidDensity']")).forEach(function(e){e.addEventListener("change",function(e){var t=document.querySelector("input[name='androidTabletDensity'][value='"+e.target.value+"']");t?t.checked=!0:(t=document.querySelector("input[name='androidTabletDensity']:checked"))&&(t.checked=!1)})}),Array.from(document.querySelectorAll("input[name='androidTabletDensity']")).forEach(function(e){e.addEventListener("change",function(e){document.querySelector("input[name='androidDensity'][value='"+e.target.value+"']").checked=!0})}),Cs.addEventListener("click",function(e){_r.x.canUpdateProject(lr)&&xs.showModal()}),ks.addEventListener("click",function(){var e=document.querySelector("input[name='"+P()+"']:checked");e&&e.value!==sr.density&&M(e.value)}),xs.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&_s.classList.add("hidden")}),xs.addEventListener("keydown",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:_s.classList.contains("hidden")||(e.preventDefault(),e.stopPropagation(),_s.classList.add("hidden"));break;case Zeplin.KEY_CODE.SPACE:var t=xs.querySelector("label:focus");t&&t.click();break;case Zeplin.KEY_CODE.ENTER:ks.click()}}),Ts.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.stopPropagation(),e.preventDefault(),_s.classList.toggle("hidden"))}),_s.addEventListener("click",function(e){e.stopPropagation()});var Am,Nm,Fm;document.getElementById("guidelineStyleOptionsButton").addEventListener("click",ne),document.getElementById("styleOptionsButton").addEventListener("click",ne),Array.from(document.querySelectorAll(".projectTab")).forEach(function(e){e.addEventListener("change",function(e){switch(e.target.value){case"styleguide":V(sr.id);break;case"dashboard":default:Y(sr.id,_n())}})}),Hs.addEventListener("click",function(e){e.stopPropagation(),Ir.c()&&(To(),Ir.e(xu,sr.id,sr.users,cr&&"pawn"!==lr.role),Yo(),Cu.addEventListener("scroll",Vo),xu.addEventListener("listRefreshed",Go),mixpanel.track("Showed invite user pop up",{type:"project"}))});var Pm,Rm=Intl.DateTimeFormat("en",{year:"numeric",month:"long",day:"numeric"}),Mm=Intl.DateTimeFormat("en",{hour:"numeric",minute:"numeric"}),Bm=new WeakMap,Um=document.querySelector(".versions"),zm=document.getElementById("versionTemplate"),Hm=document.getElementById("nodeColorChooserTemplate");Um.addEventListener("click",function(e){e.stopPropagation()});var Zm=document.getElementById("versionHeaderTemplate"),Wm={open:"noOpenDots",resolved:"noResolvedDots"};Hu.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){e.stopPropagation();var t=e.target.closest(".dotListing");ia(t.dataset.did,t.dataset.cmid)}}),window.requestIdleCallback=window.requestIdleCallback||function(e,t){var n=4;return t&&"timeout"in t&&(n=t.timeout),setTimeout(e,n)},window.cancelIdleCallback=window.cancelIdleCallback||clearTimeout;var Ym={},Vm=new IntersectionObserver(function(e,t){e.forEach(function(e){var n=e.target;if(0===e.intersectionRatio)return cancelIdleCallback(Ym[n.dataset.id]),void delete Ym[n.dataset.id];var a=sr.findScreen(n.dataset.id);Ym[n.dataset.id]=requestIdleCallback(function(){t.unobserve(n),delete Ym[n.dataset.id],_r.y(n.querySelector(".screenImage"),a.versions[0].snapshot,"url")},{timeout:300})})},{root:ys,threshold:[0,.01]}),Gm=document.getElementById("screenTemplate"),Jm=document.getElementById("textStyleTemplate"),Km=document.getElementById("guidelineColorTemplate"),Xm=document.getElementById("colorTemplate"),$m=document.getElementById("layerShadowTemplate");Sl.addEventListener("click",Qe),vl.addEventListener("click",et),Hl.addEventListener("click",et);var Qm=document.getElementById("assetExportTemplate"),ep=document.getElementById("assetTemplate"),tp=document.getElementById("layerTemplate");Cc.addEventListener("click",function(e){e.target.classList.contains("dotColor")&&ft(e.target.dataset.color,Dc.dataset.id,Md,Ud)}),document.querySelector(".versionsToggle").addEventListener("click",bt),document.querySelector(".versionsCollapser").addEventListener("click",vt);var np,ap,ip=!1;ol.addEventListener("change",function(){Jc.classList.toggle("hidden",!ol.checked),clearTimeout(ap),ap=setTimeout(function(){qr.b.set(Nd.pid,"layoutGridEnabled",ol.checked)},1e3)});var op=document.getElementById("gridCanvas"),rp={partial:[Dt,wt],initial:[Dt,wt,xt,kt],zoom:[wt],density:[wt,xt,kt],layers:[xt,kt]},sp=!1;document.querySelector(".screenColorsRestricted a").addEventListener("click",function(e){e.preventDefault(),_t(cr._id,Tu)}),document.querySelector(".screenAssetsRestricted a").addEventListener("click",function(e){e.preventDefault(),_t(cr._id,Tu)});var lp,cp,up,dp,mp,pp=document.getElementById("sectionMenuTemplate"),gp=document.getElementById("screenMenuTemplate"),fp=document.getElementById("moveCubuk");Dd.addEventListener("click",function(){var e=Dd.dataset.nextScreenId,t=se(e),n=sr.findScreenSection(e);Dd.classList.add("hidden"),n&&_r.x.canManageScreens(lr)&&cn(n._id,t.dataset.index)});var hp,yp;ys.addEventListener("scroll",function(){hp||(hp=!0,Dd.classList.add("hidden"),clearTimeout(yp),yp=setTimeout(function(){hp=!1},200))}),Ld.addEventListener("dragstart",function(e){e.target.closest(".screenLink")&&e.preventDefault()});var bp,vp="36px";ns.a.enable({containers:Ld,root:ys,allowX:!1,canGrab:function(e,t){return!!(_r.x.canManageScreens(lr)&&e.classList.contains("user")&&t.closest(".sectionHeader"))},onGrab:function(e,t){e.classList.contains("collapsed")||(nn(e,!1),t.classList.add("collapsed")),Fe(),document.body.classList.add("dragging"),t.classList.add("grabbed")},onDrop:function(e,t,n,a,i){return new Promise(function(e){var n=t.getBoundingClientRect(),a=i.getBoundingClientRect(),o=n.left-a.left,r=n.top-a.top,s=Math.sqrt(Math.pow(o,2)+Math.pow(r,2)),l=150*Math.max(Math.sqrt(s/n.height),1);i.classList.remove("grabbed"),i.style.transition="transform "+l+"ms ease-out, box-shadow "+l+"ms ease-in",i.style.transform="translate("+o+"px, "+r+"px)",i.style.boxShadow="none",i.addEventListener("transitionend",function n(){i.removeEventListener("transitionend",n);var a=parseInt(t.dataset.index,10),o=Array.prototype.indexOf.call(t.parentNode.children,t);Ld.firstElementChild.classList.contains("default")||(a++,o++),o!==a&&Dn(t.dataset.id,o,a),document.body.classList.remove("dragging"),e()})})},onMove:function(e,t,n,a,i){if(n){var o=t.getBoundingClientRect();if(n!==e){var r=n.getBoundingClientRect();t.remove(),o.bottom>r.bottom?n.appendChild(t):n.insertBefore(t,n.firstElementChild)}else if(a&&a!==t){if(a.classList.contains("default"))return;var s=a.getBoundingClientRect(),l=i.getBoundingClientRect();o.top>=s.bottom?l.height<=s.top&&l.top<s.top+s.height/2&&(t.remove(),n.insertBefore(t,a)):l.bottom>s.top+s.height/2&&s.bottom<=window.innerHeight&&(t.remove(),n.insertBefore(t,a.nextElementSibling))}}}}),vs.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&e.target.classList.contains("tag")&&!nd.classList.contains("searching")&&(e.target.classList.contains("selected")?e.target.classList.remove("selected"):(e.target.classList.contains("untagged")?Tn():((document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)||Tn(),document.querySelector(".tag.untagged").classList.remove("selected")),e.target.classList.add("selected")),On())}),js.addEventListener("click",function(){Tn(),On()}),Ku.addEventListener("click",An),$u.addEventListener("click",An),Xu.addEventListener("click",An);var Sp={};Sc.addEventListener("mousedown",function(e){mm=!0,Sp={x:e.clientX,y:e.clientY},document.addEventListener("mouseup",Nn),dm&&(Sc.classList.remove("holdingSpace"),Sc.classList.add("panMode"),Ec.src=Zeplin.urls.appURL+"/img/grabbing.svg")}),Sc.addEventListener("mousemove",function(e){if(e.preventDefault(),dm&&mm){Fa();var t=vc.scrollTop-e.clientY+Sp.y;t=t>0?t:0;var n=vc.scrollLeft-e.clientX+Sp.x;n=n>0?n:0,vc.scrollTop=t,vc.scrollLeft=n}Ec.style.transform="translate("+(e.clientX-8+vc.scrollLeft)+"px, "+(e.clientY-68+vc.scrollTop)+"px)",Sp={x:e.clientX,y:e.clientY}}),document.addEventListener("keyup",function(e){e.keyCode===Zeplin.KEY_CODE.SPACE&&(e.preventDefault(),dm=!1,Sc.classList.remove("panMode","holdingSpace"),Ec.classList.add("hidden"))}),document.addEventListener("keydown",function(e){if(e.keyCode===Zeplin.KEY_CODE.ESC)An();else if(e.keyCode===Zeplin.KEY_CODE.ArrowLeft){if(In()||document.querySelector(".optionsOpen"))return;e.preventDefault(),An(),window.ImportProgresses&&ImportProgresses.hideImportProgressesContainer(),Rd-1>=0&&(Rd--,G(sr.id,re(Rd).dataset.id))}else if(e.keyCode===Zeplin.KEY_CODE.ArrowRight){if(In()||document.querySelector(".optionsOpen"))return;e.preventDefault(),An(),window.ImportProgresses&&ImportProgresses.hideImportProgressesContainer(),Rd>=0&&Rd+1<Ln()&&(Rd++,G(sr.id,re(Rd).dataset.id))}else if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){if(In()||document.querySelector(".optionsOpen")||Vd)return;if(!bc.classList.contains("versionsShown"))return;e.preventDefault(),An(),(t=Md.versions.findIndex(function(e){return e._id===Bd._id})-1)>=0&&ve(Md,Md.versions[t],{scrollIfNecessary:!0})}else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){if(In()||document.querySelector(".optionsOpen")||Vd)return;if(!bc.classList.contains("versionsShown"))return;e.preventDefault(),An();var t=Md.versions.findIndex(function(e){return e._id===Bd._id})+1;t<Md.versions.length&&ve(Md,Md.versions[t],{scrollIfNecessary:!0})}else if(e.keyCode===Zeplin.KEY_CODE.SPACE){if(In()||document.querySelector(".optionsOpen"))return;e.preventDefault(),dm||(dm=!0,document.body.classList.contains("mac")?(Sc.classList.add("panMode"),Ec.src=mm?Zeplin.urls.appURL+"/img/grabbing.svg":Zeplin.urls.appURL+"/img/grab.svg",Ec.classList.remove("hidden"),Ec.style.transform="translate("+(Sp.x-8+vc.scrollLeft)+"px, "+(Sp.y-68+vc.scrollTop)+"px)"):mm?Sc.classList.add("panMode"):Sc.classList.add("holdingSpace"))}else if(e.altKey)switch(e.keyCode){case Zeplin.KEY_CODE.KeyD:e.preventDefault(),e.stopPropagation(),Y(sr.id,_n());break;case Zeplin.KEY_CODE.KeyS:e.preventDefault(),e.stopPropagation(),V(sr.id);break;case Zeplin.KEY_CODE.KeyEqualGecko:case Zeplin.KEY_CODE.KeyEqualWebkit:e.preventDefault(),e.stopPropagation(),Ia();break;case Zeplin.KEY_CODE.KeyMinusGecko:case Zeplin.KEY_CODE.KeyMinusWebkit:e.preventDefault(),e.stopPropagation(),Aa();break;case Zeplin.KEY_CODE.Digit0:e.preventDefault(),e.stopPropagation(),Gd=1,Sc.classList.add("zooming"),St();break;case Zeplin.KEY_CODE.KeyJ:e.preventDefault(),e.stopPropagation(),Dd.classList.add("hidden"),sr&&sr.screens&&sr.screens.length&&eu.classList.contains("hidden")&&Fn();break;case Zeplin.KEY_CODE.KeyT:e.preventDefault(),e.stopPropagation(),sr&&sr.screens&&Md&&io(Md._id)}else if(e.keyCode===Zeplin.KEY_CODE.KeyF&&(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)){if("dashboard"!==Hd)return;e.preventDefault(),Dd.classList.add("hidden"),ys.scrollTop=0,ad.classList.add("focus"),setTimeout(function(){_r.o(td)},500)}});var jp=0;iu.addEventListener("click",function(e){e.stopPropagation(),e.target.classList.contains("screenSuggestion")&&(hr=Qd[e.target.dataset.index],Pn())}),nu.addEventListener("mousemove",function(e){if(e.stopPropagation(),yr!==e.clientX||br!==e.clientY){var t=nu.querySelector(".selected");t&&t.classList.remove("selected"),e.target.classList.add("selected"),jp=parseInt(e.target.dataset.index,10),hr=Qd[e.target.dataset.index],yr=e.clientX,br=e.clientY}}),iu.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),Qd.length&&jp<Qd.length-1&&Rn(jp+1);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),Qd.length&&jp>0&&Rn(jp-1);break;case Zeplin.KEY_CODE.ENTER:e.preventDefault(),Pn();break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),Si()}}),tu.addEventListener("input",function(e){e.preventDefault(),bi(e.target.value)}),au.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),sr.screens&&sr.screens.length&&eu.classList.contains("hidden")&&Fn()}),Ms.addEventListener("click",function(){Rd-1>=0&&(Mn(),Rd--,G(sr.id,re(Rd).dataset.id))}),Bs.addEventListener("click",function(){Rd+1<sr.screens.length&&(Mn(),Rd++,G(sr.id,re(Rd).dataset.id))}),document.addEventListener("click",function(e){e.button!==Zeplin.MOUSE_BUTTON.LEFT||am||An(),am=!1}),document.getElementById("closeLayerView").addEventListener("click",function(){Un(),Wn()});var Ep=0,Lp=document.getElementById("layerBorderTemplate");ql.addEventListener("mouseover",function(e){var t=e.target.closest(".textStyleWrapper");if(t&&(!e.relatedTarget||e.relatedTarget.closest(".textStyleWrapper")!==t)){var n=Il.querySelectorAll('span[data-color-group="'+t.dataset.colorGroup+'"]');Array.from(n).forEach(function(e){e.classList.add("hovered")})}}),ql.addEventListener("mouseout",function(e){var t=e.target.closest(".textStyleWrapper");if(t&&(!e.relatedTarget||e.relatedTarget.closest(".textStyleWrapper")!==t)){var n=Il.querySelectorAll('span[data-color-group="'+t.dataset.colorGroup+'"]');Array.from(n).forEach(function(e){e.classList.remove("hovered")})}});var Dp={css:"css",javascript:"text/javascript",less:"text/x-less",objc:"text/x-objectivec",react:"text/javascript",sass:"sass",scss:"text/x-scss",stylus:"stylus",swift:"text/x-swift",xml:"application/xml"},wp={android:"light_orange",ios:"lightOrange",osx:"lightOrange",web:"light-orange"},Cp=[new Mr.a({r:254,g:207,b:51,a:1,name:"yellow"}),new Mr.a({r:253,g:189,b:57,a:1,name:"lightOrange"}),new Mr.a({r:238,g:103,b:35,a:1,name:"peach"})],xp=Object.freeze({android:[new Br.a({name:"header",fontFace:"Roboto-Regular",fontSize:24,color:{r:87,g:71,b:81}})],ios:[new Br.a({name:"header",fontFace:"SFUIDisplay-Regular",fontSize:24,color:{r:87,g:71,b:81}})],osx:[new Br.a({name:"header",fontFace:"SFUIDisplay-Regular",fontSize:24,color:{r:87,g:71,b:81}})],web:[new Br.a({name:"header",fontFace:"system-ui",fontSize:24,color:{r:87,g:71,b:81}})]});Array.from(document.querySelectorAll('input[type="radio"][name="dotListingsStatusFilter"]')).forEach(function(e){e.addEventListener("change",function(e){qa(e.target.value)})}),Array.from(document.querySelectorAll(".sidebarOptionsButton[data-menu-id]")).forEach(function(e){e.addEventListener("click",function(t){t.stopPropagation(),Hn(),To();var n=e.closest(".sidebarOptionRealm"),a=document.getElementById(e.dataset.menuId);if(n.classList.contains("optionsOpen"))Wo(e);else{var i=_r.k(e)||n;To(),n.classList.add("optionsOpen"),i.classList.add("optionsOpen"),a.classList.add("open"),zo(i,a),Zo(e,a)}})});var kp;Vl.addEventListener("change",function(){clearTimeout(kp),kp=setTimeout(function(){Gl.checked=Vl.checked,qr.b.set(Nd.pid,"showOptimizedSVG",Vl.checked).then(function(){Array.from(document.querySelectorAll(".assetExporter[data-format='svg']")).forEach(function(e){e.querySelector(".assetStats").classList.toggle("hidden",!Vl.checked)})})})}),Gl.addEventListener("change",function(){clearTimeout(kp),kp=setTimeout(function(){Vl.checked=Gl.checked,qr.b.set(Nd.pid,"showOptimizedSVG",Gl.checked).then(function(){Array.from(document.querySelectorAll(".assetExporter[data-format='svg']")).forEach(function(e){e.querySelector(".assetStats").classList.toggle("hidden",!Gl.checked)})})})});var Tp=!1;if(jc.addEventListener("click",function(e){if(To(),im)im=!1;else{var t=!1;if(e.target.classList.contains("dot"))e.stopPropagation(),t=!0,zn(),ia(e.target);else if(Tp||(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)){e.stopPropagation(),t=!0,Fa(),yc.checked=!0,Lc.classList.remove("invisible"),qr.b.set(Nd.pid,"noteVisibility",!0),zn(),Un(),qa("open",!0);var n=Lc.getBoundingClientRect(),a=Md.dots&&Md.dots.length?""+(parseInt(Md.dots[Md.dots.length-1].name,10)+1):"1";Ud=null,qr.b.get(Nd.pid,"lastNoteColorUsed").then(function(t){ia(pt(Kd={name:a,x:Math.max(0,Math.min((e.clientX-n.left)/n.width,1)),y:Math.max(0,Math.min((e.clientY-n.top)/n.height,1)),color:wm[t]}))})}else if(e.target.classList.contains("layer")){e.stopPropagation(),t=!0,Hn();var i=e.target;if(document.elementsFromPoint){var o=document.elementsFromPoint(e.clientX,e.clientY).filter(function(e){return e.classList.contains("layer")});if(sm&&lm){var r=document.elementsFromPoint(sm,lm).filter(function(e){return e.classList.contains("layer")}),s=function(e,t){if(e.dataset.index===t.dataset.index)return!0};i=Math.hypot(sm-e.clientX,lm-e.clientY)>40||!_r.b(o,r,s)?o[0]:o[(o.findIndex(function(e){return e.classList.contains("selected")})+1)%o.length]}else i=o[0];sm=e.clientX,lm=e.clientY}ha(i)}t&&(fs.classList.add("hidden"),hs.classList.add("hidden"),Wo(Jl),tl.submitEdits())}}),jc.addEventListener("mouseleave",function(){if(Zd){Sc.addEventListener("mousemove",aa),jc.classList.add("measuring"),Yd=!0;var e=document.querySelector(".parent");e&&e.classList.remove("parent")}}),jc.addEventListener("mouseenter",function(e){Sc.removeEventListener("mousemove",aa),Yd=!1}),Sc.addEventListener("mouseenter",function(){dm&&document.body.classList.contains("mac")&&Ec.classList.remove("hidden"),jc.classList.add("measuring"),Yd=!0}),Sc.addEventListener("mouseleave",function(){Ec.classList.add("hidden"),Yd=!1,jc.classList.remove("measuring"),Yn()}),pc.addEventListener("click",function(e){e.stopPropagation(),Ia()}),hc.addEventListener("click",function(e){e.stopPropagation(),Aa()}),fc.addEventListener("click",function(e){e.stopPropagation()}),fc.addEventListener("change",function(){Gd=parseFloat(fc.value),Sc.classList.add("zooming"),St({updateSelectedIndex:!1})}),Sc.addEventListener("wheel",function(e){e.ctrlKey&&(e.preventDefault(),Gd=Math.max(.25,Math.min(Gd-e.deltaY/100,5)),St())}),"GestureEvent"in window){var _p;Sc.addEventListener("gesturestart",function(e){e.preventDefault(),_p=Gd}),Sc.addEventListener("gesturechange",function(e){e.preventDefault(),Gd=Math.max(.25,Math.min(_p*e.scale,5)),St()})}var qp;yc.addEventListener("change",function(){Lc.classList.toggle("invisible",!yc.checked),clearTimeout(qp),qp=setTimeout(function(){qr.b.set(Nd.pid,"noteVisibility",yc.checked)},1e3)}),document.getElementById("addNoteButton").addEventListener("click",function(e){e.stopPropagation(),Na()}),Array.from(document.querySelectorAll(".addFirstNoteButton")).forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation(),Na()})});var Op=6,Ip=13,Ap=26,Np=29,Fp=!1,Pp=document.getElementById("commentTemplate");Dc.addEventListener("click",function(e){e.stopPropagation();var t=Md.dots.find(function(e){return e._id===Dc.dataset.id});if(e.target.classList.contains("dotResolveButton"))jo(Dc.dataset.id,"resolved");else if(e.target.classList.contains("dotReopenButton"))jo(Dc.dataset.id,"open");else if(e.target.classList.contains("commentEditButton")){var n=Dc.querySelector(".comment.editing");if(n){var a=n.querySelector(".commentMirror");a.innerHTML=Ya(zd.note),a.classList.toggle("jumboEmojis",Ce(a,zd.note)),n.classList.remove("editing")}ts.close(),es.close(),kc.classList.add("hidden"),kc.classList.remove("composing"),qc.innerHTML="&nbsp;",Oc.value="";var i=(c=e.target.closest(".comment")).querySelector(".commentMirror"),o=c.querySelector(".commentNote"),r=c.dataset.id;zd=t.comments.find(function(e){return e._id===r}),i.innerHTML=_r.h(zd.note)+"&nbsp",i.classList.remove("jumboEmojis"),o.value=zd.note,c.classList.add("editing"),o.setSelectionRange(zd.note.length,zd.note.length),o.focus(),Pa(Jd)}else if(e.target.classList.contains("commentDeleteButton")){var s,r=(c=e.target.closest(".comment")).dataset.id,l=t.comments.find(function(e){return e._id===r});s=l.author?l.author._id===Zeplin.user._id?"Delete your comment?":"Delete "+l.author.username+"'s comment?":"Delete Anonymous's comment?",kr.a({title:s,message:"Deleted comments cannot be restored.",done:{name:"DELETE",cb:function(){$a(c,Md,t)}},cancel:{name:"CANCEL",cb:function(){Un()}}})}else if(e.target.classList.contains("commentDoneButton")){var c=e.target.closest(".comment");Xa(c,Md,t,zd)}}),Dc.addEventListener("keydown",function(e){if(e.target.classList.contains("commentNote")){e.stopPropagation();var t=e.target.closest(".comment"),n=Md.dots.find(function(e){return e._id===Dc.dataset.id});switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&Xa(t,Md,n,zd);break;case Zeplin.KEY_CODE.ESC:ts.close(),es.close(),t.classList.remove("editing"),kc.classList.remove("hidden");var a=t.querySelector(".commentMirror");a.innerHTML=Ya(zd.note),a.classList.toggle("jumboEmojis",Ce(a,zd.note)),e.target.blur(),Pa(Jd)}}});var Rp={positive:"👍",neutral:"🤔",negative:"😩"};Tc.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){if(Dc.classList.contains("resolved")){var t=document.querySelector("#dotPopup .comment:first-child .commentButtons");return t.classList.add("flashing"),void(t.animate([{opacity:0},{opacity:1},{opacity:0}],{duration:1e3,easing:"ease-in-out"}).onfinish=function(){t.classList.remove("flashing")})}if(e.target.closest("#newCommentButton"))return kc.classList.add("composing"),void Oc.focus();var n=e.target.closest(".newCommentReaction"),a=Md.dots.find(function(e){return e._id===Dc.dataset.id}),i=a.comments[a.comments.length-1];if(!i.author||i.author._id!==Zeplin.user._id||i.note!==Rp[n.dataset.reaction]){var o=Oc.value;Oc.value=Rp[n.dataset.reaction],Ka(Md,a,!0),Oc.value=o}}}),Oc.addEventListener("input",function(){Qa(Oc,qc,Ac)}),Oc.addEventListener("click",function(e){e.stopPropagation(),Qa(Oc,qc,Ac)}),Ic.addEventListener("click",function(){Ud?Ka(Md,Ud):gt(Md,Jd)}),Oc.addEventListener("keyup",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:Qa(Oc,qc,Ac)}}),Oc.addEventListener("keydown",function(e){if(e.stopPropagation(),$c.classList.contains("hidden")&&Qc.classList.contains("hidden"))switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&(Ud?Ka(Md,Ud):gt(Md,Jd));break;case Zeplin.KEY_CODE.ESC:rm[Md._id]&&(Ud?rm[Md._id].reply&&(rm[Md._id].reply[Ud._id]=null):rm[Md._id].comment=null),kc.classList.remove("composing"),qc.innerHTML="&nbsp;",Oc.value="",Ud||Un()}}),xc.addEventListener("mouseover",function(e){e.target!==xc&&e.target.closest(".comment").classList.remove("highlight")}),hd.querySelector(".screenLink.app").addEventListener("mouseleave",function(e){e.target.scrollLeft=0}),document.queryCommandSupported("copy")?(Ol.addEventListener("click",function(){dr&&_r.e({content:dr.content,toastContainer:Qs})}),Il.addEventListener("focus",function(){dr&&(_r.e({content:dr.content,toastContainer:Qs}),setTimeout(function(){_r.B(Il)},40))}),qs.addEventListener("focus",function(){_r.e({content:sr.shortUrl,toastContainer:Cu}),setTimeout(function(){_r.B(qs)},40)}),Uu.addEventListener("click",function(e){e.stopPropagation(),_r.e({content:sr.sceneUrl,toastContainer:Cu,container:Pu}),Uu.classList.add("copied")}),Os.addEventListener("click",function(e){wo(e)}),hd.addEventListener("click",function(e){var t;if(e.button===Zeplin.MOUSE_BUTTON.LEFT&&(t=e.target.closest(".copyLink"))){var n=t.classList.contains("web")?Md.url:hd.querySelector(".screenLink.app").textContent;_r.e({content:n,toastContainer:Qs})}}),hd.querySelector(".screenLink.web").addEventListener("focus",function(e){_r.e({content:Md.url,toastContainer:Qs}),setTimeout(function(){_r.B(e.target)},4)}),hd.querySelector(".screenLink.app").addEventListener("focus",function(e){_r.e({content:e.target.textContent,toastContainer:Qs}),setTimeout(function(){_r.B(e.target)},4)}),tc.addEventListener("click",function(){_r.e({content:ic.value,toastContainer:Qs}),ri(),Xo(sr.type)}),id.addEventListener("click",function(e){if(e.target.classList.contains("copyAssetStyleButton")){var t=document.querySelector(".assetStyle[data-export-type='"+e.target.dataset.exportType+"'] textarea").value;t=t.split("--\x3e")[1],_r.e({content:t.trim(),toastContainer:Qs}),si(e.target.dataset.exportType),Xo("web")}}),ld.addEventListener("click",function(){_r.e({content:sd.value,toastContainer:Qs}),li(),Xo("web")})):(Os.remove(),Ol.remove(),tc.remove(),Uu.remove(),ld.remove(),Array.from(document.querySelector(".copyAssetStyleButton")).forEach(function(e){e.remove()}),Array.from(hd.querySelectorAll(".copyLink")).forEach(function(e){e.remove()}),Array.from(hd.querySelectorAll(".screenLink")).forEach(function(e){e.addEventListener("click",function(e){_r.B(e.target)}),e.parentElement.dataset.tooltip="Click to select all",e.parentElement.dataset.tooltipType="text"})),Qs.addEventListener("click",function(e){if(e.stopPropagation(),To(),Hn(),e.target.classList.contains("addColor"))em&&(em=!1,Ei(e));else if(e.target.classList.contains("addTextStyle")){if(!tm)return;var t=e.target.closest(".textStyleWrapper");if(!t)return;t.classList.contains("added")?$i(t):Ji(t)}window.ImportProgresses&&ImportProgresses.hideImportProgressesContainer(),fs.classList.add("hidden"),hs.classList.add("hidden"),Wo(Jl),tl.submitEdits(),To()}),Qs.addEventListener("contextmenu",function(e){e.stopPropagation()}),Qs.addEventListener("blur",function(e){if(e.preventDefault(),e.target.classList.contains("textStyleName")){if(!_r.x.canManageTextStyles(lr))return;var t=e.target.closest(".textStyleWrapper");t&&Zi(t.dataset.id,e.target)}else if(e.target.classList.contains("colorName")){if(!_r.x.canManageColors(lr))return;var n=e.target.closest(".color");if(!n)return;var a=sr.findColorById(n.dataset.id);Wi(e.target.value.substr(1),a,n)}},!0),Qs.addEventListener("submit",function(e){e.preventDefault(),e.target.classList.contains("textStyleNameForm")?e.target.querySelector(".textStyleName").blur():e.target.classList.contains("colorNameForm")&&e.target.querySelector(".colorName").blur()}),Qs.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ESC:if(e.target.classList.contains("textStyleName")){var t=e.target.closest(".textStyleWrapper");if(t){var n=sr.findTextStyleById(t.dataset.id);e.target.value=n.name,e.target.blur()}}else if(e.target.classList.contains("colorName")){var a=e.target.closest(".color");if(!a)return;var i=sr.findColorById(a.dataset.id);e.target.value="#"+i.name,e.target.blur()}}}),Qs.addEventListener("input",function(e){if(e.preventDefault(),e.target.classList.contains("colorName")){var t=e.target.selectionStart,n=e.target.selectionEnd;"#"!==e.target.value.charAt(0)&&(t+=1,n+=1);var a=e.target.value;e.target.value="#"+e.target.value.replace(Cm[sr.type],"");var i=a.length-e.target.value.length;i>0&&(t-=i,n-=i),e.target.setSelectionRange(t,n)}}),el.addEventListener("autocomplete",function(){var e=es.manageSuggestedEmojis(el.querySelector("textarea"),el.querySelector(".mirror"));e&&(e.style.top=el.getBoundingClientRect().top+el.offsetHeight-90+"px",Qs.appendChild(e),es.open())}),Qs.addEventListener("copy",oi),$s.addEventListener("copy",oi),nc.addEventListener("copy",ri),id.addEventListener("copy",function(e){si(e.target.closest(".assetStyle").dataset.exportType)}),cd.addEventListener("copy",li);var Mp=document.getElementById("colorMenuTemplate");$s.addEventListener("contextmenu",function(e){if(_r.x.canManageColors(lr)){To();var t=e.target.closest(".color");if(t){e.preventDefault();var n=t.querySelector(".colorName").value,a=document.importNode(Mp.content,!0),i=a.querySelector(".colorMenu");Array.from(i.querySelectorAll(".actionSubject")).forEach(function(e){e.textContent=n}),i.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var n=e.target.closest(".menuitem");if(n){switch(e.stopPropagation(),n.dataset.action){case"delete":Li(t)}setTimeout(function(){ui()},80)}}}),t.appendChild(a),Ho(i,lc,t,e)}}}),$s.addEventListener("mouseover",function(e){e.target!==$s&&e.target.closest(".color").classList.remove("highlight")}),$s.addEventListener("input",function(e){var t=e.target.selectionStart,n=e.target.selectionEnd,a=e.target.value;if(e.preventDefault(),e.target.classList.contains("colorName"))e.target.value=e.target.value.replace(Cm[sr.type],"");else if(e.target.classList.contains("colorHex"))e.target.value=e.target.value.replace(/([^a-fA-F0-9])/g,"");else{if(!e.target.classList.contains("colorAlpha"))return;e.target.value=e.target.value.replace(/([^0-9])/g,"")}t-=a.length-e.target.value.length,n-=a.length-e.target.value.length,e.target.setSelectionRange(t,n)}),$s.addEventListener("submit",function(e){e.target.classList.contains("colorInfoForm")&&e.target.checkValidity()&&(e.preventDefault(),e.target.querySelector("input[type='text']").blur())}),$s.addEventListener("blur",function(e){if(_r.x.canManageColors(lr)){e.preventDefault();var t=e.target.closest(".color");if(t){var n,a=t.dataset.id,i=e.target,o=e.target.value,r=sr.findColorById(a);if(i.classList.contains("colorName"))Wi(o,r,t);else if(i.classList.contains("colorHex")){if(r.hexBase()===o)return;if(!o||!/^[\da-f]{6}$/i.test(o))return void(e.target.value=r.hexBase());if(n=sr.checkDuplicateColorHex(o,r))kr.a({title:"This color already exists: "+n.name,message:"Please check the values and try again!",done:{name:"GOT IT"}}),e.target.value=r.hexBase();else{var s=Mr.a.fromHex(o);ki({r:s.r,g:s.g,b:s.b},r,t)}}else if(i.classList.contains("colorAlpha")){if(100*r.a===o)return;if(!o||/\D/.test(o)||o/100>1)return void(e.target.value=Math.round(100*r.a));(n=sr.checkDuplicateColorAlpha(o,r))?(kr.a({title:"This color already exists: "+n.name,message:"Please check the values and try again!",done:{name:"GOT IT"}}),e.target.value=Math.round(100*r.a)):ki({a:o/100},r,t)}}}},!0),$s.addEventListener("keydown",function(e){e.stopPropagation();var t=e.target.closest(".color");if(t)switch(e.keyCode){case Zeplin.KEY_CODE.ESC:var n=sr.findColorById(t.dataset.id);e.target.classList.contains("colorName")?e.target.value=n.name:e.target.classList.contains("colorHex")?e.target.value=n.hexBase():e.target.classList.contains("colorAlpha")&&(e.target.value=Math.round(100*n.a)),e.target.blur()}else e.target.blur()}),document.body.classList.contains("canDownload")&&(su.addEventListener("click",function(e){var t="osx"===sr.type?"mac":sr.type;di("color"),Xo(t)}),lu.addEventListener("click",function(e){var t="osx"===sr.type?"mac":sr.type;di("textstyle"),Xo(t)})),Js.addEventListener("blur",function(){_r.x.canUpdateProject(lr)&&Js.value!==sr.prefix&&fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/prefix",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({prefix:Js.value})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Or.a(e.status,t)})}).then(function(e){B(e.prefix,!0,!0)}).catch(Or.b)}),Js.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),Js.blur();break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),Js.value=sr.prefix,nm.iosCategoryPrefix=sr.prefix,Js.blur()}}),Js.addEventListener("input",function(e){e.stopPropagation(),/^([a-z](?=[\da-z]*?)[\da-z]*|)$/i.test(e.target.value)?nm.iosCategoryPrefix=e.target.value:e.target.value=nm.iosCategoryPrefix}),[Ks,Gs].forEach(function(e){e.addEventListener("blur",function(t){t.preventDefault(),t.target.value?(ms.a.updateOption("categoryName",t.target.value),Ta()):qr.b.get(Nd.pid,"osxCategoryName").then(function(t){e.value=t,nm[e.id]=t})})}),[Ks,Gs].forEach(function(e){e.addEventListener("keydown",function(t){switch(t.stopPropagation(),t.keyCode){case Zeplin.KEY_CODE.ENTER:e.blur();break;case Zeplin.KEY_CODE.ESC:var n=ms.b.getState();e.value=n.options.categoryName,nm[e.id]=n.options.categoryName,e.blur()}})}),[Ks,Gs].forEach(function(e){e.addEventListener("input",function(t){t.stopPropagation(),/^[a-z](?=[\da-z]*?)[\da-z]*$/i.test(t.target.value)?nm[e.id]=t.target.value:t.target.value=nm[e.id]})}),Xs.addEventListener("blur",function(){_r.x.canUpdateProject(lr)&&Xs.value!==sr.prefix&&fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/prefix",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({prefix:Xs.value})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Or.a(e.status,t)})}).then(function(e){B(e.prefix,!0,!0)}).catch(Or.b)}),Xs.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),Xs.blur();break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),Xs.value=sr.prefix,nm.osxCategoryPrefix=sr.prefix,Xs.blur()}}),Xs.addEventListener("input",function(e){e.stopPropagation(),/^([a-z](?=[\da-z]*?)[\da-z]*|)$/i.test(e.target.value)?nm.osxCategoryPrefix=e.target.value:e.target.value=nm.osxCategoryPrefix}),window.addEventListener("offline",function(){"screen"===Fs.dataset.selection&&(zs.textContent="Looks like there is a problem with the connection.",Fs.className="offline")});var Bp=document.getElementById("screenSuggestionTemplate"),Up=document.getElementById("memberMenuTemplate");Vs.addEventListener("click",function(e){e.preventDefault();var t=e.target.closest(".memberActionsButton"),n=t&&t.parentElement;t&&!n.classList.contains("memberMenuOpen")&&(e.stopPropagation(),Ti(n))}),Es.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ESC:e.target.value=sr.name,e.target.blur()}}),Es.addEventListener("blur",function(e){e.preventDefault(),e.target.value!==sr.name&&Ni(e.target.value)}),Ls.addEventListener("submit",function(e){e.preventDefault(),Es.blur()});var zp=document.getElementById("slackSettingsMenuTemplate");gd.addEventListener("click",function(e){if(e.stopPropagation(),To(),e.target.classList.contains("slackSettingsButton")&&!e.target.classList.contains("disabled")){var t=e.target.closest(".integration"),n=sr.integration.slacks.find(function(e){return e._id===t.dataset.id}),a=document.importNode(zp.content,!0).querySelector(".slackSettingsMenu");a.querySelector("a").href=n.incomingWebHook.configurationURL,a.addEventListener("click",function(e){switch(e.target.dataset.action){case"add":if(gm)return void Nr.a.ipcRenderer.send("add-to-slack",{id:sr.id,name:sr.name});y(),s(Sr,{inNewTab:!1});break;case"preferences":as.b(t.dataset.id,n.incomingWebHook.channel);break;case"remove":Bi("slacks",t.dataset.id)}}),t.classList.add("slackMenuOpen"),t.appendChild(a)}});var Hp=document.getElementById("slackIntegrationTemplate");Kc.addEventListener("mouseover",function(e){e.target!==Kc&&e.target.closest(".font").classList.remove("highlight")}),Kc.addEventListener("submit",function(e){e.preventDefault(),e.target.querySelector(".styleName").blur()}),Kc.addEventListener("blur",function(e){if(_r.x.canManageTextStyles(lr)){e.stopPropagation();var t=e.target.closest(".font");t&&(e.target.selectionEnd-e.target.selectionStart&&e.target.setSelectionRange(0,0),Zi(t.dataset.id,e.target))}},!0),Kc.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ESC:var t=e.target.closest(".font").dataset.id,n=sr.findTextStyleById(t);e.target.value=n.name,e.target.blur()}}),Kc.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".font");t&&(e.target.classList.contains("deleteTextStyle")?kr.a({title:'Delete "'+t.querySelector(".styleName").value+'"?',message:"Deleted text styles cannot be restored.",done:{name:"DELETE",cb:function(){Xi(t.dataset.id)}},cancel:{name:"CANCEL"}}):e.target.classList.contains("deleteTSColor")&&kr.a({message:'Delete color of "'+t.querySelector(".styleName").value+'"?',done:{name:"DELETE",cb:function(){e.target.parentElement.classList.add("hidden"),Qi(t.dataset.id,{color:null})}},cancel:{name:"CANCEL"}}))}});var Zp=document.getElementById("textStyleMenuTemplate");Kc.addEventListener("contextmenu",function(e){if(_r.x.canManageTextStyles(lr)){To();var t=e.target.closest(".font");if(t){e.preventDefault();var n=t.querySelector(".styleName").value,a=document.importNode(Zp.content,!0),i=a.querySelector(".textStyleMenu");Array.from(i.querySelectorAll(".actionSubject")).forEach(function(e){e.textContent=n}),i.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var a=e.target.closest(".menuitem");if(a){switch(e.stopPropagation(),a.dataset.action){case"rename":_r.o(t.querySelector(".styleName"));break;case"delete":kr.a({title:'Delete "'+n+'"?',message:"Deleted text styles cannot be restored.",done:{name:"DELETE",cb:function(){Xi(t.dataset.id),eo()}},cancel:{name:"CANCEL"}})}setTimeout(function(){eo()},80)}}}),t.appendChild(a),Ho(i,lc,t,e)}}});var Wp=0;pu.addEventListener("click",function(e){e.stopPropagation(),vu.focus();var t=ao(cu.dataset.sid);if(e.target.classList.contains("removeTag"))lo(t,_r.H(e.target.parentElement.dataset.tag),"remove");else{var n=e.target.closest(".tagSuggestion");if(!n)return;lo(t,_r.H(n.dataset.tag),"add")}}),mu.addEventListener("click",function(e){vu.focus(),e.stopPropagation()}),mu.addEventListener("keydown",function(e){e.stopPropagation();var t=yu.querySelectorAll(".tagSuggestion");switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault();var n=pu.querySelector(".tagSuggestion.selected");n&&lo(ao(cu.dataset.sid),_r.H(n.dataset.tag),"add"),(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&oo();break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),t.length&&Wp<t.length-1&&co(Wp+1);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),t.length&&Wp>0&&co(Wp-1);break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),oo()}}),pu.addEventListener("mousemove",function(e){if(e.stopPropagation(),yr!==e.clientX||br!==e.clientY){vu.focus();var t=e.target.closest(".tagSuggestion");t&&(co(parseInt(t.dataset.suggestionIndex,10)),yr=e.clientX,br=e.clientY)}}),bu.addEventListener("click",oo),vu.addEventListener("input",function(e){no(sr.tags,ao(cu.dataset.sid).tags,e.target.value)}),vs.addEventListener("contextmenu",function(e){if(_r.x.canManageScreens(lr)&&(To(),e.target.classList.contains("tag")&&!e.target.classList.contains("untagged"))){e.preventDefault();var t=document.importNode(ju.content,!0),n=t.querySelector(".tagMenu");n.dataset.tag=_r.H(e.target.dataset.tag);var a,i=_r.J("project-dashboard",{url:{pid:sr.id},query:{tag:[_r.H(e.target.dataset.tag)]}});ii(i).then(function(e){a=e}),n.querySelector('.menuitem[data-action="create-section"]').classList.toggle("hidden",!po(_r.H(e.target.dataset.tag))),n.addEventListener("click",function(t){if(t.button===Zeplin.MOUSE_BUTTON.LEFT){var n=t.target.closest(".menuitem");if(n){switch(t.stopPropagation(),n.dataset.action){case"copy-web-link":_r.e({content:a||i,toastContainer:document.querySelector(".projectOverview")});break;case"copy-app-uri":_r.e({content:"zpl://project?pid="+sr.id+"&tag="+encodeURI(_r.H(e.target.dataset.tag)),toastContainer:document.querySelector(".projectOverview")});break;case"create-section":sn(_r.H(n.parentElement.dataset.tag));break;case"delete":uo(_r.H(n.parentElement.dataset.tag))}setTimeout(function(){mo()},80)}}}),vs.appendChild(t),Ho(n,xu,vs,e)}}),"PointerEvent"in window?(jr="pointerdown",Er="pointermove",Lr="pointerup"):"ontouchstart"in document?(jr="touchstart",Er="touchmove",Lr="touchend"):(jr="mousedown",Er="mousemove",Lr="mouseup"),Eu.addEventListener(jr,function(e){e.preventDefault(),fo(xu,"projectInfoWidth",{onResize:xn})}),Lu.addEventListener(jr,function(e){e.preventDefault(),am=!0,Hn(),To(),fo(ku,"versionsSidebarWrapperWidth",{location:"left",onCollapse:function(){bc.classList.contains("oldVersion")?ku.classList.add("compact"):bc.classList.remove("versionsShown")},onExpand:function(){ku.classList.remove("compact"),bc.classList.add("versionsShown")}})}),Du.addEventListener(jr,function(e){e.preventDefault(),am=!0,Hn(),To(),fo(Tu,"rightSidebarWrapperWidth")}),wu.addEventListener(jr,function(e){e.preventDefault(),fo(lc,"generatorContainerWidth")});var Yp=document.getElementById("dotMenuTemplate");jc.addEventListener("contextmenu",function(e){if(!im&&(To(),Hn(),e.target.classList.contains("dot")&&"undefined"!==e.target.dataset.id)){e.preventDefault();var t=document.importNode(Yp.content,!0).querySelector(".dotMenu"),n=e.target,a=Md.dots.find(function(e){return e._id===n.dataset.id});t.style.zIndex=om+1,document.queryCommandSupported("copy")||t.querySelector("button[data-action='copy-link']").remove(),n.classList.contains("open")?t.querySelector("button[data-action='reopen']").remove():t.querySelector("button[data-action='resolve']").remove(),n.classList.add("menuOpen"),n.classList.remove("hover"),t.addEventListener("click",function(e){var t=e.target.closest(".menuitem");if(t){switch(e.stopPropagation(),t.dataset.action){case"reopen":jo(a._id,"open");break;case"resolve":jo(a._id,"resolved");break;case"copy-link":_r.e({content:_r.J("project-screen",{url:{pid:sr.id,sid:Md._id},query:{did:a._id}}),toastContainer:vc});break;case"delete":var i;i=a.creator?a.creator._id===Zeplin.user._id?"Delete your note?":"Delete "+a.creator.username+"'s note?":"Delete Anonymous's note?",kr.a({title:i,message:"Deleted notes cannot be restored.",done:{name:"DELETE",cb:function(){ho(Md,n)}},cancel:{name:"CANCEL"}})}setTimeout(function(){yo()},80)}}),t.querySelector(".menuitem[data-action='delete']").classList.toggle("hidden",!(a.creator&&a.creator._id===Zeplin.user._id||_r.x.canRemoveNotes(lr))),Lc.appendChild(t),Ho(t,Tu,Lc,e)}}),jc.addEventListener("mousedown",function(e){e.target.classList.contains("dot")&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&"undefined"!==e.target.dataset.id&&bo(e.target)}),jc.addEventListener("mouseenter",function(e){e.target.classList.contains("dot")&&e.target.classList.add("hover")},!0),jc.addEventListener("mouseout",function(e){e.target.classList.contains("dot")&&e.target.classList.remove("hover")}),el.addEventListener("submit",function(){if(_r.x.canManageScreens(lr)){es.close();var e=es.formatEmojiString(tl.value.trim(),!0);if(tl.value=e,Md&&Md.description!==e){var t=Md;fetch(Zeplin.urls.baseURL+"/projects/"+sr.id+"/screens/"+t._id,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({description:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Or.a(e.status,t)})}).then(function(){t.description=e}).catch(function(e){Or.b(e,{dialogCallback:function(){tl.startEditing()}})})}}}),dc.querySelector(".organizationRules .minRole").textContent=Tm.rook,Ou.addEventListener("click",function(e){Au.disabled=!1,Uu.classList.remove("copied");var t=_r.x.canChangeProjectAccesibility(lr);if(sr.public){if(e.stopPropagation(),To(),!t&&!document.queryCommandSupported("copy"))return void s(sr.sceneUrl);var n=document.importNode(Iu.content,!0),a=n.querySelector(".shareSceneMenu");a.querySelector("button[data-action='copy-scene-link'] > span").textContent=document.queryCommandSupported("copy")?"Copy link":"Open in new tab",a.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".menuitem");if(t){switch(e.stopPropagation(),t.dataset.action){case"unshare":xo(!1);break;case"copy-scene-link":document.queryCommandSupported("copy")?_r.e({content:sr.sceneUrl,toastContainer:Cu}):s(sr.sceneUrl)}setTimeout(function(){ko()},80)}}}),n.querySelector(".menuitem[data-action='unshare']").classList.toggle("hidden",!t),Fu.appendChild(n)}else Au.disabled=!t,Pu.classList.add("hidden"),Ru.classList.remove("hidden"),dc.showModal()}),Au.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),Au.classList.contains("loading")||(Au.classList.add("loading"),Nu.disabled=!0,xo(!0))}),Nu.addEventListener("click",function(e){Au.classList.contains("loading")&&(e.preventDefault(),e.stopPropagation())}),Mu.addEventListener("click",function(){_r.B(Mu)}),Bu.addEventListener("click",function(){dc.close()});var Vp;Ju.addEventListener("click",function(e){e.stopPropagation()}),Array.from(document.querySelectorAll(".sidebarMenu")).forEach(function(e){e.addEventListener("mouseenter",function(e){e.target.closest(".sidebarMenuItems")&&Bo(e.target.closest(".mainMenu"))},!0),e.addEventListener("click",function(t){t.button===Zeplin.MOUSE_BUTTON.LEFT&&(t.stopPropagation(),t.target.closest(".mainMenu")||Wo(document.querySelector(".sidebarOptionsButton[data-menu-id='"+e.id+"']")))})});var Gp,Jp=document.getElementById("invitePopupContainer"),Kp=new MutationObserver(function(e){e.forEach(function(e){if(e.oldValue&&e.oldValue.includes("sticky")||!e.target.classList.contains("sticky"))e.oldValue.includes("sticky")&&!e.target.classList.contains("sticky")&&(Jp.style.right=0);else{var t=Jp.clientWidth-Gp;Jp.style.right=t?t+"px":0}})});CSS.supports("position","sticky")||(Kp.observe(Cu,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]}),Cu.addEventListener("scroll",function(){Gp=Jp.offsetWidth,Cu.classList.toggle("sticky",Cu.scrollTop>=242+gd.offsetHeight)}));var Xp,$p=60,Qp=108,eg=12,tg=12,ng=359,ag=26,ig=ng-Qp;td.addEventListener("search",function(e){nd.classList.toggle("searching",!!td.value.length),kn({immediate:!1})});var og;td.addEventListener("input",function(){Tn(),nd.classList.toggle("searching",!!td.value.length),clearTimeout(og),og=setTimeout(function(){if(nd.classList.toggle("searching",!!td.value.length),!td.value)return delete Nd.q,void Y(sr.id);var e="q"in Nd;W(_r.J("project-dashboard",{url:{pid:Nd.pid},query:{q:td.value}}),{shouldReplace:e})},200)}),td.addEventListener("keydown",function(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),td.value.trim()?(td.value="",nd.classList.remove("searching"),Y(sr.id)):Jo())}),td.addEventListener("focus",function(e){e.preventDefault(),ad.classList.add("focus"),nd.classList.toggle("searching",!!td.value.length)}),td.addEventListener("blur",Jo),Array.from(vd.querySelectorAll('input[type="checkbox"]')).forEach(function(e){e.addEventListener("change",function(e){var t="lastUpdated"===e.target.name?"name":"lastUpdated";document.querySelector('#sortOptions input[name="'+t+'"]').checked=!1,kn(),e.target.checked&&e.preventDefault()})}),Array.from(document.querySelectorAll("input[name='allAssetsNamingConvention']")).forEach(function(e){e.addEventListener("change",function(e){bd.querySelector("span").textContent=xm[e.target.value],yd.querySelector("span").textContent=xm[e.target.value],document.querySelector("input[name='assetNamingConvention'][value='"+e.target.value+"']").checked=!0,ci(e.target.value),Ko(e.target.value),qr.b.set(Nd.pid,"assetNamingConvention",e.target.value)})}),Array.from(document.querySelectorAll("input[name='assetNamingConvention']")).forEach(function(e){e.addEventListener("change",function(e){bd.querySelector("span").textContent=xm[e.target.value],yd.querySelector("span").textContent=xm[e.target.value],document.querySelector("input[name='allAssetsNamingConvention'][value='"+e.target.value+"']").checked=!0,ci(e.target.value),Ko(e.target.value);var t=Bd.snapshot.assets.find(function(e){return e.layerId?e.layerId===dr.sourceId:e.layerName===dr.name});if(t){var n=at(t.contents);n&&pa(dr,n,t,e.target.value)}qr.b.set(Nd.pid,"assetNamingConvention",e.target.value)})});var rg,sg=!1;Sm.route(/\/project\/([0-9a-z]+)\/screen\/([0-9a-z]+)/i,function(e){ga("set","location",location.href),ga("set","title","Screen - Zeplin"),ga("send","pageview");var t=e.match[0],n=e.match[1];Nd=Object.assign({pid:t,sid:n},e.query);var a=$o(t);a&&a.then(function(){if(sr){if(_r.K(n,"screen")){if(!Md||Md._id!==n)return Ut(n)}else kr.a({title:"Invalid screen link",message:"There might be a typo, please try again."}),Y(sr.id,_n());return Promise.resolve()}}).then(function(){if(Md){if(z(),!("dots"in Md))return;e.query.did&&1===e.query.did.length?(qa(X(e.query.did[0]),!0),ia(e.query.did[0],e.query.cmid)):v(e.query.did)}})}),Sm.route(/\/project\/([0-9a-z]+)(?:\/(dashboard|styleguide))?/i,function(e){var t=e.match[0],n=e.match[1]||"dashboard";ga("set","location",location.href),ga("set","title",_r.I(n)+" - Zeplin"),ga("send","pageview"),Nd=Object.assign({pid:t},e.query);var a=$o(t);a&&a.then(function(){sr&&("sid"in e.query?("dashboard"!==Hd&&J(),zt().length&&(Tn(),kn()),j(e.query.sid)):"dashboard"===n?("dashboard"!==Hd&&J(),"tag"in e.query?qn(e.query.tag):(Tn(),"untagged"in e.query&&vs.childElementCount&&document.querySelector(".tag.untagged").classList.add("selected"),"q"in e.query?(td.value=e.query.q||"",nd.classList.toggle("searching",!!td.value.length)):(td.value="",nd.classList.remove("searching")),kn())):"cid"in e.query?("styleguide"!==Hd&&K(),L(e.query.cid)):"tsid"in e.query?("styleguide"!==Hd&&K(),w(e.query.tsid)):"styleguide"===n&&"styleguide"!==Hd&&K(),z(),Qo())})}),Sm.start(document.body,function(){zr.a.measurePageDefaults(),zr.a.measure("page.start"),tr(),window.addEventListener("online",function(){Cookies.get("userToken")&&(h(),"screen"===Fs.dataset.selection&&(zs.textContent="Keep working! Connection is back…",Fs.className="online",document.hidden?document.addEventListener("visibilitychange",function e(){document.removeEventListener("visibilitychange",e),ar()}):ar()),$d=!0,setTimeout(function(){ae(Nd.pid).then(function(){"sid"in Nd&&Ut(Nd.sid)})},1e3))}),fl.dataset.selection=document.querySelector(".resourceTab:checked").value,Array.from(document.querySelectorAll(".resourceTab")).forEach(function(e){e.addEventListener("change",function(e){fl.dataset.selection=e.target.value})}),qr.c.get("tabTutorialSeen").then(function(e){e||(Vu.classList.remove("hidden"),Vu.addEventListener("click",function(e){e.stopPropagation(),Vu.classList.add("hidden"),Ju.classList.remove("hidden")}))}),qr.c.get("versionsTutorialSeen").then(function(e){e||(Gu.classList.remove("hidden"),Gu.addEventListener("click",function(e){e.stopPropagation(),Gu.classList.add("hidden");var t=Tr.a({content:"Ping ping! Versions of screens are listed here.",popover:!0,noControls:!0,hideCallback:function(){qr.c.set("versionsTutorialSeen",!0)}});document.body.appendChild(t)}))})})},function(e,t,n){"use strict";t.a=function(e){e=e||{};var t=document.importNode(a.content,!0).querySelector(".hideableInfo"),n=t.querySelector(".infoText");switch(e.type){case"html":n.innerHTML=e.content;break;case"text":default:n.textContent=e.content}if(e.buttonText&&(t.querySelector(".infoHideButtonText").textContent=e.buttonText),t.classList.toggle("popover",!!e.popover),t.querySelector(".anchor").classList.add(e.anchor||"bottom"),t.classList.toggle("noControls",!!e.noControls),t.addEventListener("click",function(e){e.stopPropagation()}),e.noControls?document.addEventListener("click",function n(a){document.removeEventListener("click",n),e.hideCallback&&e.hideCallback(),t.remove()}):(e.popover&&document.addEventListener("click",function e(){document.removeEventListener("click",e),t.remove()}),t.querySelector(".infoHideButton").addEventListener("click",function(){e.hideCallback&&e.hideCallback(),t.remove()})),e.bodyCallbacks)for(var i in e.bodyCallbacks)t.querySelector(i).addEventListener("click",e.bodyCallbacks[i]);return t};var a=document.getElementById("hideableInfoTemplate")},function(e,t,n){"use strict";function a(e,t){var n=this,a=e,o=a.querySelector(".formattedText"),r=a.querySelector(".mirror"),s=a.querySelector("textarea"),l=a.querySelector(".counter"),c=s.maxLength,u=s.value;Object.defineProperties(this,{root:{value:a},textarea:{value:s},counter:{value:l},mirror:{value:r},placeholder:{get:function(){return s.placeholder},set:function(e){r.innerHTML=i.h(e)+"&nbsp;",o.dataset.placeholder=i.h(e),s.placeholder=e}},maxLength:{get:function(){return c},set:function(e){c=e,this._setMaxLength()}},readOnly:{get:function(){return s.readOnly},set:function(e){s.readOnly=e}},_originalValue:{value:u,writable:!0},value:{get:function(){return s.value},set:function(e){r.innerHTML=i.h(e||s.placeholder)+"&nbsp;",o.innerHTML=t(e),s.value=e,this._setMaxLength()}}}),-1!==c&&this._setMaxLength(),a.classList.add("zplTextarea"),r.innerHTML="&nbsp;",a.classList.contains("autoedit")&&(a.addEventListener("click",function(e){e.stopPropagation()}),o.addEventListener("click",function(e){e.target.closest("a")||(e.stopPropagation(),n.startEditing())})),a.classList.contains("autosubmit")&&s.addEventListener("blur",function(){document.querySelector("#suggestedEmojisContainer.hidden")&&n.submitEdits()}),s.addEventListener("keydown",function(e){if(!s.readOnly)switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ESC:n.cancelEditing();break;case Zeplin.KEY_CODE.ENTER:(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&n.submitEdits()}}),s.addEventListener("keyup",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:n.checkAutoComplete()}}),s.addEventListener("input",function(e){s.readOnly||(n._setMaxLength(),l.textContent=c-s.value.length,r.innerHTML=i.h(s.value)+"&nbsp;",o.innerHTML=t(s.value),n.checkAutoComplete())}),s.addEventListener("drop",function(){s.readOnly||setTimeout(function(){s.focus()},4)}),s.addEventListener("click",function(e){e.stopPropagation(),n.checkAutoComplete()}),a.querySelector("button").addEventListener("click",function(e){e.stopPropagation(),n.submitEdits()})}t.a=a;var i=n(0);a.prototype._setMaxLength=function(){document.body.classList.contains("safari")&&(this.textarea.maxLength=this.maxLength+(this.value.match(/\n/g)||[]).length)},a.prototype.startEditing=function(){if(!this.readOnly){this._originalValue=this.value,this.counter.textContent=this.maxLength-this.value.length,this.root.classList.add("editing");var e=this;setTimeout(function(){e.textarea.focus(),e.textarea.setSelectionRange(e.value.length,e.value.length)},4)}},a.prototype.submitEdits=function(){this.root.classList.contains("editing")&&(this.textarea.blur(),this.root.classList.remove("editing"),this.root.dispatchEvent(new CustomEvent("submit")))},a.prototype.cancelEditing=function(){this.value=this._originalValue,this.textarea.blur(),this.root.classList.remove("editing"),this.root.dispatchEvent(new CustomEvent("cancel"))},a.prototype.checkAutoComplete=function(){this.root.dispatchEvent(new CustomEvent("autocomplete"))}},function(e,t,n){"use strict";function a(e,t){var n,a;if("unknown"===e)n="px",a="px";else switch(t){case"android":n="dp",a="sp";break;case"ios":case"osx":n="pt",a="pt";break;case"web":default:n="px",a="px"}return{textDimensionSuffix:a,dimensionSuffix:n}}function i(e){var t;switch(e){case"mdpi":case"1x":case"web":case"unknown":default:t=1;break;case"hdpi":t=1.5;break;case"xhdpi":case"2x":t=2;break;case"xxhdpi":case"3x":t=3;break;case"xxxhdpi":case"4x":t=4}return t}function o(e,t){if(e.length){var n=e[0].fontSize/t,a=e[e.length-1].fontSize/t;if(n<=36&&a>=14)e.forEach(function(e){e.scaledFontSize=e.fontSize/t});else{var i,o;n<14?(i=24,o=14):a>36?(i=36,o=24):(i=Math.min(36,n),o=Math.max(14,a));var r=n===a?0:(i-o)/(n-a);e[0].scaledFontSize=Math.round(i);for(var s=1;s<e.length;s++){var l=e[s-1].fontSize/t,c=e[s].fontSize/t;e[s].scaledFontSize=Math.round(e[s-1].scaledFontSize-(l-c)*r)}}}}function r(e,t,n){switch(n){case"ios":case"osx":t=t.replace(/\s/,"");break;case"web":t="-"+t.replace(/\s/,"-").toLowerCase();break;case"android":t="_"+t.replace(/\s/,"_").toLowerCase()}return e+t}function s(e){var t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];if(e>19){var a=e%10;return n[Math.floor(e/10)]+(a?" "+t[a]:"")}return t[e]}function l(e){var t,n,r,s,l=Object.assign({},e);l.users.sort(c.E.role),l.integration&&l.integration.slacks||(l.integration={slacks:[]}),n="https://scene.zeplin.io/project/"+l._id,s=l.colors.map(function(e){return new u.a(e)}),(t=l.textStyles.map(function(e){return new d.a(e)})).sort(c.i),o(t,i(l.density)),delete l.textStyles,delete l.colors;var m=l.screens.map(function(e){return e._id});l.sections.forEach(function(e){e.screens=e.screens.filter(function(e){return m.includes(e)})}),Object.defineProperties(this,{id:{value:l._id},type:{value:l.type},name:{get:function(){return l.name},set:function(e){l.name=e}},colors:{get:function(){return s}},density:{get:function(){return l.density},set:function(e){l.density=e}},icon:{value:l.icon},integration:{get:function(){return l.integration},set:function(e){l.integration=e}},prefix:{get:function(){return l.prefix},set:function(e){l.prefix=e}},public:{get:function(){return l.public},set:function(e){l.public=e}},allowedVersionCount:{value:3,writable:!0},screens:{get:function(){return l.screens},set:function(e){l.screens=e}},sections:{get:function(){return l.sections},set:function(e){l.sections=e}},status:{get:function(){return l.status},set:function(e){l.status=e}},textStyles:{get:function(){return t}},thumbnail:{get:function(){return l.thumbnail},set:function(e){l.thumbnail=e}},users:{get:function(){return l.users}},url:{value:c.J("project",{url:{pid:l._id}})},shortUrl:{get:function(){return r},set:function(e){r=e}},sceneUrl:{get:function(){return n},set:function(e){n=e}},slackTeamId:{get:function(){if(l.integration.slacks.length)return l.integration.slacks[0].teamId}},tags:{get:function(){var e=[];return new Set(l.screens.reduce(function(e,t){return e.concat(t.tags||[])},[])).forEach(function(t){e.push(t)}),e.sort(c.E.naturally)}},baseDensity:{value:"android"===l.type?"mdpi":"1x"},densityDivisor:{get:function(){return i(l.density)}},dimensionSuffix:{get:function(){return a(l.density,l.type).dimensionSuffix}},textDimensionSuffix:{get:function(){return a(l.density,l.type).textDimensionSuffix}},updated:{get:function(){return l.updated},set:function(e){l.updated=e}}})}t.a=l;var c=n(0),u=n(17),d=n(26);l.prototype.addTextStyle=function(e){this.textStyles.push(new d.a(e)),this.textStyles.sort(c.i),o(this.textStyles,this.densityDivisor)},l.prototype.updateTextStyle=function(e,t){var n=this.textStyles.find(function(t){return t.id===e});n&&(Object.assign(n,t),this.textStyles.sort(c.i),o(this.textStyles,this.densityDivisor))},l.prototype.removeTextStyle=function(e){var t=c.c(this.textStyles,function(t){return t.id===e});return o(this.textStyles,this.densityDivisor),t},l.prototype.findTextStyleById=function(e){return this.textStyles.find(function(t){return t.id===e})},l.prototype.findTextStyleByName=function(e){return this.textStyles.find(function(t){return t.name===e})},l.prototype.findTextStyleEqual=function(e){return this.textStyles.find(function(t){return e.equals(t)})},l.prototype.getTextStyleName=function(){if(!this.textStyles.length)return"Text Style";for(var e="Text Style",t=1;this.findTextStyleByName(e);)e="Text Style "+ ++t;return e},l.prototype.findUser=function(e){return this.users.find(function(t){return t.user._id===e})},l.prototype.findOwner=function(){return this.users.find(function(e){return"owner"===e.role})},l.prototype.addUser=function(e){this.users.push(e),this.users.sort(c.E.role)},l.prototype.changeUserRole=function(e,t){var n=this.findUser(e);n&&(n.role=t,this.users.sort(c.E.role))},l.prototype.removeUser=function(e){return c.c(this.users,function(t){return t.user._id===e})},l.prototype.updateUserInfo=function(e,t){var n=this.findUser(e);n&&(Object.assign(n.user,t),this.users.sort(c.E.role)),this.screens.forEach(function(n){n.dots&&n.dots.forEach(function(n){n.creator&&n.creator._id===e&&Object.assign(n.creator,t),n.comments.forEach(function(n){n.author&&n.author._id===e&&Object.assign(n.author,t)})}),n.versions.forEach(function(n){n.creator&&n.creator._id===e&&Object.assign(n.creator,t),n.commit.author&&n.commit.author._id===e&&Object.assign(n.commit.author,t)})})},l.prototype.changeUserPaymentPlan=function(e,t){var n=this.findUser(e);n&&(n.user.paymentPlan=t)},l.prototype.addColor=function(e){this.colors.push(new u.a(e))},l.prototype.removeColor=function(e){return c.c(this.colors,function(t){return t.id===e})},l.prototype.updateColor=function(e,t){var n=this.colors.find(function(t){return t.id===e});Object.assign(n,t)},l.prototype.findColorById=function(e){return this.colors.find(function(t){return t.id===e})},l.prototype.findColorByName=function(e){return this.colors.find(function(t){return t.name===e})},l.prototype.findColorEqual=function(e){return this.colors.find(function(t){return e.equals(t)})},l.prototype.findColorByHexAndAlpha=function(e){return this.colors.find(function(t){var n=void 0===e.alpha||t.a===e.alpha;return(void 0===e.hex||t.hexBase()===e.hex.toLowerCase())&&n})},l.prototype.checkDuplicateColorHex=function(e,t){var n=this.findColorByHexAndAlpha({hex:e,alpha:t.a});return n&&n.id!==t.id?n:null},l.prototype.checkDuplicateColorAlpha=function(e,t){var n=this.findColorByHexAndAlpha({hex:t.hexBase(),alpha:parseInt(e,10)/100});return n&&n.id!==t.id?n:null},l.prototype.checkDuplicateColorName=function(e,t){var n=this.findColorByName(e);return n&&n.id!==t.id?n:null},l.prototype._checkProjectColors=function(e){for(var t,n=0;n<this.colors.length;n++){var a=this.colors[n];if(a.hexBase()===e.hexBase()){var i=a.name.length,o=parseInt(a.name.substr(i-2),10);t=o&&o===Math.round(100*a.a)?a.name.substr(0,i-2):a.name;break}}return t||(t=e.generateName(this.type)),this._checkProjectColorNames(r(t,Math.round(100*e.a).toString(),this.type))},l.prototype._checkProjectColorNames=function(e){for(var t=e,n=1;this.findColorByName(t);)t=r(e,s(++n),this.type);return t},l.prototype.getColorName=function(e){return e.a<1?this._checkProjectColors(e):this._checkProjectColorNames(e.generateName(this.type))},l.prototype.deleteTag=function(e){return this.screens.reduce(function(t,n){var a;return n.tags&&-1!==(a=n.tags.indexOf(e))?(n.tags.splice(a,1),t.concat({_id:n._id,operation:"remove",tags:[e]})):t},[])},l.prototype.addSection=function(e,t){var n=this;return e.screens.forEach(function(e){var t=n.findScreenSection(e);t&&c.c(t.screens,function(t){return t===e})}),this.sections.splice(t,0,e),e},l.prototype.splitSection=function(e,t,n){var a=this.findSection(e);if(a){var i=this.sections.findIndex(function(t){return e===t._id}),o=a.screens.splice(t,a.screens.length-t);return this.sections.splice(i+1,0,{name:n,screens:o}),this.sections[i+1]}},l.prototype.findSection=function(e){return e?this.sections.find(function(t){return t._id===e}):null},l.prototype.removeSection=function(e){var t=this.findSection(e);if(t){var n=this.sections.findIndex(function(t){return t._id===e});return this.sections[n-1].screens=this.sections[n-1].screens.concat(t.screens),c.c(this.sections,function(t){return t._id===e})}},l.prototype.updateSectionOrder=function(e,t){var n=this,a=[].concat(e).map(function(e){return c.c(n.sections,function(t){return t._id===e})}).filter(function(e){return e});Array.prototype.splice.apply(this.sections,[t,0].concat(a))},l.prototype.isDefaultSection=function(e){return 0===this.sections.findIndex(function(t){return t._id===e})},l.prototype.findScreenSection=function(e){return this.sections.find(function(t){return t.screens.includes(e)})},l.prototype.addScreensToSection=function(e,t,n){var a=this,i=this.findSection(e);i&&(t.forEach(function(e){var t=a.findScreenSection(e);t&&c.c(t.screens,function(t){return t===e})}),Array.prototype.splice.apply(i.screens,[n,0].concat(t)))},l.prototype.addScreen=function(e,t){this.screens.push(e);var n=this.sections[0];void 0===t&&(t=n.screens.length),this.addScreensToSection(n._id,[e._id],t)},l.prototype.findScreen=function(e){return this.screens.find(function(t){return t._id===e})},l.prototype.removeScreen=function(e,t){var n=this.findSection(e);if(n&&c.c(n.screens,function(e){return e===t}))return c.c(this.screens,function(e){return e._id===t})},l.prototype.updateScreenOrder=function(e,t,n){var a=this.findSection(e);a&&(t=[].concat(t).map(function(e){return c.c(a.screens,function(t){return t===e})}).filter(function(e){return e}),Array.prototype.splice.apply(a.screens,[n,0].concat(t)))},l.prototype.addVersion=function(e,t){var n=this.findScreen(e);if(n)return n.updated=(new Date).toISOString(),n.versions.unshift(t),n.totalVersionCount&&n.totalVersionCount++,n.versions.length>this.allowedVersionCount?n.versions.pop():void 0},l.prototype.removeVersion=function(e,t){var n=this.findScreen(e);if(n){var a=c.c(n.versions,function(e){return e._id===t});return n.totalVersionCount&&n.totalVersionCount--,a}},l.prototype.addIntegration=function(e,t){this.integration[e].push(t)},l.prototype.removeIntegration=function(e,t){return c.c(this.integration[e],function(e){return e._id===t})},l.prototype.getColorMapByFormat=function(e){var t={};if(this.colors)return this.colors.forEach(function(n){var a=new u.a(n),i=a.toCSS(e);t[i]=a.name}),t}},function(e,t,n){"use strict";function a(e){var t=Object.assign({},e);t.blur=new r.a(t.blur),t.borders=t.borders.map(function(e){return new s.a(e,t.rect.width,t.rect.height)}),t.fills=t.fills.map(function(e){return new c.a(e,t.rect.width,t.rect.height)}).reverse(),t.shadows=t.shadows.map(function(e){return new d.a(e)}),t.textStyles=(t.textStyles||[]).map(function(e){var t=parseInt(e.range.location,10);return{range:{start:t,end:t+parseInt(e.range.length,10)},font:new u.a(e.style)}}),Object.defineProperties(this,{id:{value:t._id,enumerable:!0},type:{get:function(){return t.type},set:function(e){if(-1===g.indexOf(e))throw new TypeError("Unknown layer type: '"+e+"'. Possible values: "+JSON.stringify(g));t.type=e}},name:{get:function(){return t.name},set:function(e){t.name=e}},exportable:{value:t.exportable},rotation:{get:function(){return t.rotation},set:function(e){t.rotation=e}},opacity:{get:function(){return t.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");t.opacity=e}},blendMode:{get:function(){return t.blendMode},set:function(e){if(-1===o.a.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(o.a));t.blendMode=e}},borderRadius:{get:function(){return t.borderRadius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, ∞)");t.borderRadius=e}},blur:{get:function(){return t.blur},set:function(e){t.blur=new r.a(e)}},rect:{get:function(){return t.rect},set:function(e){t.rect=e}},content:{get:function(){return"text"===t.type?t.content||"":""},set:function(e){"text"===t.type&&(t.content=e)}},textStyles:{get:function(){return t.textStyles}},borders:{value:t.borders},fills:{value:t.fills},shadows:{value:t.shadows}})}t.a=a;var i=n(0),o=n(12),r=n(90),s=n(91),l=n(17),c=n(51),u=n(26),d=n(94),m=n(29),p=n(15),g=["text","shape","group"];a.prototype.hasGradient=function(){return this.fills.some(function(e){return"gradient"===e.type})},a.prototype.hasBlendMode=function(){return this.fills.some(function(e){return e.blendMode&&"normal"!==e.blendMode})},a.prototype.toCSS=function(e,t,n,a,r){var s=this.type,c={selector:o.e(this.name)||".layer"};if(t&&(c.width=o.f(this.rect.width,e),c.height=o.f(this.rect.height,e)),this.exportable&&(c["object-fit"]="contain"),this.rotation&&(c.transform="rotate("+-this.rotation+"deg)"),1!==this.opacity&&(c.opacity=i.z(this.opacity,2)),"normal"!==this.blendMode&&(c["mix-blend-mode"]=this.blendMode),this.borderRadius&&(c["border-radius"]=o.f(this.borderRadius,e)),this.blur.radius){var u=this.blur.toCSS(e);for(var d in u)c[d]=u[d]}var m,p=this.hasGradient(),g=this.hasBlendMode();if(this.fills.length&&(p||g?(c["background-image"]=this.fills.map(function(e){return e.toBackgroundImage(a)}),g&&(c["background-blend-mode"]=this.fills.map(function(e){return e.blendMode}))):m=l.a.blendAll(this.fills.map(function(e){return e.color}))),"text"===s){var f=this.getDefaultTextStyle(),h=f&&this._getLayerFontCSS(f,e,n,a,r);h&&(delete h.selector,Object.assign(c,h))}else m&&(c["background-color"]=m.toCSS(a));if(this.shadows.length){var y="text"===s?"text-shadow":"box-shadow";c[y]=this.shadows.map(function(t){return t.toCSS(s,e,a)[y]})}if(this.borders.length){var b=this.borders[this.borders.length-1].toCSS(s,e,a);if(b)for(var d in b)c[d]=b[d]}return c},a.prototype.toReactStyle=function(e,t,n,a,r){var s=this.type,c={selector:o.e(this.name)||".layer"};if(n&&(c.width=i.z(this.rect.width/t,1),c.height=i.z(this.rect.height/t,1)),this.rotation&&(c.transform="rotate("+-this.rotation+"deg)"),1!==this.opacity&&(c.opacity=i.z(this.opacity,2)),this.borderRadius&&(c.borderRadius=i.z(this.borderRadius/t,1)),"text"===s){var u=this.getDefaultTextStyle(),d=u&&this._getLayerFontReactStyle(u,t,a,r);d&&(delete d.selector,Object.assign(c,d))}else!this.fills.length||this.hasGradient()||this.hasBlendMode()||(c.backgroundColor=l.a.blendAll(this.fills.map(function(e){return e.color})).toCSS(a));return this.shadows.length&&Object.assign(c,this.shadows[this.shadows.length-1].toReactStyle(e,s,t,a)),this.borders.length&&Object.assign(c,this.borders[this.borders.length-1].toReactStyle(s,t,a)),c},a.prototype.toAndroidXMLStyle=function(e,t){var n={layout_width:"wrap_content",layout_height:"wrap_content"},a=new u.a(this.textStyles[0].font),o=e.findTextStyleEqual(a),r="<TextView\n";if(this.shadows.length){var s=this.shadows[this.shadows.length-1].toAndroidXML(e);Object.assign(n,s)}if(o)r+='  style="@style/'+Object(p.a)(o.name,"upperCamelCase")+'"\n';else{var c={densityDivisor:e.densityDivisor,dimensionSuffix:e.textDimensionSuffix,lineSpacingType:t},d=Object(m.a)(a,c);Object.assign(n,d.robotoStyle),delete d.robotoStyle;var g,f;if(this.fills.length){if(!this.hasGradient()){var h=l.a.blendAll(this.fills.map(function(e){return e.color}));f=a.color?h.blend(a.color):h}}else f=a.color;f&&(g=e.findColorEqual(f),n.textColor=g?"@color/"+g.name:f.toHexString(!0)),Object.assign(n,d)}return Object.keys(n).forEach(function(e){n[e]&&(r+="  android:"+e+'="'+n[e]+'"\n')}),r+='  tools:text="'+i.g(this.content)+'"\n/>'},a.prototype.generateTextStyleCSS=function(e,t,n,a,i){var r=[],s=[],l=this.toCSS(e.densityDivisor,!1,t,a,i),c=this;return this.textStyles.forEach(function(u,d){var m,p=u.font;if(!s.some(function(e){return p.equals(e)})){s.push(p),delete(m=c._getLayerFontCSS(p,e.densityDivisor,t,a,i,l)).selector;var g=!1;for(var f in l)o.c(f)&&l[f]===m[f]&&(g=!0,delete m[f]);if(n&&!g){var h=e.findTextStyleEqual(p);if(h&&!o.b(h.name)){var y=h.toCSS(e.densityDivisor,t,a);for(var f in y)delete m[f];m.mixinEntry=o.e(h.name).substr(1)}}Object.keys(m).length&&(r.push(m),m.selector=l.selector+" "+o.e("text-style-"+r.length))}}),r},a.prototype._getLayerFontCSS=function(e,t,n,a,i,o){var r=e.toCSS(t,n,a,i,o);if(this.fills.length)if(delete r.color,this.hasGradient())r["-webkit-background-clip"]="text",r["background-clip"]="text",r["-webkit-text-fill-color"]="transparent",r["background-image"]=this.fills.map(function(e){return e.toBackgroundImage(a)}),e.color&&r["background-image"].push(e.color.toGradient(a));else{var s=l.a.blendAll(this.fills.map(function(e){return e.color}));e.color&&(s=s.blend(e.color)),r.color=s.toCSS(a)}return r},a.prototype._getLayerFontReactStyle=function(e,t,n,a,i){var o=e.toReactStyle("",t,n,a,i);if(this.fills.length&&!this.hasGradient()){delete o.color;var r=l.a.blendAll(this.fills.map(function(e){return e.color}));e.color&&(r=r.blend(e.color)),o.color=r.toCSS(n)}return o},a.prototype.getDefaultTextStyle=function(){if("text"===this.type&&this.textStyles.length){var e,t=[],n=0;return this.textStyles.forEach(function(a){var i=t.find(function(e){return e.font.equals(a.font)}),o=a.range.end-a.range.start;i||(i={font:a.font,totalLength:0},t.push(i)),i.totalLength+=o,i.totalLength>n&&(n=i.totalLength,e=i)}),e&&e.font}}},function(e,t,n){"use strict";function a(e){if(e){var t=Object.assign({},e);Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===o.indexOf(e))throw new TypeError("Unknown blur type: '"+e+"'. Possible values: "+JSON.stringify(o));t.type=e}},radius:{get:function(){return t.radius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, ∞)");t.radius=e}}})}}t.a=a;var i=n(12),o=["gaussian","background"];a.prototype.toCSS=function(e){var t="blur("+i.f(this.radius,e)+")";return"background"===this.type?{"-webkit-backdrop-filter":t,"backdrop-filter":t}:{"-webkit-filter":t,filter:t}}},function(e,t,n){"use strict";function a(e,t,n){var a=Object.assign({},e);a.fill=new r.a({fillType:a.fillType,color:a.color,gradient:a.gradient,opacity:a.opacity,blendMode:a.blendMode},t,n),delete a.fillType,delete a.color,delete a.gradient,delete a.opacity,delete a.blendMode,Object.defineProperties(this,{position:{get:function(){return a.position},set:function(e){a.position=e}},thickness:{get:function(){return a.thickness},set:function(e){a.thickness=e}},fill:{get:function(){return a.fill},set:function(e){a.fill=e}}})}t.a=a;var i=n(0),o=n(12),r=n(51);a.prototype.toCSS=function(e,t,n){if(e&&"text"===e&&"color"===this.fill.type)return{"-webkit-text-stroke":o.f(this.thickness,t)+" "+this.fill.color.toCSS(n)};switch(this.fill.type){case"color":return{border:"solid "+o.f(this.thickness,t)+" "+this.fill.color.toCSS(n)};case"gradient":return{"border-style":"solid","border-width":o.f(this.thickness,t),"border-image-source":this.fill.gradient.toCSS(n),"border-image-slice":"1"}}},a.prototype.toReactStyle=function(e,t,n){return"text"===e?{}:"gradient"===this.fill.type?{}:{borderStyle:"solid",borderWidth:i.z(this.thickness/t,1),borderColor:this.fill.color.toCSS(n)}}},function(e,t,n){"use strict";function a(e,t,n){var a=Object.assign({},e);if("angle"in a){var i=Math.cos(a.angle*Math.PI/180),o=Math.sin(a.angle*Math.PI/180);a.angle=(360+Math.round(180*Math.atan2(i,o)/Math.PI))%360}else{var l=(a.from.x-a.to.x)*t,c=(a.from.y-a.to.y)*n;a.angle=(360-Math.round(180*Math.atan2(l,c)/Math.PI))%360}a.colorStops=a.colorStops.map(function(e){return new r.a(e)}),Object.defineProperties(this,{type:{get:function(){return a.type},set:function(e){if(-1===s.indexOf(e))throw new TypeError("Unknown gradient type: '"+e+"'. Possible values: "+JSON.stringify(s));a.type=e},enumerable:!0},from:{get:function(){return a.from},set:function(e){a.from=e},enumerable:!0},to:{get:function(){return a.to},set:function(e){a.to=e},enumerable:!0},angle:{get:function(){return a.angle},set:function(e){a.angle=e},enumerable:!0},scale:{get:function(){return a.scale},set:function(e){a.scale=e},enumerable:!0},colorStops:{value:a.colorStops,enumerable:!0}})}function i(e){switch(e){case 0:return"to top";case 90:return"to right";case 180:return"to bottom";case 270:return"to left";default:return e+"deg"}}t.a=a;var o=n(12),r=n(93),s=["linear","radial","angular"];a.prototype.toCSS=function(e){switch(this.type){case"linear":return"linear-gradient("+i(this.angle)+", "+this.colorStops.map(function(t){return t.toCSS(e)}).join(", ")+")";case"radial":var t=this.colorStops.map(function(t){return t.toCSS(e)}).join(", ");return"radial-gradient(circle at "+o.g(this.from.x)+" "+o.g(this.from.y)+", "+t+")";case"angular":return"conic-gradient("+this.colorStops.map(function(t){return t.toCSS(e)}).join(", ")+", "+this.colorStops[0].toCSS(e)+")"}}},function(e,t,n){"use strict";function a(e){var t=Object.assign({},e);t.color=new o.a(t.color),Object.defineProperties(this,{color:{get:function(){return t.color},set:function(e){t.color=new o.a(e)}},position:{get:function(){return t.position},set:function(e){if(e<0||e>1)throw new RangeError("Invalid position value: '"+e+"'. Valid range: [0, 1]");t.position=e}}})}t.a=a;var i=n(12),o=n(17);a.prototype.toCSS=function(e){var t="";return 1!==this.position&&this.position&&(t=" "+i.g(this.position)),this.color.toCSS(e)+t}},function(e,t,n){"use strict";function a(e){var t=Object.assign({},e);t.color=new r.a(t.color),Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===s.indexOf(e))throw new TypeError("Unknown shadow type: '"+e+"'. Possible values: "+JSON.stringify(s));t.type=e}},offsetX:{get:function(){return t.offsetX},set:function(e){t.offsetX=e}},offsetY:{get:function(){return t.offsetY},set:function(e){t.offsetY=e}},blurRadius:{get:function(){return t.blurRadius},set:function(e){t.blurRadius=e}},spread:{get:function(){return t.spread},set:function(e){t.spread=e}},color:{get:function(){return t.color},set:function(e){t.color=new r.a(e)}}})}t.a=a;var i=n(0),o=n(12),r=n(17),s=["outer","inner"];a.prototype.toCSS=function(e,t,n){return e&&"text"===e?{"text-shadow":o.f(this.offsetX,t)+" "+o.f(this.offsetY,t)+" "+o.f(this.blurRadius,t)+" "+this.color.toCSS(n)}:{"box-shadow":("inner"===this.type?"inset ":"")+o.f(this.offsetX,t)+" "+o.f(this.offsetY,t)+" "+o.f(this.blurRadius,t)+" "+o.f(this.spread,t)+" "+this.color.toCSS(n)}},a.prototype.toReactStyle=function(e,t,n,a){return"text"===t?{textShadowColor:this.color.toCSS(a),textShadowOffset:{width:i.z(this.offsetX/n,1),height:i.z(this.offsetY/n,1)},textShadowRadius:i.z(this.blurRadius/n,1)}:"android"===e?{}:{shadowColor:this.color.toCSS(a),shadowOffset:{width:i.z(this.offsetX/n,1),height:i.z(this.offsetY/n,1)},shadowRadius:i.z(this.blurRadius/n,1),shadowOpacity:1}},a.prototype.toAndroidXML=function(e){var t,n=new r.a(this.color),a=e.findColorEqual(n);return t=a?"@color/"+a.name:n.toHexString(!0),{shadowColor:t,shadowDx:this.offsetX,shadowDy:this.offsetY,shadowRadius:this.blurRadius}}},function(e,t){e.exports=CodeMirror},function(e,t){e.exports=Autolinker},function(e,t){e.exports=JSZip},function(e,t,n){"use strict";function a(e){this._isMac=e&&e.mac,this._routes=[],this._history=new i,this._history.attach(function(e){this._handle(e.url)}.bind(this))}function i(){this._history=window.history,this._listeners={},this._listenerCount=0,window.addEventListener("popstate",this._handlePopState.bind(this))}function o(e,t){this._element=e,this._router=t,this._element.addEventListener("click",this._clickHandler.bind(this))}var r=n(0);Object.defineProperties(a.prototype,{isMac:{get:function(){return this._isMac}},history:{get:function(){return this._history}},match:{value:function(e){return e=this._getUrl(e),!!this._findRoute(e)}},route:{value:function(e,t){return this._register({regex:e,handler:t}),this}},start:{value:function(e,t,n){var a=Promise.resolve();return this._hookAppLinks(e),t&&(a=a.then(t)),a=a.then(function(){this._handle(window.location.href)}.bind(this)),n&&a.then(n),this}},_createLink:{value:function(e){new o(e,this)}},_register:{value:function(e){this._routes.push(e)}},_getUrl:{value:function(e){return"string"==typeof e?(e.startsWith("/")&&(e=window.location.origin+e),new URL(e)):e}},_findRoute:{value:function(e){return this._routes.find(function(t){return t.regex.test(e.href)})}},_handle:{value:function(e){e=this._getUrl(e);var t=this._findRoute(e);if(t)return t.handler({url:e,match:e.href.match(t.regex).slice(1),query:Object(r.w)(e.search.substr(1))})}},_searchAppLinks:{value:function(e){var t=this;return e.nodeType!==Node.ELEMENT_NODE?[]:e.hasAttribute("data-link-type")&&"inApp"===e.dataset.linkType?[e]:Array.from(e.childNodes).reduce(function(e,n){return e.concat(t._searchAppLinks(n))},[])}},_hookAppLinks:{value:function(e){var t=this,n=e.querySelectorAll('[data-link-type="inApp"]');Array.from(n).forEach(function(e){t._createLink(e)});var a={attributes:!0,childList:!0,subtree:!0,attributeFilter:["data-link-type"]};new MutationObserver(function(e){e.forEach(function(e){switch(e.type){case"attributes":"inApp"===e.target.dataset.linkType&&t._createLink(e.target);break;case"childList":Array.from(e.addedNodes).forEach(function(e){t._searchAppLinks(e).forEach(function(e){t._createLink(e)})})}})}).observe(e,a)}}}),Object.defineProperties(i.prototype,{actions:{value:{PUSH_STATE:"PUSH_STATE",POP_STATE:"POP_STATE",REPLACE_STATE:"REPLACE_STATE"}},attach:{value:function(e){var t=this._listenerCount;return this._listeners[t]=e,this._listenerCount++,t}},detach:{value:function(e){delete this._listeners[e]}},push:{value:function(e,t){this._history.pushState(t,null,e),this._notifyListeners({action:this.actions.PUSH_STATE,state:t,url:e})}},replace:{value:function(e,t){this._history.replaceState(t,null,e),this._notifyListeners({action:this.actions.REPLACE_STATE,state:t,url:e})}},_notifyListeners:{value:function(e){Object.keys(this._listeners).forEach(function(t){this._listeners[t](e)},this)}},_handlePopState:{value:function(e){this._notifyListeners({action:this.actions.POP_STATE,state:e.state,url:window.location.toString()})}}}),Object.defineProperties(o.prototype,{element:{get:function(){return this._element}},_shouldReplace:{get:function(){return!!this._element.dataset.replace}},_clickHandler:{value:function(e){!this._router.match(this._element.href)||(this._router.isMac?e.metaKey:e.ctrlKey)||(e.preventDefault(),this._shouldReplace?this._router.history.replace(this._element.href):this._router.history.push(this._element.href))}}}),t.a=a},function(e,t,n){"use strict";function a(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&s&&(e.target.classList.contains("assetExportTargetProjectFolder")?(o(l,!0),u.a.ipcRenderer.send("change-asset-download-target",{projectId:l,projectType:c})):e.target.classList.contains("openInExplorer")&&u.a.ipcRenderer.send("open-item",s))}function i(e,t){t?m.forEach(function(e){var n=e.querySelector(".assetExportTargetProjectName span"),a=e.querySelector(".assetExportTargetProjectFolder");s=t.projectFolder,n.title=t.projectName,n.textContent=t.projectName,a.title=t.projectFolder,a.textContent=t.projectFolderPathParts.join("▸"),e.classList.remove("android","custom","hidden"),e.classList.add(t.projectFolderType)}):m.forEach(function(e){e.classList.add("hidden"),e.classList.remove("android","custom")})}function o(e,t){l=e,m.forEach(function(e){t||(e.classList.add("hidden"),e.classList.remove("android","custom"))}),u.a.ipcRenderer.removeAllListeners(e+":asset-download-target"),u.a.ipcRenderer.once(e+":asset-download-target",i)}function r(e,t){d.D("Exported to "+t.projectName,p),"android"===c&&mixpanel.track("Exported assets",{folderType:t.projectFolderType,projectType:c})}t.b=function(e,t){c=t,o(e),u.a.ipcRenderer.send("query-asset-download-target",e)},t.a=function(e){o(e.projectId,!0),u.a.ipcRenderer.removeAllListeners("assets-downloaded"),u.a.ipcRenderer.once("assets-downloaded",r),u.a.ipcRenderer.send("download-assets",e)};var s,l,c,u=n(9),d=n(0),m=Array.from(document.querySelectorAll(".assetExportTargetProject")),p=document.querySelector("main");m.forEach(function(e){e.addEventListener("click",a)})},function(e,t,n){"use strict";function a(e){return e?(f=e,(L=y.a.getSuggestedEmojis(e)).length?(L.forEach(i),v.appendChild(S),!m||o(m)?(E=0,m=L[0]):E=v.querySelector(".suggestedItem[data-emoji='"+m.emoji+"']").dataset.index,v):void(m=null)):(m=null,E=0,void d())}function i(e,t){var n=document.importNode(j.content,!0),a=n.querySelector(".suggestedItem"),i=e.alias.replace(/\s/gi,"_");a.dataset.index=t,a.dataset.emoji=e.emoji,e.customEmoji?(a.querySelector(".emojiImg").src=e.emoji,a.classList.add("customEmoji")):a.querySelector(".emojiChar").textContent=e.emoji,a.querySelector(".emojiAlias").textContent=i,a.querySelector(".emojiAlias").title=i,S.appendChild(n)}function o(e){return!L.some(function(t){return t.emoji===e.emoji})}function r(e){var t=p.selectionStart,n=p.value.substring(0,t),a=n.length-n.split("").reverse().join("").search(/:/)-1,i=p.value.substring(a,t),o=e.alias.replace(/\s/g,"_");p.value=p.value.substring(0,a)+i.replace(f,o+": ")+p.value.substring(t),g.innerHTML=Object(h.h)(p.value)+"&nbsp;";var r=t-f.length+o.length+2;p.focus(),p.setSelectionRange(r,r),d()}function s(e,t,n){return e.replace(D,function(e,a){var i=y.a.searchEmoji(a);if(i){if(n)return"";if(!i.customEmoji)return i.emoji;if(!t)return'<img class="customEmoji" src="'+i.emoji+'" title="'+a+'">'}return e})}function l(e,t){if(p=e,g=t,!v.classList.contains("hidden")){var n=v.querySelector(".suggestedItem.selected");n&&(m=L[n.dataset.index])}var i=e.value.substring(0,e.selectionStart),o=i.lastIndexOf(":"),r=e.value.substring(o,e.selectionStart).match(/^:(.+)/);if(r){var s=r[0].substring(1);if(f===s&&!v.classList.contains("hidden"))return;d();var l=i.substring(0,o).lastIndexOf(":"),c=i.substring(l,o+1).match(D);if(c&&y.a.searchEmoji(c[0].substring(1,c[0].length-1)))return;return a(s)}E=0,m=null,d()}function c(e,t){return s(e,t)}function u(){var e={elements:{textContainer:p,suggestedListContainer:v},cb:{autoComplete:r},index:E,list:L};b.b(e)}function d(){b.a()}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"manageSuggestedEmojis",function(){return l}),n.d(t,"open",function(){return u}),n.d(t,"close",function(){return d}),n.d(t,"formatEmojiString",function(){return c}),n.d(t,"replace",function(){return s});var m,p,g,f,h=n(0),y=n(52),b=n(53),v=document.getElementById("suggestedEmojisContainer"),S=v.querySelector(".suggestedListBox"),j=document.getElementById("suggestedEmojiTemplate"),E=0,L=[],D=/:(\S+?):/g},function(e,t,n){"use strict";t.a=[{emoji:"😀",aliases:["grinning"]},{emoji:"😃",aliases:["smiley"]},{emoji:"😄",aliases:["smile"]},{emoji:"😁",aliases:["grin"]},{emoji:"😆",aliases:["laughing","satisfied"]},{emoji:"😅",aliases:["sweat smile"]},{emoji:"😂",aliases:["joy"]},{emoji:"🤣",aliases:["rofl"]},{emoji:"☺️",aliases:["relaxed"]},{emoji:"😊",aliases:["blush"]},{emoji:"😇",aliases:["innocent"]},{emoji:"🙂",aliases:["slightly smiling face"]},{emoji:"🙃",aliases:["upside down face"]},{emoji:"😉",aliases:["wink"]},{emoji:"😌",aliases:["relieved"]},{emoji:"😍",aliases:["heart eyes"]},{emoji:"😘",aliases:["kissing heart"]},{emoji:"😗",aliases:["kissing"]},{emoji:"😙",aliases:["kissing smiling eyes"]},{emoji:"😚",aliases:["kissing closed eyes"]},{emoji:"😋",aliases:["yum"]},{emoji:"😜",aliases:["stuck out tongue winking eye"]},{emoji:"😝",aliases:["stuck out tongue closed eyes"]},{emoji:"😛",aliases:["stuck out tongue"]},{emoji:"🤑",aliases:["money mouth face"]},{emoji:"🤗",aliases:["hugs"]},{emoji:"🤓",aliases:["nerd face"]},{emoji:"😎",aliases:["sunglasses"]},{emoji:"🤡",aliases:["clown face"]},{emoji:"🤠",aliases:["cowboy hat face"]},{emoji:"😏",aliases:["smirk"]},{emoji:"😒",aliases:["unamused"]},{emoji:"😞",aliases:["disappointed"]},{emoji:"😔",aliases:["pensive"]},{emoji:"😟",aliases:["worried"]},{emoji:"😕",aliases:["confused"]},{emoji:"🙁",aliases:["slightly frowning face"]},{emoji:"☹️",aliases:["frowning face"]},{emoji:"😣",aliases:["persevere"]},{emoji:"😖",aliases:["confounded"]},{emoji:"😫",aliases:["tired face"]},{emoji:"😩",aliases:["weary"]},{emoji:"😤",aliases:["triumph"]},{emoji:"😠",aliases:["angry"]},{emoji:"😡",aliases:["rage","pout"]},{emoji:"😶",aliases:["no mouth"]},{emoji:"😐",aliases:["neutral face"]},{emoji:"😑",aliases:["expressionless"]},{emoji:"😯",aliases:["hushed"]},{emoji:"😦",aliases:["frowning"]},{emoji:"😧",aliases:["anguished"]},{emoji:"😮",aliases:["open mouth"]},{emoji:"😲",aliases:["astonished"]},{emoji:"😵",aliases:["dizzy face"]},{emoji:"😳",aliases:["flushed"]},{emoji:"😱",aliases:["scream"]},{emoji:"😨",aliases:["fearful"]},{emoji:"😰",aliases:["cold sweat"]},{emoji:"😢",aliases:["cry"]},{emoji:"😥",aliases:["disappointed relieved"]},{emoji:"🤤",aliases:["drooling face"]},{emoji:"😭",aliases:["sob"]},{emoji:"😓",aliases:["sweat"]},{emoji:"😪",aliases:["sleepy"]},{emoji:"😴",aliases:["sleeping"]},{emoji:"🙄",aliases:["roll eyes"]},{emoji:"🤔",aliases:["thinking"]},{emoji:"🤥",aliases:["lying face"]},{emoji:"😬",aliases:["grimacing"]},{emoji:"🤐",aliases:["zipper mouth face"]},{emoji:"🤢",aliases:["nauseated face"]},{emoji:"🤧",aliases:["sneezing face"]},{emoji:"😷",aliases:["mask"]},{emoji:"🤒",aliases:["face with thermometer"]},{emoji:"🤕",aliases:["face with head bandage"]},{emoji:"😈",aliases:["smiling imp"]},{emoji:"👿",aliases:["imp"]},{emoji:"👹",aliases:["japanese ogre"]},{emoji:"👺",aliases:["japanese goblin"]},{emoji:"💩",aliases:["hankey","poop","shit"]},{emoji:"👻",aliases:["ghost"]},{emoji:"💀",aliases:["skull"]},{emoji:"☠️",aliases:["skull and crossbones"]},{emoji:"👽",aliases:["alien"]},{emoji:"👾",aliases:["space invader"]},{emoji:"🤖",aliases:["robot"]},{emoji:"🎃",aliases:["jack o lantern"]},{emoji:"😺",aliases:["smiley cat"]},{emoji:"😸",aliases:["smile cat"]},{emoji:"😹",aliases:["joy cat"]},{emoji:"😻",aliases:["heart eyes cat"]},{emoji:"😼",aliases:["smirk cat"]},{emoji:"😽",aliases:["kissing cat"]},{emoji:"🙀",aliases:["scream cat"]},{emoji:"😿",aliases:["crying cat face"]},{emoji:"😾",aliases:["pouting cat"]},{emoji:"👐",aliases:["open hands"]},{emoji:"🙌",aliases:["raised hands"]},{emoji:"👏",aliases:["clap"]},{emoji:"🙏",aliases:["pray"]},{emoji:"🤝",aliases:["handshake"]},{emoji:"👍",aliases:["+1","thumbsup"]},{emoji:"👎",aliases:["-1","thumbsdown"]},{emoji:"👊",aliases:["fist oncoming","facepunch","punch"]},{emoji:"✊",aliases:["fist raised","fist"]},{emoji:"🤛",aliases:["fist left"]},{emoji:"🤜",aliases:["fist right"]},{emoji:"🤞",aliases:["crossed fingers"]},{emoji:"✌️",aliases:["v"]},{emoji:"🤘",aliases:["metal"]},{emoji:"👌",aliases:["ok hand"]},{emoji:"👈",aliases:["point left"]},{emoji:"👉",aliases:["point right"]},{emoji:"👆",aliases:["point up 2"]},{emoji:"👇",aliases:["point down"]},{emoji:"☝️",aliases:["point up"]},{emoji:"✋",aliases:["hand","raised hand"]},{emoji:"🤚",aliases:["raised back of hand"]},{emoji:"🖐",aliases:["raised hand with fingers splayed"]},{emoji:"🖖",aliases:["vulcan salute"]},{emoji:"👋",aliases:["wave"]},{emoji:"🤙",aliases:["call me hand"]},{emoji:"💪",aliases:["muscle"]},{emoji:"🖕",aliases:["middle finger","fu"]},{emoji:"✍️",aliases:["writing hand"]},{emoji:"🤳",aliases:["selfie"]},{emoji:"💅",aliases:["nail care"]},{emoji:"💍",aliases:["ring"]},{emoji:"💄",aliases:["lipstick"]},{emoji:"💋",aliases:["kiss"]},{emoji:"👄",aliases:["lips"]},{emoji:"👅",aliases:["tongue"]},{emoji:"👂",aliases:["ear"]},{emoji:"👃",aliases:["nose"]},{emoji:"👣",aliases:["footprints"]},{emoji:"👁",aliases:["eye"]},{emoji:"👀",aliases:["eyes"]},{emoji:"🗣",aliases:["speaking head"]},{emoji:"👤",aliases:["bust in silhouette"]},{emoji:"👥",aliases:["busts in silhouette"]},{emoji:"👶",aliases:["baby"]},{emoji:"👦",aliases:["boy"]},{emoji:"👧",aliases:["girl"]},{emoji:"👨",aliases:["man"]},{emoji:"👩",aliases:["woman"]},{emoji:"👱‍♀️‍",aliases:["blonde woman"]},{emoji:"👱",aliases:["blonde man","person with blond hair"]},{emoji:"👴",aliases:["older man"]},{emoji:"👵",aliases:["older woman"]},{emoji:"👲",aliases:["man with gua pi mao"]},{emoji:"👳‍♀️",aliases:["woman with turban"]},{emoji:"👳",aliases:["man with turban"]},{emoji:"👮‍♀️",aliases:["policewoman"]},{emoji:"👮",aliases:["policeman","cop"]},{emoji:"👷‍♀️",aliases:["construction worker woman"]},{emoji:"👷",aliases:["construction worker man","construction worker"]},{emoji:"💂‍♀️",aliases:["guardswoman"]},{emoji:"💂",aliases:["guardsman"]},{emoji:"🕵️‍♀️",aliases:["female detective"]},{emoji:"🕵",aliases:["male detective","detective"]},{emoji:"👩‍⚕️",aliases:["woman health worker"]},{emoji:"👨‍⚕️",aliases:["man health worker"]},{emoji:"👩‍🌾",aliases:["woman farmer"]},{emoji:"👨‍🌾",aliases:["man farmer"]},{emoji:"👩‍🍳",aliases:["woman cook"]},{emoji:"👨‍🍳",aliases:["man cook"]},{emoji:"👩‍🎓",aliases:["woman student"]},{emoji:"👨‍🎓",aliases:["man student"]},{emoji:"👩‍🎤",aliases:["woman singer"]},{emoji:"👨‍🎤",aliases:["man singer"]},{emoji:"👩‍🏫",aliases:["woman teacher"]},{emoji:"👨‍🏫",aliases:["man teacher"]},{emoji:"👩‍🏭",aliases:["woman factory worker"]},{emoji:"👨‍🏭",aliases:["man factory worker"]},{emoji:"👩‍💻",aliases:["woman technologist"]},{emoji:"👨‍💻",aliases:["man technologist"]},{emoji:"👩‍💼",aliases:["woman office worker"]},{emoji:"👨‍💼",aliases:["man office worker"]},{emoji:"👩‍🔧",aliases:["woman mechanic"]},{emoji:"👨‍🔧",aliases:["man mechanic"]},{emoji:"👩‍🔬",aliases:["woman scientist"]},{emoji:"👨‍🔬",aliases:["man scientist"]},{emoji:"👩‍🎨",aliases:["woman artist"]},{emoji:"👨‍🎨",aliases:["man artist"]},{emoji:"👩‍🚒",aliases:["woman firefighter"]},{emoji:"👨‍🚒",aliases:["man firefighter"]},{emoji:"👩‍✈️",aliases:["woman pilot"]},{emoji:"👨‍✈️",aliases:["man pilot"]},{emoji:"👩‍🚀",aliases:["woman astronaut"]},{emoji:"👨‍🚀",aliases:["man astronaut"]},{emoji:"👩‍⚖️",aliases:["woman judge"]},{emoji:"👨‍⚖️",aliases:["man judge"]},{emoji:"🤶",aliases:["mrs claus"]},{emoji:"🎅",aliases:["santa"]},{emoji:"👸",aliases:["princess"]},{emoji:"🤴",aliases:["prince"]},{emoji:"👰",aliases:["bride with veil"]},{emoji:"🤵",aliases:["man in tuxedo"]},{emoji:"👼",aliases:["angel"]},{emoji:"🤰",aliases:["pregnant woman"]},{emoji:"🙇‍♀️",aliases:["bowing woman"]},{emoji:"🙇",aliases:["bowing man","bow"]},{emoji:"💁",aliases:["tipping hand woman","information desk person","sassy woman"]},{emoji:"💁‍♂️",aliases:["tipping hand man","sassy man"]},{emoji:"🙅",aliases:["no good woman","no good","ng woman"]},{emoji:"🙅‍♂️",aliases:["no good man","ng man"]},{emoji:"🙆",aliases:["ok woman"]},{emoji:"🙆‍♂️",aliases:["ok man"]},{emoji:"🙋",aliases:["raising hand woman","raising hand"]},{emoji:"🙋‍♂️",aliases:["raising hand man"]},{emoji:"🤦‍♀️",aliases:["woman facepalming"]},{emoji:"🤦‍♂️",aliases:["man facepalming"]},{emoji:"🤷‍♀️",aliases:["woman shrugging"]},{emoji:"🤷‍♂️",aliases:["man shrugging"]},{emoji:"🙎",aliases:["pouting woman","person with pouting face"]},{emoji:"🙎‍♂️",aliases:["pouting man"]},{emoji:"🙍",aliases:["frowning woman","person frowning"]},{emoji:"🙍‍♂️",aliases:["frowning man"]},{emoji:"💇",aliases:["haircut woman","haircut"]},{emoji:"💇‍♂️",aliases:["haircut man"]},{emoji:"💆",aliases:["massage woman","massage"]},{emoji:"💆‍♂️",aliases:["massage man"]},{emoji:"🕴",aliases:["business suit levitating"]},{emoji:"💃",aliases:["dancer"]},{emoji:"🕺",aliases:["man dancing"]},{emoji:"👯",aliases:["dancing women","dancers"]},{emoji:"👯‍♂️",aliases:["dancing men"]},{emoji:"🚶‍♀️",aliases:["walking woman"]},{emoji:"🚶",aliases:["walking man","walking"]},{emoji:"🏃‍♀️",aliases:["running woman"]},{emoji:"🏃",aliases:["running man","runner","running"]},{emoji:"👫",aliases:["couple"]},{emoji:"👭",aliases:["two women holding hands"]},{emoji:"👬",aliases:["two men holding hands"]},{emoji:"💑",aliases:["couple with heart woman man","couple with heart"]},{emoji:"👩‍❤️‍👩",aliases:["couple with heart woman woman"]},{emoji:"👨‍❤️‍👨",aliases:["couple with heart man man"]},{emoji:"💏",aliases:["couplekiss man woman"]},{emoji:"👩‍❤️‍💋‍👩",aliases:["couplekiss woman woman"]},{emoji:"👨‍❤️‍💋‍👨",aliases:["couplekiss man man"]},{emoji:"👪",aliases:["family man woman boy","family"]},{emoji:"👨‍👩‍👧",aliases:["family man woman girl"]},{emoji:"👨‍👩‍👧‍👦",aliases:["family man woman girl boy"]},{emoji:"👨‍👩‍👦‍👦",aliases:["family man woman boy boy"]},{emoji:"👨‍👩‍👧‍👧",aliases:["family man woman girl girl"]},{emoji:"👩‍👩‍👦",aliases:["family woman woman boy"]},{emoji:"👩‍👩‍👧",aliases:["family woman woman girl"]},{emoji:"👩‍👩‍👧‍👦",aliases:["family woman woman girl boy"]},{emoji:"👩‍👩‍👦‍👦",aliases:["family woman woman boy boy"]},{emoji:"👩‍👩‍👧‍👧",aliases:["family woman woman girl girl"]},{emoji:"👨‍👨‍👦",aliases:["family man man boy"]},{emoji:"👨‍👨‍👧",aliases:["family man man girl"]},{emoji:"👨‍👨‍👧‍👦",aliases:["family man man girl boy"]},{emoji:"👨‍👨‍👦‍👦",aliases:["family man man boy boy"]},{emoji:"👨‍👨‍👧‍👧",aliases:["family man man girl girl"]},{emoji:"👩‍👦",aliases:["family woman boy"]},{emoji:"👩‍👧",aliases:["family woman girl"]},{emoji:"👩‍👧‍👦",aliases:["family woman girl boy"]},{emoji:"👩‍👦‍👦",aliases:["family woman boy boy"]},{emoji:"👩‍👧‍👧",aliases:["family woman girl girl"]},{emoji:"👨‍👦",aliases:["family man boy"]},{emoji:"👨‍👧",aliases:["family man girl"]},{emoji:"👨‍👧‍👦",aliases:["family man girl boy"]},{emoji:"👨‍👦‍👦",aliases:["family man boy boy"]},{emoji:"👨‍👧‍👧",aliases:["family man girl girl"]},{emoji:"👚",aliases:["womans clothes"]},{emoji:"👕",aliases:["shirt","tshirt"]},{emoji:"👖",aliases:["jeans"]},{emoji:"👔",aliases:["necktie"]},{emoji:"👗",aliases:["dress"]},{emoji:"👙",aliases:["bikini"]},{emoji:"👘",aliases:["kimono"]},{emoji:"👠",aliases:["high heel"]},{emoji:"👡",aliases:["sandal"]},{emoji:"👢",aliases:["boot"]},{emoji:"👞",aliases:["mans shoe","shoe"]},{emoji:"👟",aliases:["athletic shoe"]},{emoji:"👒",aliases:["womans hat"]},{emoji:"🎩",aliases:["tophat"]},{emoji:"🎓",aliases:["mortar board"]},{emoji:"👑",aliases:["crown"]},{emoji:"⛑",aliases:["rescue worker helmet"]},{emoji:"🎒",aliases:["school satchel"]},{emoji:"👝",aliases:["pouch"]},{emoji:"👛",aliases:["purse"]},{emoji:"👜",aliases:["handbag"]},{emoji:"💼",aliases:["briefcase"]},{emoji:"👓",aliases:["eyeglasses"]},{emoji:"🕶",aliases:["dark sunglasses"]},{emoji:"🌂",aliases:["closed umbrella"]},{emoji:"☂️",aliases:["open umbrella"]},{emoji:"🐶",aliases:["dog"]},{emoji:"🐱",aliases:["cat"]},{emoji:"🐭",aliases:["mouse"]},{emoji:"🐹",aliases:["hamster"]},{emoji:"🐰",aliases:["rabbit"]},{emoji:"🦊",aliases:["fox face"]},{emoji:"🐻",aliases:["bear"]},{emoji:"🐼",aliases:["panda face"]},{emoji:"🐨",aliases:["koala"]},{emoji:"🐯",aliases:["tiger"]},{emoji:"🦁",aliases:["lion"]},{emoji:"🐮",aliases:["cow"]},{emoji:"🐷",aliases:["pig"]},{emoji:"🐽",aliases:["pig nose"]},{emoji:"🐸",aliases:["frog"]},{emoji:"🐵",aliases:["monkey face"]},{emoji:"🙈",aliases:["see no evil"]},{emoji:"🙉",aliases:["hear no evil"]},{emoji:"🙊",aliases:["speak no evil"]},{emoji:"🐒",aliases:["monkey"]},{emoji:"🐔",aliases:["chicken"]},{emoji:"🐧",aliases:["penguin"]},{emoji:"🐦",aliases:["bird"]},{emoji:"🐤",aliases:["baby chick"]},{emoji:"🐣",aliases:["hatching chick"]},{emoji:"🐥",aliases:["hatched chick"]},{emoji:"🦆",aliases:["duck"]},{emoji:"🦅",aliases:["eagle"]},{emoji:"🦉",aliases:["owl"]},{emoji:"🦇",aliases:["bat"]},{emoji:"🐺",aliases:["wolf"]},{emoji:"🐗",aliases:["boar"]},{emoji:"🐴",aliases:["horse"]},{emoji:"🦄",aliases:["unicorn"]},{emoji:"🐝",aliases:["bee","honeybee"]},{emoji:"🐛",aliases:["bug"]},{emoji:"🦋",aliases:["butterfly"]},{emoji:"🐌",aliases:["snail"]},{emoji:"🐚",aliases:["shell"]},{emoji:"🐞",aliases:["beetle"]},{emoji:"🐜",aliases:["ant"]},{emoji:"🕷",aliases:["spider"]},{emoji:"🕸",aliases:["spider web"]},{emoji:"🐢",aliases:["turtle"]},{emoji:"🐍",aliases:["snake"]},{emoji:"🦎",aliases:["lizard"]},{emoji:"🦂",aliases:["scorpion"]},{emoji:"🦀",aliases:["crab"]},{emoji:"🦑",aliases:["squid"]},{emoji:"🐙",aliases:["octopus"]},{emoji:"🦐",aliases:["shrimp"]},{emoji:"🐠",aliases:["tropical fish"]},{emoji:"🐟",aliases:["fish"]},{emoji:"🐡",aliases:["blowfish"]},{emoji:"🐬",aliases:["dolphin","flipper"]},{emoji:"🦈",aliases:["shark"]},{emoji:"🐳",aliases:["whale"]},{emoji:"🐋",aliases:["whale2"]},{emoji:"🐊",aliases:["crocodile"]},{emoji:"🐆",aliases:["leopard"]},{emoji:"🐅",aliases:["tiger2"]},{emoji:"🐃",aliases:["water buffalo"]},{emoji:"🐂",aliases:["ox"]},{emoji:"🐄",aliases:["cow2"]},{emoji:"🦌",aliases:["deer"]},{emoji:"🐪",aliases:["dromedary camel"]},{emoji:"🐫",aliases:["camel"]},{emoji:"🐘",aliases:["elephant"]},{emoji:"🦏",aliases:["rhinoceros"]},{emoji:"🦍",aliases:["gorilla"]},{emoji:"🐎",aliases:["racehorse"]},{emoji:"🐖",aliases:["pig2"]},{emoji:"🐐",aliases:["goat"]},{emoji:"🐏",aliases:["ram"]},{emoji:"🐑",aliases:["sheep"]},{emoji:"🐕",aliases:["dog2"]},{emoji:"🐩",aliases:["poodle"]},{emoji:"🐈",aliases:["cat2"]},{emoji:"🐓",aliases:["rooster"]},{emoji:"🦃",aliases:["turkey"]},{emoji:"🕊",aliases:["dove"]},{emoji:"🐇",aliases:["rabbit2"]},{emoji:"🐁",aliases:["mouse2"]},{emoji:"🐀",aliases:["rat"]},{emoji:"🐿",aliases:["chipmunk"]},{emoji:"🐾",aliases:["feet","paw prints"]},{emoji:"🐉",aliases:["dragon"]},{emoji:"🐲",aliases:["dragon face"]},{emoji:"🌵",aliases:["cactus"]},{emoji:"🎄",aliases:["christmas tree"]},{emoji:"🌲",aliases:["evergreen tree"]},{emoji:"🌳",aliases:["deciduous tree"]},{emoji:"🌴",aliases:["palm tree"]},{emoji:"🌱",aliases:["seedling"]},{emoji:"🌿",aliases:["herb"]},{emoji:"☘️",aliases:["shamrock"]},{emoji:"🍀",aliases:["four leaf clover"]},{emoji:"🎍",aliases:["bamboo"]},{emoji:"🎋",aliases:["tanabata tree"]},{emoji:"🍃",aliases:["leaves"]},{emoji:"🍂",aliases:["fallen leaf"]},{emoji:"🍁",aliases:["maple leaf"]},{emoji:"🍄",aliases:["mushroom"]},{emoji:"🌾",aliases:["ear of rice"]},{emoji:"💐",aliases:["bouquet"]},{emoji:"🌷",aliases:["tulip"]},{emoji:"🌹",aliases:["rose"]},{emoji:"🥀",aliases:["wilted flower"]},{emoji:"🌻",aliases:["sunflower"]},{emoji:"🌼",aliases:["blossom"]},{emoji:"🌸",aliases:["cherry blossom"]},{emoji:"🌺",aliases:["hibiscus"]},{emoji:"🌎",aliases:["earth americas"]},{emoji:"🌍",aliases:["earth africa"]},{emoji:"🌏",aliases:["earth asia"]},{emoji:"🌕",aliases:["full moon"]},{emoji:"🌖",aliases:["waning gibbous moon"]},{emoji:"🌗",aliases:["last quarter moon"]},{emoji:"🌘",aliases:["waning crescent moon"]},{emoji:"🌑",aliases:["new moon"]},{emoji:"🌒",aliases:["waxing crescent moon"]},{emoji:"🌓",aliases:["first quarter moon"]},{emoji:"🌔",aliases:["moon","waxing gibbous moon"]},{emoji:"🌚",aliases:["new moon with face"]},{emoji:"🌝",aliases:["full moon with face"]},{emoji:"🌞",aliases:["sun with face"]},{emoji:"🌛",aliases:["first quarter moon with face"]},{emoji:"🌜",aliases:["last quarter moon with face"]},{emoji:"🌙",aliases:["crescent moon"]},{emoji:"💫",aliases:["dizzy"]},{emoji:"⭐️",aliases:["star"]},{emoji:"🌟",aliases:["star2"]},{emoji:"✨",aliases:["sparkles"]},{emoji:"⚡️",aliases:["zap"]},{emoji:"🔥",aliases:["fire"]},{emoji:"💥",aliases:["boom","collision"]},{emoji:"☄",aliases:["comet"]},{emoji:"☀️",aliases:["sunny"]},{emoji:"🌤",aliases:["sun behind small cloud"]},{emoji:"⛅️",aliases:["partly sunny"]},{emoji:"🌥",aliases:["sun behind large cloud"]},{emoji:"🌦",aliases:["sun behind rain cloud"]},{emoji:"🌈",aliases:["rainbow"]},{emoji:"☁️",aliases:["cloud"]},{emoji:"🌧",aliases:["cloud with rain"]},{emoji:"⛈",aliases:["cloud with lightning and rain"]},{emoji:"🌩",aliases:["cloud with lightning"]},{emoji:"🌨",aliases:["cloud with snow"]},{emoji:"☃️",aliases:["snowman with snow"]},{emoji:"⛄️",aliases:["snowman"]},{emoji:"❄️",aliases:["snowflake"]},{emoji:"🌬",aliases:["wind face"]},{emoji:"💨",aliases:["dash"]},{emoji:"🌪",aliases:["tornado"]},{emoji:"🌫",aliases:["fog"]},{emoji:"🌊",aliases:["ocean"]},{emoji:"💧",aliases:["droplet"]},{emoji:"💦",aliases:["sweat drops"]},{emoji:"☔️",aliases:["umbrella"]},{emoji:"🍏",aliases:["green apple"]},{emoji:"🍎",aliases:["apple"]},{emoji:"🍐",aliases:["pear"]},{emoji:"🍊",aliases:["tangerine","orange","mandarin"]},{emoji:"🍋",aliases:["lemon"]},{emoji:"🍌",aliases:["banana"]},{emoji:"🍉",aliases:["watermelon"]},{emoji:"🍇",aliases:["grapes"]},{emoji:"🍓",aliases:["strawberry"]},{emoji:"🍈",aliases:["melon"]},{emoji:"🍒",aliases:["cherries"]},{emoji:"🍑",aliases:["peach"]},{emoji:"🍍",aliases:["pineapple"]},{emoji:"🥝",aliases:["kiwi fruit"]},{emoji:"🥑",aliases:["avocado"]},{emoji:"🍅",aliases:["tomato"]},{emoji:"🍆",aliases:["eggplant"]},{emoji:"🥒",aliases:["cucumber"]},{emoji:"🥕",aliases:["carrot"]},{emoji:"🌽",aliases:["corn"]},{emoji:"🌶",aliases:["hot pepper"]},{emoji:"🥔",aliases:["potato"]},{emoji:"🍠",aliases:["sweet potato"]},{emoji:"🌰",aliases:["chestnut"]},{emoji:"🥜",aliases:["peanuts"]},{emoji:"🍯",aliases:["honey pot"]},{emoji:"🥐",aliases:["croissant"]},{emoji:"🍞",aliases:["bread"]},{emoji:"🥖",aliases:["baguette bread"]},{emoji:"🧀",aliases:["cheese"]},{emoji:"🥚",aliases:["egg"]},{emoji:"🍳",aliases:["fried egg"]},{emoji:"🥓",aliases:["bacon"]},{emoji:"🥞",aliases:["pancakes"]},{emoji:"🍤",aliases:["fried shrimp"]},{emoji:"🍗",aliases:["poultry leg"]},{emoji:"🍖",aliases:["meat on bone"]},{emoji:"🍕",aliases:["pizza"]},{emoji:"🌭",aliases:["hotdog"]},{emoji:"🍔",aliases:["hamburger"]},{emoji:"🍟",aliases:["fries"]},{emoji:"🥙",aliases:["stuffed flatbread"]},{emoji:"🌮",aliases:["taco"]},{emoji:"🌯",aliases:["burrito"]},{emoji:"🥗",aliases:["green salad"]},{emoji:"🥘",aliases:["shallow pan of food"]},{emoji:"🍝",aliases:["spaghetti"]},{emoji:"🍜",aliases:["ramen"]},{emoji:"🍲",aliases:["stew"]},{emoji:"🍥",aliases:["fish cake"]},{emoji:"🍣",aliases:["sushi"]},{emoji:"🍱",aliases:["bento"]},{emoji:"🍛",aliases:["curry"]},{emoji:"🍚",aliases:["rice"]},{emoji:"🍙",aliases:["rice ball"]},{emoji:"🍘",aliases:["rice cracker"]},{emoji:"🍢",aliases:["oden"]},{emoji:"🍡",aliases:["dango"]},{emoji:"🍧",aliases:["shaved ice"]},{emoji:"🍨",aliases:["ice cream"]},{emoji:"🍦",aliases:["icecream"]},{emoji:"🍰",aliases:["cake"]},{emoji:"🎂",aliases:["birthday"]},{emoji:"🍮",aliases:["custard"]},{emoji:"🍭",aliases:["lollipop"]},{emoji:"🍬",aliases:["candy"]},{emoji:"🍫",aliases:["chocolate bar"]},{emoji:"🍿",aliases:["popcorn"]},{emoji:"🍩",aliases:["doughnut"]},{emoji:"🍪",aliases:["cookie"]},{emoji:"🥛",aliases:["milk glass"]},{emoji:"🍼",aliases:["baby bottle"]},{emoji:"☕️",aliases:["coffee"]},{emoji:"🍵",aliases:["tea"]},{emoji:"🍶",aliases:["sake"]},{emoji:"🍺",aliases:["beer"]},{emoji:"🍻",aliases:["beers"]},{emoji:"🥂",aliases:["clinking glasses"]},{emoji:"🍷",aliases:["wine glass"]},{emoji:"🥃",aliases:["tumbler glass"]},{emoji:"🍸",aliases:["cocktail"]},{emoji:"🍹",aliases:["tropical drink"]},{emoji:"🍾",aliases:["champagne"]},{emoji:"🥄",aliases:["spoon"]},{emoji:"🍴",aliases:["fork and knife"]},{emoji:"🍽",aliases:["plate with cutlery"]},{emoji:"⚽️",aliases:["soccer"]},{emoji:"🏀",aliases:["basketball"]},{emoji:"🏈",aliases:["football"]},{emoji:"⚾️",aliases:["baseball"]},{emoji:"🎾",aliases:["tennis"]},{emoji:"🏐",aliases:["volleyball"]},{emoji:"🏉",aliases:["rugby football"]},{emoji:"🎱",aliases:["8ball"]},{emoji:"🏓",aliases:["ping pong"]},{emoji:"🏸",aliases:["badminton"]},{emoji:"🥅",aliases:["goal net"]},{emoji:"🏒",aliases:["ice hockey"]},{emoji:"🏑",aliases:["field hockey"]},{emoji:"🏏",aliases:["cricket"]},{emoji:"⛳️",aliases:["golf"]},{emoji:"🏹",aliases:["bow and arrow"]},{emoji:"🎣",aliases:["fishing pole and fish"]},{emoji:"🥊",aliases:["boxing glove"]},{emoji:"🥋",aliases:["martial arts uniform"]},{emoji:"⛸",aliases:["ice skate"]},{emoji:"🎿",aliases:["ski"]},{emoji:"⛷",aliases:["skier"]},{emoji:"🏂",aliases:["snowboarder"]},{emoji:"🏋️‍♀️",aliases:["weight lifting woman"]},{emoji:"🏋",aliases:["weight lifting man"]},{emoji:"🤺",aliases:["person fencing"]},{emoji:"🤼‍♀️",aliases:["women wrestling"]},{emoji:"🤼‍♂️",aliases:["men wrestling"]},{emoji:"🤸‍♀️",aliases:["woman cartwheeling"]},{emoji:"🤸‍♂️",aliases:["man cartwheeling"]},{emoji:"⛹️‍♀️",aliases:["basketball woman"]},{emoji:"⛹",aliases:["basketball man"]},{emoji:"🤾‍♀️",aliases:["woman playing handball"]},{emoji:"🤾‍♂️",aliases:["man playing handball"]},{emoji:"🏌️‍♀️",aliases:["golfing woman"]},{emoji:"🏌",aliases:["golfing man"]},{emoji:"🏄‍♀️",aliases:["surfing woman"]},{emoji:"🏄",aliases:["surfing man","surfer"]},{emoji:"🏊‍♀️",aliases:["swimming woman"]},{emoji:"🏊",aliases:["swimming man","swimmer"]},{emoji:"🤽‍♀️",aliases:["woman playing water polo"]},{emoji:"🤽‍♂️",aliases:["man playing water polo"]},{emoji:"🚣‍♀️",aliases:["rowing woman"]},{emoji:"🚣",aliases:["rowing man","rowboat"]},{emoji:"🏇",aliases:["horse racing"]},{emoji:"🚴‍♀️",aliases:["biking woman"]},{emoji:"🚴",aliases:["biking man","bicyclist"]},{emoji:"🚵‍♀️",aliases:["mountain biking woman"]},{emoji:"🚵",aliases:["mountain biking man","mountain bicyclist"]},{emoji:"🎽",aliases:["running shirt with sash"]},{emoji:"🏅",aliases:["medal sports"]},{emoji:"🎖",aliases:["medal military"]},{emoji:"🥇",aliases:["1st place medal"]},{emoji:"🥈",aliases:["2nd place medal"]},{emoji:"🥉",aliases:["3rd place medal"]},{emoji:"🏆",aliases:["trophy"]},{emoji:"🏵",aliases:["rosette"]},{emoji:"🎗",aliases:["reminder ribbon"]},{emoji:"🎫",aliases:["ticket"]},{emoji:"🎟",aliases:["tickets"]},{emoji:"🎪",aliases:["circus tent"]},{emoji:"🤹‍♀️",aliases:["woman juggling"]},{emoji:"🤹‍♂️",aliases:["man juggling"]},{emoji:"🎭",aliases:["performing arts"]},{emoji:"🎨",aliases:["art"]},{emoji:"🎬",aliases:["clapper"]},{emoji:"🎤",aliases:["microphone"]},{emoji:"🎧",aliases:["headphones"]},{emoji:"🎼",aliases:["musical score"]},{emoji:"🎹",aliases:["musical keyboard"]},{emoji:"🥁",aliases:["drum"]},{emoji:"🎷",aliases:["saxophone"]},{emoji:"🎺",aliases:["trumpet"]},{emoji:"🎸",aliases:["guitar"]},{emoji:"🎻",aliases:["violin"]},{emoji:"🎲",aliases:["game die"]},{emoji:"🎯",aliases:["dart"]},{emoji:"🎳",aliases:["bowling"]},{emoji:"🎮",aliases:["video game"]},{emoji:"🎰",aliases:["slot machine"]},{emoji:"🚗",aliases:["car","red car"]},{emoji:"🚕",aliases:["taxi"]},{emoji:"🚙",aliases:["blue car"]},{emoji:"🚌",aliases:["bus"]},{emoji:"🚎",aliases:["trolleybus"]},{emoji:"🏎",aliases:["racing car"]},{emoji:"🚓",aliases:["police car"]},{emoji:"🚑",aliases:["ambulance"]},{emoji:"🚒",aliases:["fire engine"]},{emoji:"🚐",aliases:["minibus"]},{emoji:"🚚",aliases:["truck"]},{emoji:"🚛",aliases:["articulated lorry"]},{emoji:"🚜",aliases:["tractor"]},{emoji:"🛴",aliases:["kick scooter"]},{emoji:"🚲",aliases:["bike"]},{emoji:"🛵",aliases:["motor scooter"]},{emoji:"🏍",aliases:["motorcycle"]},{emoji:"🚨",aliases:["rotating light"]},{emoji:"🚔",aliases:["oncoming police car"]},{emoji:"🚍",aliases:["oncoming bus"]},{emoji:"🚘",aliases:["oncoming automobile"]},{emoji:"🚖",aliases:["oncoming taxi"]},{emoji:"🚡",aliases:["aerial tramway"]},{emoji:"🚠",aliases:["mountain cableway"]},{emoji:"🚟",aliases:["suspension railway"]},{emoji:"🚃",aliases:["railway car"]},{emoji:"🚋",aliases:["train"]},{emoji:"🚞",aliases:["mountain railway"]},{emoji:"🚝",aliases:["monorail"]},{emoji:"🚄",aliases:["bullettrain side"]},{emoji:"🚅",aliases:["bullettrain front"]},{emoji:"🚈",aliases:["light rail"]},{emoji:"🚂",aliases:["steam locomotive"]},{emoji:"🚆",aliases:["train2"]},{emoji:"🚇",aliases:["metro"]},{emoji:"🚊",aliases:["tram"]},{emoji:"🚉",aliases:["station"]},{emoji:"🚁",aliases:["helicopter"]},{emoji:"🛩",aliases:["small airplane"]},{emoji:"✈️",aliases:["airplane"]},{emoji:"🛫",aliases:["flight departure"]},{emoji:"🛬",aliases:["flight arrival"]},{emoji:"🚀",aliases:["rocket"]},{emoji:"🛰",aliases:["artificial satellite"]},{emoji:"💺",aliases:["seat"]},{emoji:"🛶",aliases:["canoe"]},{emoji:"⛵️",aliases:["boat","sailboat"]},{emoji:"🛥",aliases:["motor boat"]},{emoji:"🚤",aliases:["speedboat"]},{emoji:"🛳",aliases:["passenger ship"]},{emoji:"⛴",aliases:["ferry"]},{emoji:"🚢",aliases:["ship"]},{emoji:"⚓️",aliases:["anchor"]},{emoji:"🚧",aliases:["construction"]},{emoji:"⛽️",aliases:["fuelpump"]},{emoji:"🚏",aliases:["busstop"]},{emoji:"🚦",aliases:["vertical traffic light"]},{emoji:"🚥",aliases:["traffic light"]},{emoji:"🗺",aliases:["world map"]},{emoji:"🗿",aliases:["moyai"]},{emoji:"🗽",aliases:["statue of liberty"]},{emoji:"⛲️",aliases:["fountain"]},{emoji:"🗼",aliases:["tokyo tower"]},{emoji:"🏰",aliases:["european castle"]},{emoji:"🏯",aliases:["japanese castle"]},{emoji:"🏟",aliases:["stadium"]},{emoji:"🎡",aliases:["ferris wheel"]},{emoji:"🎢",aliases:["roller coaster"]},{emoji:"🎠",aliases:["carousel horse"]},{emoji:"⛱",aliases:["parasol on ground"]},{emoji:"🏖",aliases:["beach umbrella"]},{emoji:"🏝",aliases:["desert island"]},{emoji:"⛰",aliases:["mountain"]},{emoji:"🏔",aliases:["mountain snow"]},{emoji:"🗻",aliases:["mount fuji"]},{emoji:"🌋",aliases:["volcano"]},{emoji:"🏜",aliases:["desert"]},{emoji:"🏕",aliases:["camping"]},{emoji:"⛺️",aliases:["tent"]},{emoji:"🛤",aliases:["railway track"]},{emoji:"🛣",aliases:["motorway"]},{emoji:"🏗",aliases:["building construction"]},{emoji:"🏭",aliases:["factory"]},{emoji:"🏠",aliases:["house"]},{emoji:"🏡",aliases:["house with garden"]},{emoji:"🏘",aliases:["houses"]},{emoji:"🏚",aliases:["derelict house"]},{emoji:"🏢",aliases:["office"]},{emoji:"🏬",aliases:["department store"]},{emoji:"🏣",aliases:["post office"]},{emoji:"🏤",aliases:["european post office"]},{emoji:"🏥",aliases:["hospital"]},{emoji:"🏦",aliases:["bank"]},{emoji:"🏨",aliases:["hotel"]},{emoji:"🏪",aliases:["convenience store"]},{emoji:"🏫",aliases:["school"]},{emoji:"🏩",aliases:["love hotel"]},{emoji:"💒",aliases:["wedding"]},{emoji:"🏛",aliases:["classical building"]},{emoji:"⛪️",aliases:["church"]},{emoji:"🕌",aliases:["mosque"]},{emoji:"🕍",aliases:["synagogue"]},{emoji:"🕋",aliases:["kaaba"]},{emoji:"⛩",aliases:["shinto shrine"]},{emoji:"🗾",aliases:["japan"]},{emoji:"🎑",aliases:["rice scene"]},{emoji:"🏞",aliases:["national park"]},{emoji:"🌅",aliases:["sunrise"]},{emoji:"🌄",aliases:["sunrise over mountains"]},{emoji:"🌠",aliases:["stars"]},{emoji:"🎇",aliases:["sparkler"]},{emoji:"🎆",aliases:["fireworks"]},{emoji:"🌇",aliases:["city sunrise"]},{emoji:"🌆",aliases:["city sunset"]},{emoji:"🏙",aliases:["cityscape"]},{emoji:"🌃",aliases:["night with stars"]},{emoji:"🌌",aliases:["milky way"]},{emoji:"🌉",aliases:["bridge at night"]},{emoji:"🌁",aliases:["foggy"]},{emoji:"⌚️",aliases:["watch"]},{emoji:"📱",aliases:["iphone"]},{emoji:"📲",aliases:["calling"]},{emoji:"💻",aliases:["computer"]},{emoji:"⌨️",aliases:["keyboard"]},{emoji:"🖥",aliases:["desktop computer"]},{emoji:"🖨",aliases:["printer"]},{emoji:"🖱",aliases:["computer mouse"]},{emoji:"🖲",aliases:["trackball"]},{emoji:"🕹",aliases:["joystick"]},{emoji:"🗜",aliases:["clamp"]},{emoji:"💽",aliases:["minidisc"]},{emoji:"💾",aliases:["floppy disk"]},{emoji:"💿",aliases:["cd"]},{emoji:"📀",aliases:["dvd"]},{emoji:"📼",aliases:["vhs"]},{emoji:"📷",aliases:["camera"]},{emoji:"📸",aliases:["camera flash"]},{emoji:"📹",aliases:["video camera"]},{emoji:"🎥",aliases:["movie camera"]},{emoji:"📽",aliases:["film projector"]},{emoji:"🎞",aliases:["film strip"]},{emoji:"📞",aliases:["telephone receiver"]},{emoji:"☎️",aliases:["phone","telephone"]},{emoji:"📟",aliases:["pager"]},{emoji:"📠",aliases:["fax"]},{emoji:"📺",aliases:["tv"]},{emoji:"📻",aliases:["radio"]},{emoji:"🎙",aliases:["studio microphone"]},{emoji:"🎚",aliases:["level slider"]},{emoji:"🎛",aliases:["control knobs"]},{emoji:"⏱",aliases:["stopwatch"]},{emoji:"⏲",aliases:["timer clock"]},{emoji:"⏰",aliases:["alarm clock"]},{emoji:"🕰",aliases:["mantelpiece clock"]},{emoji:"⌛️",aliases:["hourglass"]},{emoji:"⏳",aliases:["hourglass flowing sand"]},{emoji:"📡",aliases:["satellite"]},{emoji:"🔋",aliases:["battery"]},{emoji:"🔌",aliases:["electric plug"]},{emoji:"💡",aliases:["bulb"]},{emoji:"🔦",aliases:["flashlight"]},{emoji:"🕯",aliases:["candle"]},{emoji:"🗑",aliases:["wastebasket"]},{emoji:"🛢",aliases:["oil drum"]},{emoji:"💸",aliases:["money with wings"]},{emoji:"💵",aliases:["dollar"]},{emoji:"💴",aliases:["yen"]},{emoji:"💶",aliases:["euro"]},{emoji:"💷",aliases:["pound"]},{emoji:"💰",aliases:["moneybag"]},{emoji:"💳",aliases:["credit card"]},{emoji:"💎",aliases:["gem"]},{emoji:"⚖️",aliases:["balance scale"]},{emoji:"🔧",aliases:["wrench"]},{emoji:"🔨",aliases:["hammer"]},{emoji:"⚒",aliases:["hammer and pick"]},{emoji:"🛠",aliases:["hammer and wrench"]},{emoji:"⛏",aliases:["pick"]},{emoji:"🔩",aliases:["nut and bolt"]},{emoji:"⚙️",aliases:["gear"]},{emoji:"⛓",aliases:["chains"]},{emoji:"🔫",aliases:["gun"]},{emoji:"💣",aliases:["bomb"]},{emoji:"🔪",aliases:["hocho","knife"]},{emoji:"🗡",aliases:["dagger"]},{emoji:"⚔️",aliases:["crossed swords"]},{emoji:"🛡",aliases:["shield"]},{emoji:"🚬",aliases:["smoking"]},{emoji:"⚰️",aliases:["coffin"]},{emoji:"⚱️",aliases:["funeral urn"]},{emoji:"🏺",aliases:["amphora"]},{emoji:"🔮",aliases:["crystal ball"]},{emoji:"📿",aliases:["prayer beads"]},{emoji:"💈",aliases:["barber"]},{emoji:"⚗️",aliases:["alembic"]},{emoji:"🔭",aliases:["telescope"]},{emoji:"🔬",aliases:["microscope"]},{emoji:"🕳",aliases:["hole"]},{emoji:"💊",aliases:["pill"]},{emoji:"💉",aliases:["syringe"]},{emoji:"🌡",aliases:["thermometer"]},{emoji:"🚽",aliases:["toilet"]},{emoji:"🚰",aliases:["potable water"]},{emoji:"🚿",aliases:["shower"]},{emoji:"🛁",aliases:["bathtub"]},{emoji:"🛀",aliases:["bath"]},{emoji:"🛎",aliases:["bellhop bell"]},{emoji:"🔑",aliases:["key"]},{emoji:"🗝",aliases:["old key"]},{emoji:"🚪",aliases:["door"]},{emoji:"🛋",aliases:["couch and lamp"]},{emoji:"🛏",aliases:["bed"]},{emoji:"🛌",aliases:["sleeping bed"]},{emoji:"🖼",aliases:["framed picture"]},{emoji:"🛍",aliases:["shopping"]},{emoji:"🛒",aliases:["shopping cart"]},{emoji:"🎁",aliases:["gift"]},{emoji:"🎈",aliases:["balloon"]},{emoji:"🎏",aliases:["flags"]},{emoji:"🎀",aliases:["ribbon"]},{emoji:"🎊",aliases:["confetti ball"]},{emoji:"🎉",aliases:["tada"]},{emoji:"🎎",aliases:["dolls"]},{emoji:"🏮",aliases:["izakaya lantern","lantern"]},{emoji:"🎐",aliases:["wind chime"]},{emoji:"✉️",aliases:["email","envelope"]},{emoji:"📩",aliases:["envelope with arrow"]},{emoji:"📨",aliases:["incoming envelope"]},{emoji:"📧",aliases:["e-mail"]},{emoji:"💌",aliases:["love letter"]},{emoji:"📥",aliases:["inbox tray"]},{emoji:"📤",aliases:["outbox tray"]},{emoji:"📦",aliases:["package"]},{emoji:"🏷",aliases:["label"]},{emoji:"📪",aliases:["mailbox closed"]},{emoji:"📫",aliases:["mailbox"]},{emoji:"📬",aliases:["mailbox with mail"]},{emoji:"📭",aliases:["mailbox with no mail"]},{emoji:"📮",aliases:["postbox"]},{emoji:"📯",aliases:["postal horn"]},{emoji:"📜",aliases:["scroll"]},{emoji:"📃",aliases:["page with curl"]},{emoji:"📄",aliases:["page facing up"]},{emoji:"📑",aliases:["bookmark tabs"]},{emoji:"📊",aliases:["bar chart"]},{emoji:"📈",aliases:["chart with upwards trend"]},{emoji:"📉",aliases:["chart with downwards trend"]},{emoji:"🗒",aliases:["spiral notepad"]},{emoji:"🗓",aliases:["spiral calendar"]},{emoji:"📆",aliases:["calendar"]},{emoji:"📅",aliases:["date"]},{emoji:"📇",aliases:["card index"]},{emoji:"🗃",aliases:["card file box"]},{emoji:"🗳",aliases:["ballot box"]},{emoji:"🗄",aliases:["file cabinet"]},{emoji:"📋",aliases:["clipboard"]},{emoji:"📁",aliases:["file folder"]},{emoji:"📂",aliases:["open file folder"]},{emoji:"🗂",aliases:["card index dividers"]},{emoji:"🗞",aliases:["newspaper roll"]},{emoji:"📰",aliases:["newspaper"]},{emoji:"📓",aliases:["notebook"]},{emoji:"📔",aliases:["notebook with decorative cover"]},{emoji:"📒",aliases:["ledger"]},{emoji:"📕",aliases:["closed book"]},{emoji:"📗",aliases:["green book"]},{emoji:"📘",aliases:["blue book"]},{emoji:"📙",aliases:["orange book"]},{emoji:"📚",aliases:["books"]},{emoji:"📖",aliases:["book","open book"]},{emoji:"🔖",aliases:["bookmark"]},{emoji:"🔗",aliases:["link"]},{emoji:"📎",aliases:["paperclip"]},{emoji:"🖇",aliases:["paperclips"]},{emoji:"📐",aliases:["triangular ruler"]},{emoji:"📏",aliases:["straight ruler"]},{emoji:"📌",aliases:["pushpin"]},{emoji:"📍",aliases:["round pushpin"]},{emoji:"✂️",aliases:["scissors"]},{emoji:"🖊",aliases:["pen"]},{emoji:"🖋",aliases:["fountain pen"]},{emoji:"✒️",aliases:["black nib"]},{emoji:"🖌",aliases:["paintbrush"]},{emoji:"🖍",aliases:["crayon"]},{emoji:"📝",aliases:["memo","pencil"]},{emoji:"✏️",aliases:["pencil2"]},{emoji:"🔍",aliases:["mag"]},{emoji:"🔎",aliases:["mag right"]},{emoji:"🔏",aliases:["lock with ink pen"]},{emoji:"🔐",aliases:["closed lock with key"]},{emoji:"🔒",aliases:["lock"]},{emoji:"🔓",aliases:["unlock"]},{emoji:"❤️",aliases:["heart"]},{emoji:"💛",aliases:["yellow heart"]},{emoji:"💚",aliases:["green heart"]},{emoji:"💙",aliases:["blue heart"]},{emoji:"💜",aliases:["purple heart"]},{emoji:"🖤",aliases:["black heart"]},{emoji:"💔",aliases:["broken heart"]},{emoji:"❣️",aliases:["heavy heart exclamation"]},{emoji:"💕",aliases:["two hearts"]},{emoji:"💞",aliases:["revolving hearts"]},{emoji:"💓",aliases:["heartbeat"]},{emoji:"💗",aliases:["heartpulse"]},{emoji:"💖",aliases:["sparkling heart"]},{emoji:"💘",aliases:["cupid"]},{emoji:"💝",aliases:["gift heart"]},{emoji:"💟",aliases:["heart decoration"]},{emoji:"☮️",aliases:["peace symbol"]},{emoji:"✝️",aliases:["latin cross"]},{emoji:"☪️",aliases:["star and crescent"]},{emoji:"🕉",aliases:["om"]},{emoji:"☸️",aliases:["wheel of dharma"]},{emoji:"✡️",aliases:["star of david"]},{emoji:"🔯",aliases:["six pointed star"]},{emoji:"🕎",aliases:["menorah"]},{emoji:"☯️",aliases:["yin yang"]},{emoji:"☦️",aliases:["orthodox cross"]},{emoji:"🛐",aliases:["place of worship"]},{emoji:"⛎",aliases:["ophiuchus"]},{emoji:"♈️",aliases:["aries"]},{emoji:"♉️",aliases:["taurus"]},{emoji:"♊️",aliases:["gemini"]},{emoji:"♋️",aliases:["cancer"]},{emoji:"♌️",aliases:["leo"]},{emoji:"♍️",aliases:["virgo"]},{emoji:"♎️",aliases:["libra"]},{emoji:"♏️",aliases:["scorpius"]},{emoji:"♐️",aliases:["sagittarius"]},{emoji:"♑️",aliases:["capricorn"]},{emoji:"♒️",aliases:["aquarius"]},{emoji:"♓️",aliases:["pisces"]},{emoji:"🆔",aliases:["id"]},{emoji:"⚛️",aliases:["atom symbol"]},{emoji:"🉑",aliases:["accept"]},{emoji:"☢️",aliases:["radioactive"]},{emoji:"☣️",aliases:["biohazard"]},{emoji:"📴",aliases:["mobile phone off"]},{emoji:"📳",aliases:["vibration mode"]},{emoji:"🈶",aliases:["u6709"]},{emoji:"🈚️",aliases:["u7121"]},{emoji:"🈸",aliases:["u7533"]},{emoji:"🈺",aliases:["u55b6"]},{emoji:"🈷️",aliases:["u6708"]},{emoji:"✴️",aliases:["eight pointed black star"]},{emoji:"🆚",aliases:["vs"]},{emoji:"💮",aliases:["white flower"]},{emoji:"🉐",aliases:["ideograph advantage"]},{emoji:"㊙️",aliases:["secret"]},{emoji:"㊗️",aliases:["congratulations"]},{emoji:"🈴",aliases:["u5408"]},{emoji:"🈵",aliases:["u6e80"]},{emoji:"🈹",aliases:["u5272"]},{emoji:"🈲",aliases:["u7981"]},{emoji:"🅰️",aliases:["a"]},{emoji:"🅱️",aliases:["b"]},{emoji:"🆎",aliases:["ab"]},{emoji:"🆑",aliases:["cl"]},{emoji:"🅾️",aliases:["o2"]},{emoji:"🆘",aliases:["sos"]},{emoji:"❌",aliases:["x"]},{emoji:"⭕️",aliases:["o"]},{emoji:"🛑",aliases:["stop sign"]},{emoji:"⛔️",aliases:["no entry"]},{emoji:"📛",aliases:["name badge"]},{emoji:"🚫",aliases:["no entry sign"]},{emoji:"💯",aliases:["100"]},{emoji:"💢",aliases:["anger"]},{emoji:"♨️",aliases:["hotsprings"]},{emoji:"🚷",aliases:["no pedestrians"]},{emoji:"🚯",aliases:["do not litter"]},{emoji:"🚳",aliases:["no bicycles"]},{emoji:"🚱",aliases:["non-potable water"]},{emoji:"🔞",aliases:["underage"]},{emoji:"📵",aliases:["no mobile phones"]},{emoji:"🚭",aliases:["no smoking"]},{emoji:"❗️",aliases:["exclamation","heavy exclamation mark"]},{emoji:"❕",aliases:["grey exclamation"]},{emoji:"❓",aliases:["question"]},{emoji:"❔",aliases:["grey question"]},{emoji:"‼️",aliases:["bangbang"]},{emoji:"⁉️",aliases:["interrobang"]},{emoji:"🔅",aliases:["low brightness"]},{emoji:"🔆",aliases:["high brightness"]},{emoji:"〽️",aliases:["part alternation mark"]},{emoji:"⚠️",aliases:["warning"]},{emoji:"🚸",aliases:["children crossing"]},{emoji:"🔱",aliases:["trident"]},{emoji:"⚜️",aliases:["fleur de lis"]},{emoji:"🔰",aliases:["beginner"]},{emoji:"♻️",aliases:["recycle"]},{emoji:"✅",aliases:["white check mark"]},{emoji:"🈯️",aliases:["u6307"]},{emoji:"💹",aliases:["chart"]},{emoji:"❇️",aliases:["sparkle"]},{emoji:"✳️",aliases:["eight spoked asterisk"]},{emoji:"❎",aliases:["negative squared cross mark"]},{emoji:"🌐",aliases:["globe with meridians"]},{emoji:"💠",aliases:["diamond shape with a dot inside"]},{emoji:"Ⓜ️",aliases:["m"]},{emoji:"🌀",aliases:["cyclone"]},{emoji:"💤",aliases:["zzz"]},{emoji:"🏧",aliases:["atm"]},{emoji:"🚾",aliases:["wc"]},{emoji:"♿️",aliases:["wheelchair"]},{emoji:"🅿️",aliases:["parking"]},{emoji:"🈳",aliases:["u7a7a"]},{emoji:"🈂️",aliases:["sa"]},{emoji:"🛂",aliases:["passport control"]},{emoji:"🛃",aliases:["customs"]},{emoji:"🛄",aliases:["baggage claim"]},{emoji:"🛅",aliases:["left luggage"]},{emoji:"🚹",aliases:["mens"]},{emoji:"🚺",aliases:["womens"]},{emoji:"🚼",aliases:["baby symbol"]},{emoji:"🚻",aliases:["restroom"]},{emoji:"🚮",aliases:["put litter in its place"]},{emoji:"🎦",aliases:["cinema"]},{emoji:"📶",aliases:["signal strength"]},{emoji:"🈁",aliases:["koko"]},{emoji:"🔣",aliases:["symbols"]},{emoji:"ℹ️",aliases:["information source"]},{emoji:"🔤",aliases:["abc"]},{emoji:"🔡",aliases:["abcd"]},{emoji:"🔠",aliases:["capital abcd"]},{emoji:"🆖",aliases:["ng"]},{emoji:"🆗",aliases:["ok"]},{emoji:"🆙",aliases:["up"]},{emoji:"🆒",aliases:["cool"]},{emoji:"🆕",aliases:["new"]},{emoji:"🆓",aliases:["free"]},{emoji:"0️⃣",aliases:["zero"]},{emoji:"1️⃣",aliases:["one"]},{emoji:"2️⃣",aliases:["two"]},{emoji:"3️⃣",aliases:["three"]},{emoji:"4️⃣",aliases:["four"]},{emoji:"5️⃣",aliases:["five"]},{emoji:"6️⃣",aliases:["six"]},{emoji:"7️⃣",aliases:["seven"]},{emoji:"8️⃣",aliases:["eight"]},{emoji:"9️⃣",aliases:["nine"]},{emoji:"🔟",aliases:["keycap ten"]},{emoji:"🔢",aliases:["1234"]},{emoji:"#️⃣",aliases:["hash"]},{emoji:"*️⃣",aliases:["asterisk"]},{emoji:"▶️",aliases:["arrow forward"]},{emoji:"⏸",aliases:["pause button"]},{emoji:"⏯",aliases:["play or pause button"]},{emoji:"⏹",aliases:["stop button"]},{emoji:"⏺",aliases:["record button"]},{emoji:"⏭",aliases:["next track button"]},{emoji:"⏮",aliases:["previous track button"]},{emoji:"⏩",aliases:["fast forward"]},{emoji:"⏪",aliases:["rewind"]},{emoji:"⏫",aliases:["arrow double up"]},{emoji:"⏬",aliases:["arrow double down"]},{emoji:"◀️",aliases:["arrow backward"]},{emoji:"🔼",aliases:["arrow up small"]},{emoji:"🔽",aliases:["arrow down small"]},{emoji:"➡️",aliases:["arrow right"]},{emoji:"⬅️",aliases:["arrow left"]},{emoji:"⬆️",aliases:["arrow up"]},{emoji:"⬇️",aliases:["arrow down"]},{emoji:"↗️",aliases:["arrow upper right"]},{emoji:"↘️",aliases:["arrow lower right"]},{emoji:"↙️",aliases:["arrow lower left"]},{emoji:"↖️",aliases:["arrow upper left"]},{emoji:"↕️",aliases:["arrow up down"]},{emoji:"↔️",aliases:["left right arrow"]},{emoji:"↪️",aliases:["arrow right hook"]},{emoji:"↩️",aliases:["leftwards arrow with hook"]},{emoji:"⤴️",aliases:["arrow heading up"]},{emoji:"⤵️",aliases:["arrow heading down"]},{emoji:"🔀",aliases:["twisted rightwards arrows"]},{emoji:"🔁",aliases:["repeat"]},{emoji:"🔂",aliases:["repeat one"]},{emoji:"🔄",aliases:["arrows counterclockwise"]},{emoji:"🔃",aliases:["arrows clockwise"]},{emoji:"🎵",aliases:["musical note"]},{emoji:"🎶",aliases:["notes"]},{emoji:"➕",aliases:["heavy plus sign"]},{emoji:"➖",aliases:["heavy minus sign"]},{emoji:"➗",aliases:["heavy division sign"]},{emoji:"✖️",aliases:["heavy multiplication x"]},{emoji:"💲",aliases:["heavy dollar sign"]},{emoji:"💱",aliases:["currency exchange"]},{emoji:"™️",aliases:["tm"]},{emoji:"©️",aliases:["copyright"]},{emoji:"®️",aliases:["registered"]},{emoji:"〰️",aliases:["wavy dash"]},{emoji:"➰",aliases:["curly loop"]},{emoji:"➿",aliases:["loop"]},{emoji:"🔚",aliases:["end"]},{emoji:"🔙",aliases:["back"]},{emoji:"🔛",aliases:["on"]},{emoji:"🔝",aliases:["top"]},{emoji:"🔜",aliases:["soon"]},{emoji:"✔️",aliases:["heavy check mark"]},{emoji:"☑️",aliases:["ballot box with check"]},{emoji:"🔘",aliases:["radio button"]},{emoji:"⚪️",aliases:["white circle"]},{emoji:"⚫️",aliases:["black circle"]},{emoji:"🔴",aliases:["red circle"]},{emoji:"🔵",aliases:["large blue circle"]},{emoji:"🔺",aliases:["small red triangle"]},{emoji:"🔻",aliases:["small red triangle down"]},{emoji:"🔸",aliases:["small orange diamond"]},{emoji:"🔹",aliases:["small blue diamond"]},{emoji:"🔶",aliases:["large orange diamond"]},{emoji:"🔷",aliases:["large blue diamond"]},{emoji:"🔳",aliases:["white square button"]},{emoji:"🔲",aliases:["black square button"]},{emoji:"▪️",aliases:["black small square"]},{emoji:"▫️",aliases:["white small square"]},{emoji:"◾️",aliases:["black medium small square"]},{emoji:"◽️",aliases:["white medium small square"]},{emoji:"◼️",aliases:["black medium square"]},{emoji:"◻️",aliases:["white medium square"]},{emoji:"⬛️",aliases:["black large square"]},{emoji:"⬜️",aliases:["white large square"]},{emoji:"🔈",aliases:["speaker"]},{emoji:"🔇",aliases:["mute"]},{emoji:"🔉",aliases:["sound"]},{emoji:"🔊",aliases:["loud sound"]},{emoji:"🔔",aliases:["bell"]},{emoji:"🔕",aliases:["no bell"]},{emoji:"📣",aliases:["mega"]},{emoji:"📢",aliases:["loudspeaker"]},{emoji:"👁‍🗨",aliases:["eye speech bubble"]},{emoji:"💬",aliases:["speech balloon"]},{emoji:"💭",aliases:["thought balloon"]},{emoji:"🗯",aliases:["right anger bubble"]},{emoji:"♠️",aliases:["spades"]},{emoji:"♣️",aliases:["clubs"]},{emoji:"♥️",aliases:["hearts"]},{emoji:"♦️",aliases:["diamonds"]},{emoji:"🃏",aliases:["black joker"]},{emoji:"🎴",aliases:["flower playing cards"]},{emoji:"🀄️",aliases:["mahjong"]},{emoji:"🕐",aliases:["clock1"]},{emoji:"🕑",aliases:["clock2"]},{emoji:"🕒",aliases:["clock3"]},{emoji:"🕓",aliases:["clock4"]},{emoji:"🕔",aliases:["clock5"]},{emoji:"🕕",aliases:["clock6"]},{emoji:"🕖",aliases:["clock7"]},{emoji:"🕗",aliases:["clock8"]},{emoji:"🕘",aliases:["clock9"]},{emoji:"🕙",aliases:["clock10"]},{emoji:"🕚",aliases:["clock11"]},{emoji:"🕛",aliases:["clock12"]},{emoji:"🕜",aliases:["clock130"]},{emoji:"🕝",aliases:["clock230"]},{emoji:"🕞",aliases:["clock330"]},{emoji:"🕟",aliases:["clock430"]},{emoji:"🕠",aliases:["clock530"]},{emoji:"🕡",aliases:["clock630"]},{emoji:"🕢",aliases:["clock730"]},{emoji:"🕣",aliases:["clock830"]},{emoji:"🕤",aliases:["clock930"]},{emoji:"🕥",aliases:["clock1030"]},{emoji:"🕦",aliases:["clock1130"]},{emoji:"🕧",aliases:["clock1230"]},{emoji:"🏳️",aliases:["white flag"]},{emoji:"🏴",aliases:["black flag"]},{emoji:"🏁",aliases:["checkered flag"]},{emoji:"🚩",aliases:["triangular flag on post"]},{emoji:"🏳️‍🌈",aliases:["rainbow flag"]},{emoji:"🇦🇫",aliases:["afghanistan"]},{emoji:"🇦🇽",aliases:["aland islands"]},{emoji:"🇦🇱",aliases:["albania"]},{emoji:"🇩🇿",aliases:["algeria"]},{emoji:"🇦🇸",aliases:["american samoa"]},{emoji:"🇦🇩",aliases:["andorra"]},{emoji:"🇦🇴",aliases:["angola"]},{emoji:"🇦🇮",aliases:["anguilla"]},{emoji:"🇦🇶",aliases:["antarctica"]},{emoji:"🇦🇬",aliases:["antigua barbuda"]},{emoji:"🇦🇷",aliases:["argentina"]},{emoji:"🇦🇲",aliases:["armenia"]},{emoji:"🇦🇼",aliases:["aruba"]},{emoji:"🇦🇺",aliases:["australia"]},{emoji:"🇦🇹",aliases:["austria"]},{emoji:"🇦🇿",aliases:["azerbaijan"]},{emoji:"🇧🇸",aliases:["bahamas"]},{emoji:"🇧🇭",aliases:["bahrain"]},{emoji:"🇧🇩",aliases:["bangladesh"]},{emoji:"🇧🇧",aliases:["barbados"]},{emoji:"🇧🇾",aliases:["belarus"]},{emoji:"🇧🇪",aliases:["belgium"]},{emoji:"🇧🇿",aliases:["belize"]},{emoji:"🇧🇯",aliases:["benin"]},{emoji:"🇧🇲",aliases:["bermuda"]},{emoji:"🇧🇹",aliases:["bhutan"]},{emoji:"🇧🇴",aliases:["bolivia"]},{emoji:"🇧🇶",aliases:["caribbean netherlands"]},{emoji:"🇧🇦",aliases:["bosnia herzegovina"]},{emoji:"🇧🇼",aliases:["botswana"]},{emoji:"🇧🇷",aliases:["brazil"]},{emoji:"🇮🇴",aliases:["british indian ocean territory"]},{emoji:"🇻🇬",aliases:["british virgin islands"]},{emoji:"🇧🇳",aliases:["brunei"]},{emoji:"🇧🇬",aliases:["bulgaria"]},{emoji:"🇧🇫",aliases:["burkina faso"]},{emoji:"🇧🇮",aliases:["burundi"]},{emoji:"🇨🇻",aliases:["cape verde"]},{emoji:"🇰🇭",aliases:["cambodia"]},{emoji:"🇨🇲",aliases:["cameroon"]},{emoji:"🇨🇦",aliases:["canada"]},{emoji:"🇮🇨",aliases:["canary islands"]},{emoji:"🇰🇾",aliases:["cayman islands"]},{emoji:"🇨🇫",aliases:["central african republic"]},{emoji:"🇹🇩",aliases:["chad"]},{emoji:"🇨🇱",aliases:["chile"]},{emoji:"🇨🇳",aliases:["cn"]},{emoji:"🇨🇽",aliases:["christmas island"]},{emoji:"🇨🇨",aliases:["cocos islands"]},{emoji:"🇨🇴",aliases:["colombia"]},{emoji:"🇰🇲",aliases:["comoros"]},{emoji:"🇨🇬",aliases:["congo brazzaville"]},{emoji:"🇨🇩",aliases:["congo kinshasa"]},{emoji:"🇨🇰",aliases:["cook islands"]},{emoji:"🇨🇷",aliases:["costa rica"]},{emoji:"🇨🇮",aliases:["cote divoire"]},{emoji:"🇭🇷",aliases:["croatia"]},{emoji:"🇨🇺",aliases:["cuba"]},{emoji:"🇨🇼",aliases:["curacao"]},{emoji:"🇨🇾",aliases:["cyprus"]},{emoji:"🇨🇿",aliases:["czech republic"]},{emoji:"🇩🇰",aliases:["denmark"]},{emoji:"🇩🇯",aliases:["djibouti"]},{emoji:"🇩🇲",aliases:["dominica"]},{emoji:"🇩🇴",aliases:["dominican republic"]},{emoji:"🇪🇨",aliases:["ecuador"]},{emoji:"🇪🇬",aliases:["egypt"]},{emoji:"🇸🇻",aliases:["el salvador"]},{emoji:"🇬🇶",aliases:["equatorial guinea"]},{emoji:"🇪🇷",aliases:["eritrea"]},{emoji:"🇪🇪",aliases:["estonia"]},{emoji:"🇪🇹",aliases:["ethiopia"]},{emoji:"🇪🇺",aliases:["eu","european union"]},{emoji:"🇫🇰",aliases:["falkland islands"]},{emoji:"🇫🇴",aliases:["faroe islands"]},{emoji:"🇫🇯",aliases:["fiji"]},{emoji:"🇫🇮",aliases:["finland"]},{emoji:"🇫🇷",aliases:["fr"]},{emoji:"🇬🇫",aliases:["french guiana"]},{emoji:"🇵🇫",aliases:["french polynesia"]},{emoji:"🇹🇫",aliases:["french southern territories"]},{emoji:"🇬🇦",aliases:["gabon"]},{emoji:"🇬🇲",aliases:["gambia"]},{emoji:"🇬🇪",aliases:["georgia"]},{emoji:"🇩🇪",aliases:["de"]},{emoji:"🇬🇭",aliases:["ghana"]},{emoji:"🇬🇮",aliases:["gibraltar"]},{emoji:"🇬🇷",aliases:["greece"]},{emoji:"🇬🇱",aliases:["greenland"]},{emoji:"🇬🇩",aliases:["grenada"]},{emoji:"🇬🇵",aliases:["guadeloupe"]},{emoji:"🇬🇺",aliases:["guam"]},{emoji:"🇬🇹",aliases:["guatemala"]},{emoji:"🇬🇬",aliases:["guernsey"]},{emoji:"🇬🇳",aliases:["guinea"]},{emoji:"🇬🇼",aliases:["guinea bissau"]},{emoji:"🇬🇾",aliases:["guyana"]},{emoji:"🇭🇹",aliases:["haiti"]},{emoji:"🇭🇳",aliases:["honduras"]},{emoji:"🇭🇰",aliases:["hong kong"]},{emoji:"🇭🇺",aliases:["hungary"]},{emoji:"🇮🇸",aliases:["iceland"]},{emoji:"🇮🇳",aliases:["india"]},{emoji:"🇮🇩",aliases:["indonesia"]},{emoji:"🇮🇷",aliases:["iran"]},{emoji:"🇮🇶",aliases:["iraq"]},{emoji:"🇮🇪",aliases:["ireland"]},{emoji:"🇮🇲",aliases:["isle of man"]},{emoji:"🇮🇱",aliases:["israel"]},{emoji:"🇮🇹",aliases:["it"]},{emoji:"🇯🇲",aliases:["jamaica"]},{emoji:"🇯🇵",aliases:["jp"]},{emoji:"🎌",aliases:["crossed flags"]},{emoji:"🇯🇪",aliases:["jersey"]},{emoji:"🇯🇴",aliases:["jordan"]},{emoji:"🇰🇿",aliases:["kazakhstan"]},{emoji:"🇰🇪",aliases:["kenya"]},{emoji:"🇰🇮",aliases:["kiribati"]},{emoji:"🇽🇰",aliases:["kosovo"]},{emoji:"🇰🇼",aliases:["kuwait"]},{emoji:"🇰🇬",aliases:["kyrgyzstan"]},{emoji:"🇱🇦",aliases:["laos"]},{emoji:"🇱🇻",aliases:["latvia"]},{emoji:"🇱🇧",aliases:["lebanon"]},{emoji:"🇱🇸",aliases:["lesotho"]},{emoji:"🇱🇷",aliases:["liberia"]},{emoji:"🇱🇾",aliases:["libya"]},{emoji:"🇱🇮",aliases:["liechtenstein"]},{emoji:"🇱🇹",aliases:["lithuania"]},{emoji:"🇱🇺",aliases:["luxembourg"]},{emoji:"🇲🇴",aliases:["macau"]},{emoji:"🇲🇰",aliases:["macedonia"]},{emoji:"🇲🇬",aliases:["madagascar"]},{emoji:"🇲🇼",aliases:["malawi"]},{emoji:"🇲🇾",aliases:["malaysia"]},{emoji:"🇲🇻",aliases:["maldives"]},{emoji:"🇲🇱",aliases:["mali"]},{emoji:"🇲🇹",aliases:["malta"]},{emoji:"🇲🇭",aliases:["marshall islands"]},{emoji:"🇲🇶",aliases:["martinique"]},{emoji:"🇲🇷",aliases:["mauritania"]},{emoji:"🇲🇺",aliases:["mauritius"]},{emoji:"🇾🇹",aliases:["mayotte"]},{emoji:"🇲🇽",aliases:["mexico"]},{emoji:"🇫🇲",aliases:["micronesia"]},{emoji:"🇲🇩",aliases:["moldova"]},{emoji:"🇲🇨",aliases:["monaco"]},{emoji:"🇲🇳",aliases:["mongolia"]},{emoji:"🇲🇪",aliases:["montenegro"]},{emoji:"🇲🇸",aliases:["montserrat"]},{emoji:"🇲🇦",aliases:["morocco"]},{emoji:"🇲🇿",aliases:["mozambique"]},{emoji:"🇲🇲",aliases:["myanmar"]},{emoji:"🇳🇦",aliases:["namibia"]},{emoji:"🇳🇷",aliases:["nauru"]},{emoji:"🇳🇵",aliases:["nepal"]},{emoji:"🇳🇱",aliases:["netherlands"]},{emoji:"🇳🇨",aliases:["new caledonia"]},{emoji:"🇳🇿",aliases:["new zealand"]},{emoji:"🇳🇮",aliases:["nicaragua"]},{emoji:"🇳🇪",aliases:["niger"]},{emoji:"🇳🇬",aliases:["nigeria"]},{emoji:"🇳🇺",aliases:["niue"]},{emoji:"🇳🇫",aliases:["norfolk island"]},{emoji:"🇲🇵",aliases:["northern mariana islands"]},{emoji:"🇰🇵",aliases:["north korea"]},{emoji:"🇳🇴",aliases:["norway"]},{emoji:"🇴🇲",aliases:["oman"]},{emoji:"🇵🇰",aliases:["pakistan"]},{emoji:"🇵🇼",aliases:["palau"]},{emoji:"🇵🇸",aliases:["palestinian territories"]},{emoji:"🇵🇦",aliases:["panama"]},{emoji:"🇵🇬",aliases:["papua new guinea"]},{emoji:"🇵🇾",aliases:["paraguay"]},{emoji:"🇵🇪",aliases:["peru"]},{emoji:"🇵🇭",aliases:["philippines"]},{emoji:"🇵🇳",aliases:["pitcairn islands"]},{emoji:"🇵🇱",aliases:["poland"]},{emoji:"🇵🇹",aliases:["portugal"]},{emoji:"🇵🇷",aliases:["puerto rico"]},{emoji:"🇶🇦",aliases:["qatar"]},{emoji:"🇷🇪",aliases:["reunion"]},{emoji:"🇷🇴",aliases:["romania"]},{emoji:"🇷🇺",aliases:["ru"]},{emoji:"🇷🇼",aliases:["rwanda"]},{emoji:"🇧🇱",aliases:["st barthelemy"]},{emoji:"🇸🇭",aliases:["st helena"]},{emoji:"🇰🇳",aliases:["st kitts nevis"]},{emoji:"🇱🇨",aliases:["st lucia"]},{emoji:"🇵🇲",aliases:["st pierre miquelon"]},{emoji:"🇻🇨",aliases:["st vincent grenadines"]},{emoji:"🇼🇸",aliases:["samoa"]},{emoji:"🇸🇲",aliases:["san marino"]},{emoji:"🇸🇹",aliases:["sao tome principe"]},{emoji:"🇸🇦",aliases:["saudi arabia"]},{emoji:"🇸🇳",aliases:["senegal"]},{emoji:"🇷🇸",aliases:["serbia"]},{emoji:"🇸🇨",aliases:["seychelles"]},{emoji:"🇸🇱",aliases:["sierra leone"]},{emoji:"🇸🇬",aliases:["singapore"]},{emoji:"🇸🇽",aliases:["sint maarten"]},{emoji:"🇸🇰",aliases:["slovakia"]},{emoji:"🇸🇮",aliases:["slovenia"]},{emoji:"🇸🇧",aliases:["solomon islands"]},{emoji:"🇸🇴",aliases:["somalia"]},{emoji:"🇿🇦",aliases:["south africa"]},{emoji:"🇬🇸",aliases:["south georgia south sandwich islands"]},{emoji:"🇰🇷",aliases:["kr"]},{emoji:"🇸🇸",aliases:["south sudan"]},{emoji:"🇪🇸",aliases:["es"]},{emoji:"🇱🇰",aliases:["sri lanka"]},{emoji:"🇸🇩",aliases:["sudan"]},{emoji:"🇸🇷",aliases:["suriname"]},{emoji:"🇸🇿",aliases:["swaziland"]},{emoji:"🇸🇪",aliases:["sweden"]},{emoji:"🇨🇭",aliases:["switzerland"]},{emoji:"🇸🇾",aliases:["syria"]},{emoji:"🇹🇼",aliases:["taiwan"]},{emoji:"🇹🇯",aliases:["tajikistan"]},{emoji:"🇹🇿",aliases:["tanzania"]},{emoji:"🇹🇭",aliases:["thailand"]},{emoji:"🇹🇱",aliases:["timor leste"]},{emoji:"🇹🇬",aliases:["togo"]},{emoji:"🇹🇰",aliases:["tokelau"]},{emoji:"🇹🇴",aliases:["tonga"]},{emoji:"🇹🇹",aliases:["trinidad tobago"]},{emoji:"🇹🇳",aliases:["tunisia"]},{emoji:"🇹🇷",aliases:["tr"]},{emoji:"🇹🇲",aliases:["turkmenistan"]},{emoji:"🇹🇨",aliases:["turks caicos islands"]},{emoji:"🇹🇻",aliases:["tuvalu"]},{emoji:"🇺🇬",aliases:["uganda"]},{emoji:"🇺🇦",aliases:["ukraine"]},{emoji:"🇦🇪",aliases:["united arab emirates"]},{emoji:"🇬🇧",aliases:["gb","uk"]},{emoji:"🇺🇸",aliases:["us"]},{emoji:"🇻🇮",aliases:["us virgin islands"]},{emoji:"🇺🇾",aliases:["uruguay"]},{emoji:"🇺🇿",aliases:["uzbekistan"]},{emoji:"🇻🇺",aliases:["vanuatu"]},{emoji:"🇻🇦",aliases:["vatican city"]},{emoji:"🇻🇪",aliases:["venezuela"]},{emoji:"🇻🇳",aliases:["vietnam"]},{emoji:"🇼🇫",aliases:["wallis futuna"]},{emoji:"🇪🇭",aliases:["western sahara"]},{emoji:"🇾🇪",aliases:["yemen"]},{emoji:"🇿🇲",aliases:["zambia"]},{emoji:"🇿🇼",aliases:["zimbabwe"]}]},function(e,t,n){"use strict";function a(){var e=[{user:{username:"everyone",_id:"everyone"},icon:g.icon.type,projectName:g.name}].concat(g.users);if(e.length>1)return""===L?(j=e.filter(function(e){var t=e.user;return t._id!==Zeplin.user._id&&"invited"!==t.status}),E=1,p=j[1]):j=e.filter(function(e){var t=e.user;return t._id!==Zeplin.user._id&&"invited"!==t.status&&t.username.startsWith(L)}),j.length?(j.forEach(i),b.appendChild(v),!p||o(p)?(E=0,p=j[0]):E=b.querySelector(".suggestedItem[data-id='"+p.user._id+"']").dataset.index,b):void u();u()}function i(e,t){var n=document.importNode(S.content,!0),a=n.querySelector(".suggestedItem"),i=n.querySelector(".suggestedUserName"),o=n.querySelector(".everyoneInfo"),r=n.querySelector(".suggestedUserImage"),s=n.querySelector(".projectIcon");a.dataset.id=e.user._id,a.dataset.index=t,i.textContent=e.user.username||e.user.email,i.title=e.user.username||e.user.email,"everyone"===e.user._id?(o.textContent="Notify everyone in "+e.projectName,s.dataset.type=e.icon,r.parentElement.classList.add("hidden")):(o.textContent="",h.C(r,e.user)),v.appendChild(n)}function o(e){return!j.some(function(t){return t.user._id===e.user._id})}function r(e){var t=d.value.substring(0,d.selectionStart),n=d.value.substring(d.selectionStart),a=e.user.username,i=t.substr(0,t.lastIndexOf("@"))+"@"+a+" ";d.value=i+n,m.innerHTML=h.h(d.value)+"&nbsp;",d.focus(),d.setSelectionRange(i.length+1,i.length+1),u()}function s(e,t,n){if(d=e,m=t,g=n,!b.classList.contains("hidden")){var i=b.querySelector(".suggestedItem.selected");i&&(p=j[i.dataset.index])}var o,r=h.j(d.value.substring(0,d.selectionStart),!0);return o=h.j(d.value.substr(d.selectionStart)),o=o>-1?d.selectionStart+o:0,u(),L=null,"everyone"===(L=o?d.value.substring(r+1,o):d.value.substring(r+1))&&(L=""),a()}function l(){L&&y.b(f)}function c(){f={elements:{textContainer:d,suggestedListContainer:b},cb:{autoComplete:r},index:E,list:j},y.b(f)}function u(){y.a()}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"manageSuggestedUsers",function(){return s}),n.d(t,"checkStatus",function(){return l}),n.d(t,"open",function(){return c}),n.d(t,"close",function(){return u});var d,m,p,g,f,h=n(0),y=n(53),b=document.getElementById("suggestedUsersContainer"),v=b.querySelector(".suggestedListBox"),S=document.getElementById("suggestedUsersTemplate"),j=[],E=0,L=null},function(e,t,n){"use strict";function a(e,t){b.classList.add("hidden");var n=document.elementFromPoint(e,t);return b.classList.remove("hidden"),n}function i(){requestAnimationFrame(function(){f&&s(u.root)})}function o(e,t,n){y=e,l(t,n),y.classList.add("target"),f=!0,c=!1,d=u.root.scrollHeight,u.root.addEventListener("scroll",i),u.onGrab&&u.onGrab(y,b)}function r(e){return["input","textarea"].includes(e.tagName.toLowerCase())||e.isContentEditable}function s(e){var t=S.x,n=S.y;S.x=e.scrollLeft,S.y=e.scrollTop,v.x+=t-S.x,v.y+=n-S.y}function l(e,t){var n=y.getBoundingClientRect(),a=u.root.getBoundingClientRect();S.x=u.root.scrollLeft,S.y=u.root.scrollTop,v.x=e-(n.left+S.x-a.left),v.y=t-(n.top+S.y-a.top),(b=y.cloneNode(!0)).style.top=t-v.y+"px",b.style.left=e-v.x+"px",b.classList.add("mirror"),u.root.appendChild(b)}var c,u,d,m={root:document.body,allowX:!0,allowY:!0,grabDelay:300},p={},g=0,f=!1,h=!1,y=null,b=null,v={x:0,y:0},S={x:0,y:0};document.addEventListener("click",function(e){h&&(e.preventDefault(),e.stopImmediatePropagation())},!0),document.addEventListener("mousedown",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT&&!r(e.target)){var t=e.target.closest("[data-drag-id] > *");t&&((u=p[parseInt(t.parentNode.dataset.dragId,10)]).canGrab&&!u.canGrab(t,e.target)||(clearTimeout(c),c=setTimeout(o,u.grabDelay,t,e.clientX,e.clientY)))}}),document.addEventListener("mouseup",function(e){if(h=!1,c)clearTimeout(c),c=!1;else if(f){e.stopPropagation(),h=!0,f=!1,u.root.removeEventListener("scroll",i);var t=Promise.resolve();if(u.onDrop){var n,o,r=a(e.clientX,e.clientY);r&&(n=r.closest('[data-drag-id="'+u.dragId+'"] > *:not(.mirror)'),o=r.closest('[data-drag-id="'+u.dragId+'"]')||r.closest('[data-drop-target-for="'+u.dragId+'"]')),t=u.onDrop(y.parentNode,y,o,n,b)||t}t.then(function(){y.classList.remove("target"),b&&(b.remove(),b=null),y=null,u=null})}}),document.addEventListener("mousemove",function(e){if(f){var t=b.getBoundingClientRect(),n=u.root.getBoundingClientRect();u.allowY&&(e.clientY>window.innerHeight-t.height/10&&u.root.scrollTop+u.root.offsetHeight+t.height/10<d?u.root.scrollTop+=t.height/10:e.clientY<n.top+t.height/10&&u.root.scrollTop>0&&(u.root.scrollTop-=t.height/10))}}),document.addEventListener("mousemove",function(e){if(f){u.allowY&&(b.style.top=e.clientY-v.y+"px"),u.allowX&&(b.style.left=e.clientX-v.x+"px");var t,n,i=a(e.clientX,e.clientY);i&&(t=i.closest('[data-drag-id="'+u.dragId+'"] > *:not(.mirror)'),n=i.closest('[data-drag-id="'+u.dragId+'"]')||i.closest('[data-drop-target-for="'+u.dragId+'"]')),u.onMove(y.parentNode,y,n,t,b)}}),t.a={enable:function(e){[].concat(e).forEach(function(e){(e=Object.assign({},m,e)).containers=[].concat(e.containers).map(function(e){return e.dataset.dragId=g,e}),e.dropTargets=(e.dropTargets||[]).map(function(e){return e.dataset.dropTargetFor=g,e}),e.dragId=g,p[g]=e,g++})},disable:function(e){delete p[e]}}},function(e,t,n){"use strict";function a(e,t){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/integrations/slacks/"+t+"/events",{method:"GET",headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw v.a(e.status,t)})}).then(function(e){return e.events}).catch(function(e){v.b(e)})}function i(e,t,n){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/integrations/slacks/"+t+"/events/"+n,{method:"POST",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw v.a(e.status,t)})}).catch(function(e){v.b(e)})}function o(e,t,n){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/integrations/slacks/"+t+"/events/"+n,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw v.a(e.status,t)})}).catch(function(e){v.b(e)})}function r(e){var t=e.target.closest(".integrationPreference"),n=e.target;t.classList.add("loading"),e.target.disabled=!0;var a=n.name;(n.checked?u(a,h,y).then(function(){_[y][a]=Array.from(k[a].events)}):d(a,h,y).then(function(){delete _[y][a]})).then(function(){e.target.disabled=!1,t.classList.remove("loading")}).catch(function(n){e.target.disabled=!1,e.target.checked=!e.target.checked,t.classList.remove("loading"),v.b(n)})}function s(e,t){_={};var n=t.map(function(t){return a(e,t)});return Promise.all(n).then(function(e){e.forEach(function(e,n){var a=t[n];_[a]=e.reduce(function(e,t){return e[T[t]]?e[T[t]].push(t):e[T[t]]=[t],e},{})})})}function l(e,t){document.querySelector(".integrationPreferences input[type='checkbox'][name='"+e+"']").checked=t}function c(e){Array.from(document.querySelectorAll(".integrationPreferences input[type='checkbox']")).forEach(function(e){e.checked=!1}),Object.keys(_[e]).forEach(function(t){_[e][t].length===k[t].events.length&&l(t,!0)})}function u(e,t,n){return k[e].events.reduce(function(e,a){return e.then(function(){return i(t,n,a)})},Promise.resolve())}function d(e,t,n){return k[e].events.reduce(function(e,a){return e.then(function(){return o(t,n,a)})},Promise.resolve())}function m(){E.classList.add("hidden")}function p(e){b&&j.c.unsubscribe(b),b="private-project@"+e;var t=j.c.channel(b)||j.c.subscribe(b);t.bind("AddIntegrationEvent",function(e){if(e.params.pid===h&&"slacks"===e.params.intype&&_[e.params.inid]){var t=T[e.params.event];_[e.params.inid][t]?-1===_[e.params.inid][t].indexOf(e.params.event)&&_[e.params.inid][t].push(e.params.event):_[e.params.inid][t]=[e.params.event],E.classList.contains("hidden")||_[e.params.inid][t].length===k[t].events.length&&l(t,!0)}}),t.bind("DeleteIntegrationEvent",function(e){var t=T[e.params.event];e.params.pid===h&&"slacks"===e.params.intype&&_[e.params.inid]&&_[e.params.inid][t]&&_[e.params.inid][t].indexOf(e.params.event)>-1&&(S.c(_[e.params.inid][t],function(t){return t===e.params.event}),E.classList.contains("hidden")||l(t,!1))})}function g(e,t){h=e,s(e,t).then(function(){p(e)})}function f(e,t){y=e,E.classList.remove("hidden"),x.textContent=t,x.title=t,c(e),C.scrollTop=1,C.scrollTop=0}n.d(t,"a",function(){return g}),n.d(t,"b",function(){return f});var h,y,b,v=n(1),S=n(0),j=n(8),E=document.querySelector(".integrationPreferencesContainer"),L=document.querySelector(".integrationPreferencesDialog"),D=document.querySelector(".integrationPreferencesDone"),w=document.getElementById("slackIntegrationPreferenceTemplate"),C=document.querySelector(".integrationPreferences"),x=document.querySelector(".integrationPreferencesHeader span"),k={screens:{name:"Screens",info:"Screen added",events:["screen.created"]},versions:{name:"Screen versions",info:"Version added to screen",events:["version.created"]},colors:{name:"Colors",info:"Color added, removed or updated on Styleguide",events:["color.created","color.updated","color.deleted"]},textStyles:{name:"Text styles",info:"Text style added, removed or updated on Styleguide",events:["textstyle.created","textstyle.updated","textstyle.deleted"]},notes:{name:"Notes",info:"Note added",events:["dot.created"]},replies:{name:"Replies",info:"Replied to note",events:["dot.comment.created"]},members:{name:"Members",info:"Member invited",events:["project.user.invited"]},projectStatus:{name:"Project status",info:"Project archived or activated",events:["project.archived","project.activated"]}},T=Object.keys(k).reduce(function(e,t){return k[t].events.reduce(function(e,n){return e[n]=t,e},e)},{}),_={};Object.keys(k).forEach(function(e){var t=k[e],n=document.importNode(w.content,!0),a=n.querySelector(".integrationPreferenceGroupName"),i=n.querySelector(".integrationPreferenceGroupInfo"),o=n.querySelector("input[type='checkbox']");a.textContent=t.name,a.title=t.name,i.textContent=t.info,i.title=t.info,o.name=e,C.appendChild(n)}),E.addEventListener("click",function(e){e.stopPropagation(),m()}),L.addEventListener("click",function(e){e.stopPropagation()}),D.addEventListener("click",function(){m()}),Array.from(document.querySelectorAll(".integrationPreferences input[type='checkbox']")).forEach(function(e){e.addEventListener("change",r)})},function(e,t,n){"use strict";var a=n(106);t.a=a.a},function(e,t,n){"use strict";function a(){return c?Promise.resolve(c):fetch(Zeplin.urls.baseURL+"/organizations",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return c=t.organizations;throw Object(f.a)(e.status,t)})})}function i(e,t){return e in S?Promise.resolve(S[e]):fetch(Zeplin.urls.baseURL+"/organizations/"+e+"/members/"+t+"/profile",{headers:Zeplin.headers}).then(function(t){return t.json().then(function(n){if(t.ok)return S[e]=n,S[e];throw Object(f.a)(t.status,n)})})}function o(e){var t=e||"user";return t in j?Promise.resolve(j[t]):fetch(Zeplin.urls.baseURL+(e?"/organizations/"+e:"/v2")+"/projects",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(n){if(e.ok)return j[t]=n.projects,j[t];throw Object(f.a)(e.status,n)})})}function r(e,t,n,a,i){return fetch(Zeplin.urls.baseURL+(e&&"user"!==e?"/organizations/"+e:"")+"/projects",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({name:i||"Untitled",type:t,density:a,icon:{type:n}})}).then(function(e){return e.json().then(function(t){if(e.ok)return j={},{pid:t._id,density:a};throw Object(f.a)(e.status,t)})})}function s(e,t){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/density",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({density:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Object(f.a)(e.status,t)});j={}})}function l(e,t,n){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/screens/projects/"+t,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({screens:n})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Object(f.a)(e.status,t)})})}var c,u=n(3),d=n.n(u),m=n(107),p=n(2),g=n(0),f=n(1),h=n(9),y=n(110),b=(n.n(y),Object.freeze({android:"Android",ios:"iOS",osx:"macOS",web:"Web"})),v=!!h.a&&!!h.a.features&&!!h.a.features.webviews,S={},j={};class E extends d.a.Component{constructor(){super(),this.closePopup=this.closePopup.bind(this),this.escHandler=this.escHandler.bind(this),this.selectHandler=this.selectHandler.bind(this),this.checkDensityAndMoveScreen=this.checkDensityAndMoveScreen.bind(this),this.moveHandler=this.moveHandler.bind(this),this.handleErrorBySuggestingUpgrade=this.handleErrorBySuggestingUpgrade.bind(this),this.state={loading:!0,spinnerIndex:-1}}stopPropagation(e){e.stopPropagation()}getInteractiveItemAtIndex(e){return this.state.listItems.filter(function(e){return"header"!==e.type})[e]}closePopup(){this.props.onClose&&this.props.onClose(),d.a.render(null,document.body,this.base)}escHandler(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.closePopup()}moveHandler(){mixpanel.track("Moved screens to project"),this.props.onMove&&this.props.onMove()}handleErrorBySuggestingUpgrade(e){this.setState({spinnerIndex:-1}),Object(f.b)(e,{clientErrorHandler:{402:function(){p.a({title:"Please upgrade your plan first",message:"Looks like you reached your project limit, upgrade now to create more!",cancel:{name:"CANCEL"},done:{name:"SEE PLANS",cb:function(){v?location.replace(g.J("profile-billing",{query:{period:"annual"}})):(document.getElementById("planChooserOverlay").classList.remove("hidden"),mixpanel.track("Opened pricing popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-pricing-popup"),ga("send","pageview","/pricing-popup"))}}})},default:f.b}})}selectHandler(e){var t=this,n=t.getInteractiveItemAtIndex(e),a="create"===n.type?"a new project":'"'+n.name+'"';p.a({message:'Move selected screen from "'+t.props.sourceProject.name+'" to '+a+"?",done:{name:"MOVE",cb:function(){t.setState({spinnerIndex:e});var a;switch(n.type){case"create":a=r(n.oid,t.props.projectType,g.l(),t.props.density);break;case"project":a=Promise.resolve(n)}a.then(t.checkDensityAndMoveScreen).then(t.moveHandler).catch(t.handleErrorBySuggestingUpgrade).then(t.closePopup,t.closePopup)}},cancel:{name:"KEEP"}})}filterSortEligibleProjects(e){var t=this;return e.filter(function(e){var n,a=e._id!==t.props.sourceProject.id&&e.type===t.props.projectType&&("unknown"===e.density||e.density===t.props.density),i="active"===e.status;if(g.r(e)){var o=e.users.find(function(e){return e.user._id===Zeplin.user._id});n=o&&g.x.canManageScreens(o)}else{var r=e.users.find(function(e){return"owner"===e.role});n=r.user._id===Zeplin.user._id||"free"!==r.user.paymentPlan}return a&&i&&n}).sort(g.E.name)}getEligiblePersonalProjects(){var e=this;return"user"!==(this.props.oid||"user")?Promise.resolve(null):o().then(function(t){return e.filterSortEligibleProjects(t)})}getEligibleOrganizationsWithProjects(){var e=this,t=this.props.oid||"user";return a().then(function(e){return e.filter(function(e){return"active"===e.status&&("user"===t||t===e._id)})}).then(function(e){return Promise.all(e.map(function(e){return i(e._id,Zeplin.user._id)})).then(function(t){return e.filter(function(e,n){return g.x.canMoveScreens(t[n])}).sort(g.E.name)})}).then(function(t){return Promise.all(t.map(function(e){return o(e._id)})).then(function(n){return n.map(function(n,a){var i=e.filterSortEligibleProjects(n);return[t[a],i]})})})}checkDensityAndMoveScreen(e){var t=this,n=e.pid;return("unknown"===e.density?s(n,t.props.density):Promise.resolve()).then(function(){return l(t.props.sourceProject.id,n,t.props.sids)})}positionPopup(){var e=this.base.getBoundingClientRect(),t=Math.max(108,this.props.top-e.height/2);t=Math.min(t,window.innerHeight-24-e.height);var n=Math.min(this.props.left,window.innerWidth-36-e.width);this.base.style.top=t+"px",this.base.style.left=n+"px"}componentDidMount(){this.positionPopup(),document.addEventListener("click",this.closePopup),document.addEventListener("keydown",this.escHandler);var e=this;Promise.all([this.getEligiblePersonalProjects(),this.getEligibleOrganizationsWithProjects()]).then(function(t){var n=t[0],a=t[1],i=[];n&&(i.push({type:"header",content:"Personal Projects"},{type:"create",oid:"user"}),i=i.concat(n.map(function(e){return{type:"project",pid:e._id,name:e.name,density:e.density}}))),i=i.concat(a.reduce(function(e,t){var n=t[0],a=t[1];return e.push({type:"header",content:n.name+"'s Projects"},{type:"create",oid:n._id}),e.concat(a.map(function(e){return{type:"project",pid:e._id,name:e.name,density:e.density}}))},[])),e.setState({listItems:i,loading:!1})}).catch(function(t){e.setState({listItems:[],loading:!1}),Object(f.b)(t)})}componentWillUnmount(){document.removeEventListener("click",this.closePopup),document.removeEventListener("keydown",this.escHandler)}componentDidUpdate(){this.positionPopup()}render(e,t){var n;return n=t.loading?d.a.h("div",{class:"projectListLoading"}):d.a.h(m.a,{projectType:b[e.projectType],density:e.density,items:t.listItems,spinnerIndex:t.spinnerIndex,onSelect:this.selectHandler}),d.a.h("div",{class:"moveScreenPopup",onClick:this.stopPropagation,onContextMenu:this.stopPropagation},d.a.h("p",null,"To keep asset sizes and measurements consistent, only ",d.a.h("strong",null,b[e.projectType])," projects with ",d.a.h("strong",null,e.density)," density are listed. Select one or create a new one to move the screen:"),n)}}t.a=E},function(e,t,n){"use strict";var a=n(108);t.a=a.a},function(e,t,n){"use strict";var a=n(3),i=n.n(a),o=n(0),r=n(109),s=(n.n(r),i.a.h("svg",{class:"spinner",width:"12",height:"12",viewBox:"0 0 12 12"},i.a.h("g",{"fill-rule":"evenodd"},i.a.h("path",{d:"M4.328 3.606c-.398.035-.75-.256-.784-.657L3.354.785c-.034-.398.258-.748.658-.783.398-.035.75.257.784.657l.19 2.163c.034.398-.257.748-.658.783z"}),i.a.h("path",{d:"M3.125 5.49c-.257.306-.71.348-1.02.09L.444 4.183c-.306-.257-.348-.71-.09-1.02.258-.305.712-.347 1.02-.088L3.036 4.47c.306.258.348.712.09 1.02z",opacity:".3"}),i.a.h("path",{d:"M3.606 7.672c.035.398-.256.75-.657.784l-2.164.19c-.398.034-.748-.258-.783-.658-.035-.398.257-.75.657-.784l2.163-.19c.398-.034.748.257.783.658z",opacity:".4"}),i.a.h("path",{d:"M5.49 8.875c.306.257.348.71.09 1.02l-1.396 1.662c-.257.306-.71.348-1.02.09-.305-.258-.347-.712-.088-1.02L4.47 8.964c.258-.306.712-.348 1.02-.09z",opacity:".5"}),i.a.h("path",{d:"M7.672 8.394c.398-.035.75.256.784.657l.19 2.164c.034.398-.258.748-.658.783-.398.035-.75-.257-.784-.657l-.19-2.163c-.034-.398.257-.748.658-.783z",opacity:".6"}),i.a.h("path",{d:"M8.875 6.51c.257-.306.71-.348 1.02-.09l1.662 1.396c.306.257.348.71.09 1.02-.258.305-.712.347-1.02.088L8.964 7.53c-.306-.258-.348-.712-.09-1.02z",opacity:".7"}),i.a.h("path",{d:"M8.394 4.328c-.035-.398.256-.75.657-.784l2.164-.19c.398-.034.748.258.783.658.035.398-.257.75-.657.784l-2.163.19c-.398.034-.748-.257-.783-.658z",opacity:".85"}),i.a.h("path",{d:"M6.51 3.125c-.306-.257-.348-.71-.09-1.02L7.817.444c.257-.306.71-.348 1.02-.09.305.258.347.712.088 1.02L7.53 3.036c-.258.306-.712.348-1.02.09z",opacity:".95"}))));class l extends i.a.Component{constructor(e){super(),this.mouseEnterHandler=this.mouseEnterHandler.bind(this),this.mouseMoveHandler=this.mouseMoveHandler.bind(this),this.clickHandler=this.clickHandler.bind(this),this.keydownHandler=this.keydownHandler.bind(this),this.itemCount=l.getInteractiveItemCount(e.items),this.state={selectedIndex:0}}static getInteractiveItemCount(e){return e.filter(function(e){return"header"!==e.type}).length}mouseEnterHandler(e){this.lastX=e.clientX,this.lastY=e.clientY}mouseMoveHandler(e){if(e.stopPropagation(),this.lastX!==e.clientX||this.lastY!==e.clientY){var t=e.target.closest("[data-index]");if(t){var n=parseInt(t.dataset.index,10);n!==this.state.selectedIndex&&this.setState({selectedIndex:n}),this.lastX=e.clientX,this.lastY=e.clientY}}}clickHandler(e){e.stopPropagation(),this.props.onSelect&&this.props.onSelect(this.state.selectedIndex)}keydownHandler(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:this.props.onSelect&&this.props.onSelect(this.state.selectedIndex);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),this.setState({selectedIndex:Math.max(0,this.state.selectedIndex-1)});break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),this.setState({selectedIndex:Math.min(this.state.selectedIndex+1,this.itemCount-1)})}}componentDidMount(){document.addEventListener("keydown",this.keydownHandler)}componentWillReceiveProps(e){this.itemCount=l.getInteractiveItemCount(e.items)}componentDidUpdate(){o.A(this.base.querySelector("[data-index='"+this.state.selectedIndex+"']"))}componentWillUnmount(){document.removeEventListener("keydown",this.keydownHandler)}createHeader(e){return i.a.h("h3",{key:e},i.a.h("span",null,e)," ",i.a.h("span",null,"(",this.props.projectType,", ",this.props.density,")"))}createProjectButton(e,t){var n=["newProjectButton"];return t===this.state.selectedIndex&&n.push("selected"),i.a.h("div",{key:e,class:n.join(" "),"data-index":t,"data-oid":e},i.a.h("svg",{class:"plus",width:"24",height:"24"},i.a.h("g",{fill:"none","fill-rule":"evenodd"},i.a.h("circle",{cx:"12",cy:"12",r:"12"}),i.a.h("path",{d:"M13 7.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5V11H7.5a.5.5 0 0 0-.5.5v1c0 .3.2.5.5.5H11v3.5c0 .3.2.5.5.5h1a.5.5 0 0 0 .5-.5V13h3.5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H13V7.5z"}))),i.a.h("div",null,i.a.h("div",null,"New project"),i.a.h("div",null,"Create a new project and transfer screens")),t===this.props.spinnerIndex&&s)}createProjectItem(e,t,n,a){var o=["project"];return n&&o.push("odd"),a===this.state.selectedIndex&&o.push("selected"),i.a.h("div",{key:e,class:o.join(" "),title:t,"data-index":a},i.a.h("span",null,t),a===this.props.spinnerIndex&&s)}render(e,t){var n=this,a=0,o=!1,r=e.items.map(function(e){switch(e.type){case"header":return n.createHeader(e.content);case"create":return o=!1,n.createProjectButton(e.oid,a++);case"project":return o=!o,n.createProjectItem(e.pid,e.name,o,a++);default:return null}});return i.a.h("div",{class:"projectList",onMouseEnter:this.mouseEnterHandler,onMouseMove:this.mouseMoveHandler,onClick:this.clickHandler},r)}}t.a=l},function(e,t){},function(e,t){},function(e,t,n){"use strict";function a(e){switch(e){case"sketch":return o.a.h("div",{class:"info sketchFile"},o.a.h("p",null,o.a.h("strong",null,"Set layers as exportable or draw slices")," in Sketch and Zeplin will generate assets and list them here."),o.a.h("img",{src:r.a("img/icSketchSampleAsset.svg"),class:"sampleAsset"}),o.a.h("img",{src:r.a("img/icSketchMakeExportable.png"),srcset:r.a("img/icSketchMakeExportable@2x.png")+" 2x, "+r.a("img/icSketchMakeExportable@3x.png")+" 3x",class:"exportableAsset"}),o.a.h("p",null,"or"),o.a.h("img",{src:r.a("img/icSketchDrawSlices.svg"),class:"sliceAsset"}),o.a.h("p",null,"For more ProTips on assets, check out our ",o.a.h("a",{href:"https://blog.zeplin.io/exporting-assets-in-zeplin-50b8b4a56b05",target:"_blank"},"blog post.")));case"psd":return o.a.h("div",{class:"info psdFile"},o.a.h("p",null,o.a.h("strong",null,"Mark layers as assets")," in Photoshop, from Zeplin’s panel and Zeplin will generate assets and list them here."),o.a.h("img",{src:r.a("img/icPhotoshopSampleAsset.svg"),class:"sampleAsset"}),o.a.h("img",{src:r.a("img/icPhotoshopMakeExportable.png"),srcset:r.a("img/icPhotoshopMakeExportable@2x.png")+" 2x, "+r.a("img/icPhotoshopMakeExportable@3x.png")+" 3x",class:"exportableAsset"}),o.a.h("p",null,"For more ProTips on assets, check out our ",o.a.h("a",{href:"https://blog.zeplin.io/photoshop-open-beta-now-3f8f502fc4de",target:"_blank"},"blog post.")));case"figma":return o.a.h("div",{class:"info"},o.a.h("p",null,o.a.h("strong",null,"Set layers as exportable")," in Figma and Zeplin will generate assets and list them here."),o.a.h("img",{src:r.a("img/icFigmaSampleAsset.svg"),class:"sampleAsset"}),o.a.h("img",{src:r.a("img/icFigmaMakeExportable.png"),srcset:r.a("img/icFigmaMakeExportable@2x.png")+" 2x, "+r.a("img/icFigmaMakeExportable@3x.png")+" 3x",class:"exportableAsset"}))}}var i=n(3),o=n.n(i),r=n(13),s=n(112);n.n(s);t.a=function(e){return o.a.h("div",{class:"noScreenAssets"},o.a.h("h1",null,"Rock paper scissors",o.a.h("img",{src:r.a("img/emjAssetVictory.png"),srcset:r.a("img/emjAssetVictory@2x.png")+" 2x, "+r.a("img/emjAssetVictory@3x.png")+" 3x",alt:"✌",class:"victory"}),o.a.h("img",{src:r.a("img/emjScissors.png"),srcset:r.a("img/emjScissors@2x.png")+" 2x, "+r.a("img/emjScissors@3x.png")+" 3x",alt:"✂",class:"scissors"})),a(e.source))}},function(e,t){},function(e,t,n){"use strict";var a=n(3),i=n.n(a),o=n(10),r=n(13),s=n(9),l=n(114);n.n(l);class c extends i.a.Component{constructor(){super(),this.state={designTool:"photoshop"},this.changeDesignTool=this.changeDesignTool.bind(this)}componentDidMount(){var e=this;o.c.get("noScreensDesignToolSelection").then(function(t){e.setState({designTool:t})})}changeDesignTool(e){this.setState({designTool:e.target.value}),o.c.set("noScreensDesignToolSelection",e.target.value)}static openInstallationInfo(e){e.preventDefault(),s.a.shell.openExternal(e.target.href)}static toolImages(e){return"photoshop"===e?[i.a.h("img",{class:"psLogo",src:r.a("img/icLogoPS.png"),srcset:r.a("img/icLogoPS@2x.png")+" 2x,"+r.a("img/icLogoPS@3x.png")+" 3x"}),i.a.h("img",{class:"psToZeplinLogo",src:r.a("img/icDashboardPSToZeplin.svg")})]:"figma"===e?[i.a.h("img",{class:"figmaLogo",src:r.a("img/icDshbrdFigma.svg")}),i.a.h("img",{class:"figmaToZeplinLogo",src:r.a("img/figmaDashboardPSToZeplin.svg")})]:void 0}static toolToZeplin(e){return i.a.h("div",{class:"toolToZeplin"},c.toolImages(e),i.a.h("img",{class:"zeplinLogo",src:r.a("img/icZeplin.svg")}))}static photoshopSteps(e){return i.a.h("ol",{class:"photoshopSteps"},i.a.h("li",null,i.a.h("div",null,i.a.h("div",null,"Open your Photoshop file"),i.a.h("img",{src:r.a("img/icPSLogoGrayscale.png"),srcset:r.a("img/icPSLogoGrayscale@2x.png")+" 2x,"+r.a("img/icPSLogoGrayscale@3x.png")+" 3x"}))),i.a.h("li",null,i.a.h("div",null,"Select artboards (or layers in artboards) and click:"),i.a.h("img",{class:"ssDashboardEmpty",src:r.a("img/ss/ssDashboardEmpty.png"),srcset:r.a("img/ss/ssDashboardEmpty@2x.png")+" 2x,"+r.a("img/ss/ssDashboardEmpty@3x.png")+" 3x"}),e?i.a.h("div",{class:"installPanelInfo"},"If you can’t see the panel under ",i.a.h("code",null,"“Window > Extensions > Zeplin”"),", check how it’s installed from ",i.a.h("a",{onClick:c.openInstallationInfo,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),"."):i.a.h("div",{class:"installPanelInfo"},"If you can’t see the panel, install it from ",i.a.h("a",{onClick:c.openInstallationInfo,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),".")))}static steps(e){return"photoshop"===e?c.photoshopSteps():"figma"===e?i.a.h("ol",{class:"figmaSteps"},i.a.h("li",null,i.a.h("div",null,"Enable the integration on Figma. From the menu, "),i.a.h("div",null,"select ",i.a.h("strong",null,"“Integrations > Zeplin”:")),i.a.h("img",{src:r.a("img/imgFigmaMenuIntegration.png"),srcset:r.a("img/imgFigmaMenuIntegration@2x.png")+" 2x,"+r.a("img/imgFigmaMenuIntegration@3x.png")+" 3x"})),i.a.h("li",null,i.a.h("div",null,"Select a frame in your Figma file.")),i.a.h("li",null,i.a.h("div",null,"Press ",i.a.h("strong",null,"Alt+E")," or select ",i.a.h("strong",null,"“Export to Zeplin”")," under the Export menu:"),i.a.h("div",null,i.a.h("img",{src:r.a("img/icFigmaShortcut.svg")}),i.a.h("div",null,"or"),i.a.h("img",{src:r.a("img/imgFigmaMenuExport.png"),srcset:r.a("img/imgFigmaMenuExport@2x.png")+" 2x,"+r.a("img/imgFigmaMenuExport@3x.png")+" 3x"})))):void 0}render(e,t){return e.photoshopAndFigma?i.a.h("div",{class:"noScreensElectron photoshopAndFigma","data-designtool":t.designTool},i.a.h("h1",null,"Let’s start by exporting screens from:"),i.a.h("div",{class:"designToolSelection"},i.a.h("label",null,i.a.h("input",{name:"noScreensElectronDesignTool",value:"photoshop",type:"radio",checked:"photoshop"===t.designTool,onChange:this.changeDesignTool}),i.a.h("span",null,"Photoshop")),i.a.h("hr",null),i.a.h("label",null,i.a.h("input",{name:"noScreensElectronDesignTool",value:"figma",type:"radio",checked:"figma"===t.designTool,onChange:this.changeDesignTool}),i.a.h("span",null,"Figma"))),c.toolToZeplin(t.designTool),c.steps(t.designTool)):i.a.h("div",{class:"noScreensElectron photoshopOnly"},i.a.h("h1",null,"Designers!"),i.a.h("h2",null,"Let’s start by exporting screens from Photoshop:"),c.toolToZeplin("photoshop"),c.photoshopSteps(!0),i.a.h("h1",null,"Developers!"),i.a.h("h2",{class:"inviteYourDesigner"},"Invite your designer to upload screens:"),i.a.h("h3",{class:"inviteYourDesignerInfo"},"You can invite your designer from the 'Members' section."))}}t.a=c},function(e,t){},function(e,t,n){"use strict";var a=n(116);t.a=a.a},function(e,t,n){"use strict";function a(e){switch(e.type){case"switch":return function(t){return s.a.h(l.a.Switch,{name:e.id,content:e.name,value:t.value,onClick:t.onClick})};case"submenu":return function(t){return s.a.h(l.a.Submenu,{content:e.name,onClick:t.onClick},e.children.map(function(e){return a(e)}).filter(Boolean))};case"picker":return function(t){return s.a.h(l.a.Picker,{name:e.id,value:t.value,submenu:e.submenu,content:e.name,options:e.options,onClick:t.onClick})};case"divider":return function(){return s.a.h(l.a.Divider,null)}}}function i(e,t){return function(n){var i=[];return e.length>1&&i.push(s.a.h(l.a.Picker,{key:"extension",name:"extension",content:n.extensionMenuName,options:e.map(function(e){return{name:e.name,value:e.id}}),value:n.extension.id,submenu:!!n.extensionMenuName}),s.a.h(l.a.Divider,null)),i=i.concat(t.filter(function(e){return n.enabledOptions.includes(e.id)}).map(function(e){var t=a(e);return s.a.h(t,{key:e.id,value:n.options[e.id]})})),s.a.h.apply(s.a,[l.a,n].concat(i))}}function o(e){var t;return e.extension.id in u?t=u[e.extension.id]:(t=i(e.availableExtensions,e.extension.optionsSchema),u[e.extension.id]=t),s.a.h(t,{class:e.class,extension:e.extension,extensionMenuName:e.extensionMenuName,options:e.options,enabledOptions:e.enabledOptions,posRefRect:e.posRefRect,onChange:e.onChange,onClose:e.onClose,rightOffset:12,bottomOffset:25})}var r=n(3),s=n.n(r),l=n(117),c=n(54),u={};class d extends s.a.Component{static getStores(){return[c.b]}static calculateState(e,t){var n=c.b.getState();return{extension:n.extension,options:n.options,posRefRect:t.posRefRect,availableExtensions:t.availableExtensions,enabledOptions:t.enabledOptions,onClose:t.onClose,extensionMenuName:t.extensionMenuName,onChange:function(e,n){"extension"===e?c.a.loadExtension(t.availableExtensions.find(function(e){return e.id===n})):c.a.updateOption(e,n),t.onChange&&t.onChange(e,n)}}}render(){return s.a.h(o,Object.assign({class:"exportOptionsMenu"},this.state))}}var m=n(57).a.create(d,{withProps:!0});t.a=m},function(e,t,n){"use strict";var a=n(118);t.a=a.a},function(e,t,n){"use strict";var a=n(3),i=n.n(a),o=n(36),r=n(13),s=n(119);n.n(s);class l extends i.a.Component{constructor(e){super(e),this.showSubmenu=this.showSubmenu.bind(this),this.hideSubmenu=this.hideSubmenu.bind(this),this.getSubmenuRef=this.getSubmenuRef.bind(this),this.state={open:!1,direction:"right"}}showSubmenu(){this.setState({open:!0})}hideSubmenu(){this.setState({open:!1})}getSubmenuRef(e){this.submenuElement=e}positionSubmenu(){if(this.state.open){var e=this.context.edgeOffset,t=this.base.getBoundingClientRect(),n=this.submenuElement.getBoundingClientRect(),a=window.innerWidth>=t.right+n.width+e?"right":"left",i=0;n.top<e?i=e:n.bottom+e>window.innerHeight&&(i=window.innerHeight-n.bottom-e),0!==i&&(this.submenuElement.style.transform="translate3d(0, "+i+"px, 0)"),a!==this.state.direction&&this.setState({direction:a})}}componentDidMount(){this.positionSubmenu()}componentDidUpdate(){this.positionSubmenu()}render(e,t){var n=["submenu",t.direction];return i.a.h("label",{for:"sidebarSubmenu",onMouseEnter:this.showSubmenu,onMouseLeave:this.hideSubmenu},i.a.h("span",null,e.content||e.name),i.a.h("img",{src:r.a("img/icMenuArrow.svg"),alt:">",class:"menuChevron"}),t.open&&i.a.h("div",{ref:this.getSubmenuRef,class:n.join(" ")},e.children))}}class c extends i.a.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e){this.props.onClick&&this.props.onClick(this.props.name,e.target.value)}render(e){var t=e.options.map(function(t){var n=t.value===e.value;return i.a.h("label",{key:t.name+"-"+t.value},i.a.h("span",null,t.name),i.a.h("input",{onClick:this.clickHandler,type:"radio",name:e.name,value:t.value,checked:n}),i.a.h("img",{src:r.a("img/icMenuCheck.svg"),alt:"&check;"}),i.a.h(o.a,null))},this);if(e.submenu){var n=e.name;if(e.content){var a=e.options.find(function(t){return t.value===e.value}).name;n=e.content+" ("+a+")"}return i.a.h(l,{content:n},t)}return i.a.h("div",null,t)}}class u extends i.a.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e){this.props.onClick&&this.props.onClick(this.props.name,e.target.checked)}render(e){var t=e.content||e.name;return i.a.h("label",null,i.a.h("span",null,t),i.a.h("input",{onClick:this.clickHandler,type:"checkbox",name:e.name,checked:e.value}),i.a.h("img",{src:r.a("img/icMenuCheck.svg"),alt:"&check;"}),i.a.h(o.a,null))}}class d extends i.a.Component{constructor(e){super(e),this.closeMenu=this.closeMenu.bind(this),this.positionMenu=this.positionMenu.bind(this),this.handleClick=this.handleClick.bind(this)}stopPropagation(e){e.stopPropagation()}closeMenu(){i.a.render(null,this.base.parentElement,this.base),this.props.onClose&&this.props.onClose()}get edgeOffset(){return this.props.edgeOffset||12}getChildContext(){return{edgeOffset:this.edgeOffset}}positionMenu(){var e,t,n=this.edgeOffset,a=this.props.posRefRect,i=this.base.getBoundingClientRect(),o=a.bottom-this.props.bottomOffset,r=a.right-this.props.rightOffset;t=o<n?n:o+i.height+n>window.innerHeight?window.innerHeight-i.height-n:o,e=r+i.width+n>window.innerWidth?window.innerWidth-i.width-n:r,this.base.style.transform="translate3d("+e+"px, "+t+"px, 0)"}componentWillUnmount(){document.removeEventListener("click",this.closeMenu)}componentDidMount(){document.addEventListener("click",this.closeMenu),this.positionMenu()}componentDidUpdate(){this.positionMenu()}handleClick(e,t){this.closeMenu(),this.props.onChange&&this.props.onChange(e,t)}render(e){var t=["zplSidebarMenu"];return e.class&&t.push(e.class),i.a.h("div",{onClick:this.stopPropagation,class:t.join(" ")},e.children.map(function(e){return i.a.cloneElement(e,{onClick:this.handleClick})},this))}}d.Submenu=l,d.Picker=c,d.Switch=u,d.Divider=function(){return i.a.h("hr",null)},t.a=d},function(e,t){},function(e,t,n){"use strict";var a=n(55),i=n(56),o={loadExtension(e){i.a.dispatch({type:a.a.LOAD_EXTENSION,extension:e})},updateOption(e,t){i.a.dispatch({type:a.a.UPDATE_OPTION,name:e,value:t})}};t.a=o},function(e,t){e.exports=Flux},function(e,t,n){"use strict";var a=n(57),i=n(55),o=n(56);class r extends a.b{constructor(){super(o.a)}getInitialState(){return{extension:null,options:null}}reduce(e,t){switch(t.type){case i.a.LOAD_EXTENSION:return Object.assign({},e,{extension:t.extension,options:t.extension.options});case i.a.UPDATE_OPTION:return e.extension.setOption(t.name,t.value),Object.assign({},e,{options:e.extension.options});default:return e}}}t.a=new r},function(e,t){e.exports=FluxUtils},function(e,t,n){"use strict";function a(e){var t=o[e.type];return Promise.all(t.map(function(t){return t.load(e)}))}n.d(t,"a",function(){return a});var i=n(125),o={android:[i.a,i.h],ios:[i.d,i.c,i.b,i.h],osx:[i.g,i.f,i.e],web:[i.i,i.k,i.l,i.j,i.m]}},function(e,t,n){"use strict";var a=n(126),i=n(128),o=n(129),r=n(130),s=n(131);n.d(t,"a",function(){return a.a}),n.d(t,"h",function(){return i.a}),n.d(t,"d",function(){return o.c}),n.d(t,"c",function(){return o.b}),n.d(t,"b",function(){return o.a}),n.d(t,"g",function(){return r.c}),n.d(t,"f",function(){return r.b}),n.d(t,"e",function(){return r.a}),n.d(t,"i",function(){return s.a}),n.d(t,"k",function(){return s.c}),n.d(t,"l",function(){return s.d}),n.d(t,"j",function(){return s.b}),n.d(t,"m",function(){return s.e})},function(e,t,n){"use strict";var a=n(34),i=n(48),o={LINE_SPACING_TYPE:"lineSpacingType"},r={name:"XML",id:"android_xml",type:"internal",options:[{name:"Line spacing",type:"picker",id:o.LINE_SPACING_TYPE,submenu:!0,options:[{name:"Extra",value:"extra"},{name:"Multiplier",value:"multiplier"}],default:"extra"}]};class s extends a.a{static get manifest(){return r}styleguideColors(e){return{code:"<resources>\n"+e.map(function(e){return'  <color name="'+e.name.replace(/([A-Z])/g,function(e,t,n){return(n?"_":"")+e.toLowerCase()})+'">'+e.toHexString(!0)+"</color>"}).join("\n")+"\n</resources>",mode:"xml",options:[o.LINE_SPACING_TYPE]}}styleguideTextStyles(e){var t={lineSpacingType:this.getOption(o.LINE_SPACING_TYPE),dimensionSuffix:this._project.textDimensionSuffix,densityDivisor:this._project.densityDivisor};return{code:"<resources>\n"+e.map(function(e){var n;if(e.color){var a=this._project.findColorEqual(e.color);n=Object.assign({},t,{projectColor:a})}else n=t;return e.generateTextStyleCode("android",n)},this).join("\n")+"\n</resources>",mode:"xml",options:[o.LINE_SPACING_TYPE]}}layer(e){if("text"===e.type)return{mode:"xml",code:e.toAndroidXMLStyle(this._project,this.getOption(o.LINE_SPACING_TYPE)),options:[o.LINE_SPACING_TYPE]}}comment(e){return"\x3c!-- "+e+" --\x3e"}exportStyleguideColors(e){var t=this.styleguideColors(e);return{code:'<?xml version="1.0" encoding="utf-8"?>\n'+this.comment(i.a)+"\n\n"+t.code,filename:"colors.xml",mode:"xml"}}exportStyleguideTextStyles(e){var t=this.styleguideTextStyles(e);return{code:'<?xml version="1.0" encoding="utf-8"?>\n'+this.comment(i.a)+"\n\n"+t.code,filename:"fonts.xml",mode:"xml"}}}t.a=s},function(e,t,n){"use strict";class a{constructor(e,t,n){this._storage=e,this._options=t,this._project=n}get id(){throw new Error("Property not implemented")}get optionsSchema(){throw new Error("Property not implemented")}get options(){throw new Error("Property not implemented")}setOption(e,t){throw new Error("Method not implemented")}getOption(e){throw new Error("Method not implemented")}styleguideColors(e){throw new Error("Method not implemented")}styleguideTextStyles(e){throw new Error("Method not implemented")}layer(e){throw new Error("Method not implemented")}comment(e){throw new Error("Method not implemented")}exportStyleguideColors(e){throw new Error("Method not implemented")}exportStyleguideTextStyles(e){throw new Error("Method not implemented")}}t.a=a},function(e,t,n){"use strict";var a=n(34),i=n(12),o=n(48),r={COLOR_FORMAT:"colorFormat",SHOW_DIMENSIONS:"showDimensions",SHOW_DEFAULT_VALUES:"showDefaultValues"},s={name:"React Native",id:"react_native",type:"internal",options:[{name:"Color format",type:"picker",id:r.COLOR_FORMAT,submenu:!0,options:[{name:"Default",value:"default"},{name:"HEX",value:"hex"},{name:"RGB",value:"rgb"},{name:"HSL",value:"hsl"}],default:"default"},{name:"Dimensions",type:"switch",id:r.SHOW_DIMENSIONS,default:!0},{name:"Default values",type:"switch",id:r.SHOW_DEFAULT_VALUES,default:!0}]};class l extends a.a{static get manifest(){return s}styleguideColors(e){return{code:"const colors = {\n"+e.map(function(e){return"  "+e.name+': "'+e.toCSS(this.getOption(r.COLOR_FORMAT))+'"'},this).join(",\n")+"\n};",mode:"javascript",options:[r.COLOR_FORMAT,r.SHOW_DIMENSIONS,r.SHOW_DEFAULT_VALUES]}}styleguideTextStyles(e){var t={densityDivisor:this._project.densityDivisor,colorFormat:this.getOption(r.COLOR_FORMAT),defaultValues:this.getOption(r.SHOW_DEFAULT_VALUES)},n=this,a=e.reduce(function(e,a){var i;if(a.color){var o=n._project.findColorEqual(a.color);i=Object.assign({},t,{projectColor:o})}else i=t;var r=a.generateTextStyleCode("ios",i,"react");return Object.assign(e,r)},{});return{code:"const textStyles = StyleSheet.create("+(a=JSON.stringify(a,null,2)).replace(/"(.+)":/g,"$1:").replace(/: "colors\.(.*)"/g,": colors.$1")+");",mode:"javascript",options:[r.COLOR_FORMAT,r.SHOW_DIMENSIONS,r.SHOW_DEFAULT_VALUES]}}layer(e){var t=e.toReactStyle(this._project.type,this._project.densityDivisor,this.getOption(r.SHOW_DIMENSIONS),this.getOption(r.COLOR_FORMAT),this.getOption(r.SHOW_DEFAULT_VALUES)),n=[];Object.keys(t).length>1&&n.unshift(t),t=n.map(function(e){return i.h("react",e,this._project.getColorMapByFormat(this.getOption(r.COLOR_FORMAT)))},this).join("\n\n");var a=[r.COLOR_FORMAT,r.SHOW_DIMENSIONS];return"text"===e.type&&a.push(r.SHOW_DEFAULT_VALUES),{code:t,mode:"javascript",options:a}}comment(e){return"// "+e}exportStyleguideColors(e){var t=this.styleguideColors(e);return{code:this.comment(o.a)+"\n\n"+t.code,filename:"colors.js",mode:"javascript"}}exportStyleguideTextStyles(e){var t=this.styleguideTextStyles(e);return{code:this.comment(o.a)+"\n\n"+t.code,filename:"fonts.js",mode:"javascript"}}}t.a=l},function(e,t,n){"use strict";function a(e){var t,n=e.getDefaultTextStyle(),a=[],i=0;return e.textStyles.forEach(function(e){if(n&&n.equals(e.font))t=-1;else{var o=a.find(function(t){return t.font.equals(e.font)});o?t=o.groupId:(t=i,i+=1)}a.push(Object.assign({},e,{groupId:t}))}),a}function i(e,t,n,i,o){if("text"===e.type&&e.textStyles.length>1){var r=a(e);return Object(c.a)(o,e,r,t,n,i)}}function o(e,t,n){return"extension UIColor {\n"+e.map(function(e){var a="  @nonobjc class var "+((t||"")+(t?d.I(e.name):d.t(e.name)))+": UIColor {\n";return n?a+="    return UIColor(named: "+e.name+")!":e.r===e.g&&e.g===e.b?a+="    return UIColor(white: "+d.v(e.r)+"alpha: "+d.a.format(e.a)+")":a+="    return UIColor(red: "+d.v(e.r)+"green: "+d.v(e.g)+"blue: "+d.v(e.b)+"alpha: "+d.a.format(e.a)+")",a+"\n  }"}).join("\n\n")+"\n}"}function r(e,t,n,a,i){var o={deploymentTarget:t,prefix:a,densityDivisor:i,type:n};return"extension UIFont {\n"+e.map(function(e){return e.generateTextStyleCode("ios",o,"swift")}).join("\n\n")+"\n};"}function s(e,t,n,a){var i=new Date;return"//\n//  UI"+t+"+"+a+"."+e+"\n//  "+n+"\n//\n//  Generated on Zeplin. ("+i.toLocaleDateString()+").\n//  Copyright (c) "+i.getFullYear()+" __MyCompanyName__. All rights reserved.\n//\n\n"}n.d(t,"c",function(){return y}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return v});var l=n(34),c=n(58),u=n(15),d=n(0),m={ATTR_STR_SHOW_DEFAULT:"showDefaultAttributes",DEPLOYMENT_TARGET:"deploymentTarget",SHOW_NAMED_COLORS:"showNamedColors",CATEGORY_NAME:"categoryName"},p=[{name:"Deployment target",type:"picker",id:m.DEPLOYMENT_TARGET,submenu:!0,options:[{name:"11.0",value:"11.0"},{name:"10.0",value:"10.0"},{name:"9.0",value:"9.0"},{name:"8.2",value:"8.2"},{name:"8.0",value:"8.0"}],default:"11.0"},{name:"Named colors",type:"switch",id:m.SHOW_NAMED_COLORS,default:!1},{name:"Default attributes",type:"switch",id:m.ATTR_STR_SHOW_DEFAULT,default:!0},{name:"Category name",type:"text",id:m.CATEGORY_NAME,default:""}],g={name:"Swift 4",id:"ios_swift4",type:"internal",options:p},f={name:"Swift 3",id:"ios_swift3",type:"internal",options:p},h={name:"Objective-C",id:"ios_objc",type:"internal",options:p};class y extends l.a{static get manifest(){return g}styleguideColors(e){return{code:o(e,this._project.prefix,this.getOption(m.SHOW_NAMED_COLORS)),mode:"swift",options:[m.DEPLOYMENT_TARGET,m.SHOW_NAMED_COLORS]}}styleguideTextStyles(e){return{code:r(e,this.getOption(m.DEPLOYMENT_TARGET),"swift4",this._project.prefix,this._project.densityDivisor),mode:"swift",options:[m.DEPLOYMENT_TARGET,m.SHOW_NAMED_COLORS]}}layer(e){var t=i(e,"swift4",this.getOption(m.DEPLOYMENT_TARGET),this.getOption(m.ATTR_STR_SHOW_DEFAULT),this._project);if(t)return{mode:"swift",code:t,options:[m.DEPLOYMENT_TARGET,m.ATTR_STR_SHOW_DEFAULT]}}comment(e){return"// "+e}exportStyleguideColors(e){var t=this.styleguideColors(e),n=this.getOption(m.CATEGORY_NAME);return{code:s("swift","Color",this._project.name,n)+"import UIKit\n\n"+t.code,filename:"UIColor+"+n+".swift",mode:"swift"}}exportStyleguideTextStyles(e){var t=this.styleguideTextStyles(e),n=this.getOption(m.CATEGORY_NAME);return{code:s("swift","Font",this._project.name,n)+"import UIKit\n\n"+t.code,filename:"UIFont+"+n+".swift",mode:"swift"}}}class b extends l.a{static get manifest(){return f}static updateOptions(e){return"7.0"===e[m.DEPLOYMENT_TARGET]&&(e[m.DEPLOYMENT_TARGET]="8.0"),e}styleguideColors(e){return{code:o(e,this._project.prefix,this.getOption(m.SHOW_NAMED_COLORS)),mode:"swift",options:[m.DEPLOYMENT_TARGET,m.SHOW_NAMED_COLORS]}}styleguideTextStyles(e){return{code:r(e,this.getOption(m.DEPLOYMENT_TARGET),"swift3",this._project.prefix,this._project.densityDivisor),mode:"swift",options:[m.DEPLOYMENT_TARGET,m.SHOW_NAMED_COLORS]}}layer(e){var t=i(e,"swift3",this.getOption(m.DEPLOYMENT_TARGET),this.getOption(m.ATTR_STR_SHOW_DEFAULT),this._project);if(t)return{mode:"swift",code:t,options:[m.DEPLOYMENT_TARGET,m.ATTR_STR_SHOW_DEFAULT]}}comment(e){return"// "+e}exportStyleguideColors(e){var t=this.styleguideColors(e),n=this.getOption(m.CATEGORY_NAME);return{code:s("swift","Color",this._project.name,n)+"import UIKit\n\n"+t.code,filename:"UIColor+"+n+".swift",mode:"swift"}}exportStyleguideTextStyles(e){var t=this.styleguideTextStyles(e),n=this.getOption(m.CATEGORY_NAME);return{code:s("swift","Font",this._project.name,n)+"import UIKit\n\n"+t.code,filename:"UIFont+"+n+".swift",mode:"swift"}}}class v extends l.a{static get manifest(){return h}static updateOptions(e){return"7.0"===e[m.DEPLOYMENT_TARGET]&&(e[m.DEPLOYMENT_TARGET]="8.0"),e}styleguideColors(e){var t=this._project.prefix;return{code:"@implementation UIColor ("+this.getOption(m.CATEGORY_NAME)+")\n\n"+e.map(function(e){var n="+ (UIColor * _Nonnull)"+(t?t+"_":"")+d.t(e.name)+"Color { \n";return e.r===e.g&&e.g===e.b?n+="    return [UIColor colorWithWhite:"+d.u(e.r):n+="    return [UIColor colorWithRed:"+d.u(e.r)+"green:"+d.u(e.g)+"blue:"+d.u(e.b),n+"alpha:"+d.a.format(e.a)+"f];\n}"}).join("\n\n")+"\n\n@end",mode:"objc",options:[m.DEPLOYMENT_TARGET]}}styleguideTextStyles(e){var t={deploymentTarget:this.getOption(m.DEPLOYMENT_TARGET),prefix:this._project.prefix,densityDivisor:this._project.densityDivisor};return{code:"@implementation UIFont ("+this.getOption(m.CATEGORY_NAME)+")\n\n"+e.map(function(e){return e.generateTextStyleCode("ios",t,"objc")}).join("\n\n")+"\n\n@end",mode:"objc",options:[m.DEPLOYMENT_TARGET]}}layer(e){var t=i(e,"objc",this.getOption(m.DEPLOYMENT_TARGET),this.getOption(m.ATTR_STR_SHOW_DEFAULT),this._project);if(t)return{mode:"objc",code:t,options:[m.DEPLOYMENT_TARGET,m.ATTR_STR_SHOW_DEFAULT]}}comment(e){return"// "+e}exportStyleguideColors(e){var t=this.getOption(m.CATEGORY_NAME),n=this.styleguideColors(e);return[{code:s("h","Color",this._project.name,t)+"#import <UIKit/UIKit.h>\n\n@interface UIColor ("+t+")\n\n"+this._project.colors.map(function(e){return"+ (UIColor * _Nonnull)"+(this._project.prefix?this._project.prefix+"_":"")+d.t(e.name)+"Color;"},this).join("\n")+"\n\n@end",mode:"objc",filename:"UIColor+"+t+".h"},{code:s("m","Color",this._project.name,t)+'#import "UIColor+'+t+'.h"\n\n'+n.code,mode:"objc",filename:"UIColor+"+t+".m"}]}exportStyleguideTextStyles(e){var t=this.getOption(m.CATEGORY_NAME),n=this.styleguideTextStyles(e);return[{code:s("h","Font",this._project.name,t)+"#import <UIKit/UIKit.h>\n\n@interface UIFont ("+t+")\n\n"+this._project.textStyles.map(function(e){var t=Object(u.a)(e.name,"camelCase");return t=t.trim().length?d.t(t.replace(/\s(\w)/g,function(e,t){return t.toUpperCase()}))+"Font":"textStyleFont","+ (UIFont *)"+(this._project.prefix?this._project.prefix+"_":"")+t+";"},this).join("\n")+"\n\n@end",mode:"objc",filename:"UIFont+"+t+".h"},{code:s("m","Font",this._project.name,t)+'#import "UIFont+'+t+'.h"\n\n'+n.code,mode:"objc",filename:"UIFont+"+t+".m"}]}}},function(e,t,n){"use strict";function a(e){var t,n=e.getDefaultTextStyle(),a=[],i=0;return e.textStyles.forEach(function(e){if(n&&n.equals(e.font))t=-1;else{var o=a.find(function(t){return t.font.equals(e.font)});o?t=o.groupId:(t=i,i+=1)}a.push(Object.assign({},e,{groupId:t}))}),a}function i(e,t,n,i,o){if("text"===e.type&&e.textStyles.length>1){var r=a(e);return Object(c.a)(o,e,r,t,n,i)}}function o(e,t,n,a){var i=new Date;return"//\n//  NS"+t+"+"+a+"."+e+"\n//  "+n+"\n//\n//  Generated on Zeplin. ("+i.toLocaleDateString()+").\n//  Copyright (c) "+i.getFullYear()+" __MyCompanyName__. All rights reserved.\n//\n\n"}function r(e,t,n,a,i){var o={deploymentTarget:t,prefix:a,densityDivisor:i,type:n};return"extension NSFont {\n"+e.map(function(e){return e.generateTextStyleCode("osx",o,"swift")}).join("\n\n")+"\n}"}function s(e,t,n,a){return"extension NSColor {\n"+e.map(function(e){var i=(t||"")+(t?d.I(e.name):d.t(e.name)),o="  class var "+i+": NSColor {\n";return a?o+="    return NSColor(named: "+(i="swift4"===n?"NSColor.Name("+e.name+")":e.name)+")!":e.r===e.g&&e.g===e.b?o+="    return NSColor(calibratedWhite: "+d.v(e.r)+"alpha: "+d.a.format(e.a)+")":o+="    return NSColor(calibratedRed: "+d.v(e.r)+"green: "+d.v(e.g)+"blue: "+d.v(e.b)+"alpha: "+d.a.format(e.a)+")",o+"\n  }"}).join("\n\n")+"\n}"}n.d(t,"c",function(){return y}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return v});var l=n(34),c=n(58),u=n(15),d=n(0),m={ATTR_STR_SHOW_DEFAULT:"showDefaultAttributes",DEPLOYMENT_TARGET:"deploymentTarget",SHOW_NAMED_COLORS:"showNamedColors",CATEGORY_NAME:"categoryName"},p=[{name:"Deployment target",type:"picker",id:m.DEPLOYMENT_TARGET,submenu:!0,options:[{name:"10.13",value:"10.13"},{name:"10.12",value:"10.12"},{name:"10.11",value:"10.11"},{name:"10.10",value:"10.10"}],default:"10.13"},{name:"Named colors",type:"switch",id:m.SHOW_NAMED_COLORS,default:!1},{name:"Default attributes",type:"switch",id:m.ATTR_STR_SHOW_DEFAULT,default:!0},{name:"Category name",type:"text",id:m.CATEGORY_NAME,default:""}],g={name:"Swift 4",id:"osx_swift4",type:"internal",options:p},f={name:"Swift 3",id:"osx_swift3",type:"internal",options:p},h={name:"Objective-C",id:"osx_objc",type:"internal",options:p};class y extends l.a{static get manifest(){return g}styleguideColors(e){return{code:s(e,this._project.prefix,"swift4",this.getOption(m.SHOW_NAMED_COLORS)),mode:"swift",options:[m.DEPLOYMENT_TARGET,m.SHOW_NAMED_COLORS]}}styleguideTextStyles(e){return{mode:"swift",code:r(e,this.getOption(m.DEPLOYMENT_TARGET),"swift4",this._project.prefix,this._project.densityDivisor),options:[m.DEPLOYMENT_TARGET,m.SHOW_NAMED_COLORS]}}layer(e){var t=i(e,"swift4",this.getOption(m.DEPLOYMENT_TARGET),this.getOption(m.ATTR_STR_SHOW_DEFAULT),this._project);if(t)return{mode:"swift",code:t,options:[m.DEPLOYMENT_TARGET,m.ATTR_STR_SHOW_DEFAULT]}}comment(e){return"// "+e}exportStyleguideColors(e){var t=this.styleguideColors(e),n=m.CATEGORY_NAME;return{code:o("swift","Color",this._project.name,n)+"import Cocoa\n\n"+t.code,filename:"NSColor+"+n+".swift",mode:"swift"}}exportStyleguideTextStyles(e){var t=this.styleguideTextStyles(e),n=m.CATEGORY_NAME;return{code:o("swift","Font",this._project.name,n)+"import Cocoa\n\n"+t.code,filename:"NSFont+"+n+".swift",mode:"swift"}}}class b extends l.a{static get manifest(){return f}static updateOptions(e){return"10.9"===e[m.DEPLOYMENT_TARGET]&&(e[m.DEPLOYMENT_TARGET]="10.10"),e}styleguideColors(e){return{code:s(e,this._project.prefix,"swift3",this.getOption(m.SHOW_NAMED_COLORS)),mode:"swift",options:[m.DEPLOYMENT_TARGET,m.SHOW_NAMED_COLORS]}}styleguideTextStyles(e){return{mode:"swift",code:r(e,this.getOption(m.DEPLOYMENT_TARGET),"swift3",this._project.prefix,this._project.densityDivisor),options:[m.DEPLOYMENT_TARGET,m.SHOW_NAMED_COLORS]}}layer(e){var t=i(e,"swift3",this.getOption(m.DEPLOYMENT_TARGET),this.getOption(m.ATTR_STR_SHOW_DEFAULT),this._project);if(t)return{mode:"swift",code:t,options:[m.DEPLOYMENT_TARGET,m.ATTR_STR_SHOW_DEFAULT]}}comment(e){return"// "+e}exportStyleguideColors(e){var t=this.styleguideColors(e),n=m.CATEGORY_NAME;return{code:o("swift","Color",this._project.name,n)+"import Cocoa\n\n"+t.code,filename:"NSColor+"+n+".swift",mode:"swift"}}exportStyleguideTextStyles(e){var t=this.styleguideTextStyles(e),n=m.CATEGORY_NAME;return{code:o("swift","Font",this._project.name,n)+"import Cocoa\n\n"+t.code,filename:"NSFont+"+n+".swift",mode:"swift"}}}class v extends l.a{static get manifest(){return h}static updateOptions(e){return"10.9"===e[m.DEPLOYMENT_TARGET]&&(e[m.DEPLOYMENT_TARGET]="10.10"),e}styleguideColors(e){return{code:"@implementation NSColor ("+this.getOption(m.CATEGORY_NAME)+")\n\n"+e.map(function(e){var t="+ (NSColor * _Nonnull)"+(this._project.prefix?this._project.prefix+"_":"")+d.t(e.name)+"Color {\n";return e.r===e.g&&e.g===e.b?t+="    return [NSColor colorWithCalibratedWhite:"+d.u(e.r):t+="    return [NSColor colorWithCalibratedRed:"+d.u(e.r)+"green:"+d.u(e.g)+"blue:"+d.u(e.b),t+"alpha:"+d.a.format(e.a)+"f];\n}"},this).join("\n\n")+"\n\n@end",mode:"objc",options:[m.DEPLOYMENT_TARGET]}}styleguideTextStyles(e){var t={deploymentTarget:this.getOption(m.DEPLOYMENT_TARGET),prefix:this._project.prefix,densityDivisor:this._project.densityDivisor};return{code:"@implementation NSFont ("+this._options.categoryName+")\n\n"+e.map(function(e){return e.generateTextStyleCode("osx",t,"objc")}).join("\n\n")+"\n\n@end",mode:"objc",options:[m.DEPLOYMENT_TARGET]}}layer(e){var t=i(e,"objc",this.getOption(m.DEPLOYMENT_TARGET),this.getOption(m.ATTR_STR_SHOW_DEFAULT),this._project);if(t)return{mode:"objc",code:t,options:[m.DEPLOYMENT_TARGET,m.ATTR_STR_SHOW_DEFAULT]}}comment(e){return"// "+e}exportStyleguideColors(e){var t=this.getOption(m.CATEGORY_NAME),n=this.styleguideColors(e);return[{code:o("h","Color",this._project.name,t)+"#import <Cocoa/Cocoa.h>\n\n@interface NSColor ("+t+")\n\n"+this._project.colors.map(function(e){return"+ (NSColor * _Nonnull)"+(this._project.prefix?this._project.prefix+"_":"")+d.t(e.name)+"Color;"},this).join("\n")+"\n\n@end",mode:"objc",filename:"NSColor+"+t+".h"},{code:o("m","Color",this._project.name,t)+'#import "NSColor+'+t+'.h"\n\n'+n.code,mode:"objc",filename:"NSColor+"+t+".m"}]}exportStyleguideTextStyles(e){var t=this.getOption(m.CATEGORY_NAME),n=this.styleguideTextStyles(e);return[{code:o("h","Font",this._project.name,t)+"#import <Cocoa/Cocoa.h>\n\n@interface NSFont ("+t+")\n\n"+this._project.textStyles.map(function(e){var t=Object(u.a)(e.name,"camelCase");return t=t.trim().length?d.t(t.replace(/\s(\w)/g,function(e,t){return t.toUpperCase()}))+"Font":"textStyleFont","+ (NSFont *)"+(this._project.prefix?this._project.prefix+"_":"")+t+";"},this).join("\n")+"\n\n@end",mode:"objc",filename:"NSFont+"+t+".h"},{code:o("m","Font",this._project.name,t)+'#import "NSFont+'+t+'.h"\n\n'+n.code,mode:"objc",filename:"NSFont+"+t+".m"}]}}},function(e,t,n){"use strict";function a(e,t,n,a,i){var o={type:t,densityDivisor:e.densityDivisor,unitlessLineHeight:n,colorMap:e.getColorMapByFormat(i),colorFormat:i};return a.filter(function(e){return!c.b(e.name)}).map(function(e){return e.generateMixinCode(o)}).join("\n")}function i(e,t,n){var a=e.map(function(e){return y[n].prefix+e.name+y[n].midfix+e.toCSS(t)+y[n].suffix}).join("");return a=("css"===n?":root {\n":"")+a+("css"===n?"}":""),{code:a,mode:n,options:[d.COLOR_FORMAT,d.SHOW_DIMENSIONS,d.UNITLESS_LINE_HEIGHT,d.MIXIN,d.SHOW_DEFAULT_VALUES]}}function o(e,t,n,i,o,r,s){var l={type:o,densityDivisor:t.densityDivisor,unitlessLineHeight:r,colorFormat:i,colorMap:t.getColorMapByFormat(i),defaultValues:s},u="",m="";return n&&(m=a(t,o,r,e,i),e=e.filter(function(e){return c.b(e.name)})),m.length&&(u+=(m=("css"===o?":root {\n":"")+m+("css"===o?"}":""))+c.d(o,e)+"\n\n"),u+=e.map(function(e){return e.generateTextStyleCode("web",l)}).join("\n\n"),{mode:o,code:u,options:[d.COLOR_FORMAT,d.SHOW_DIMENSIONS,d.UNITLESS_LINE_HEIGHT,d.MIXIN,d.SHOW_DEFAULT_VALUES]}}function r(e,t,n,a,i,o,r,s){var l,u=e.toCSS(t.densityDivisor,o,s,a,r),m=[];if("text"===e.type){var p=e.generateTextStyleCSS(t,s,i,a,r);m=m.concat(p)}if(Object.keys(u).length>1&&m.unshift(u),i){var g=e.getDefaultTextStyle(),f=g&&t.findTextStyleEqual(g);if(f&&!c.b(c.e(f.name))){var h=m[0],y=f.toCSS(t.densityDivisor,s,a,r);for(var b in y)"selector"!==b&&delete h[b];h.mixinEntry=y.selector.substr(1)}}l=m.map(function(e){return c.h(n,e,t.getColorMapByFormat(a))}).join("\n\n");var v=[d.COLOR_FORMAT,d.SHOW_DIMENSIONS];return"text"===e.type&&v.push(d.UNITLESS_LINE_HEIGHT,d.MIXIN,d.SHOW_DEFAULT_VALUES),{mode:n,code:l,options:v}}function s(e,t){return class extends l.a{static get manifest(){return e}styleguideColors(e){return i(e,this.getOption(d.COLOR_FORMAT),t)}styleguideTextStyles(e){return o(e,this._project,this.getOption(d.MIXIN),this.getOption(d.COLOR_FORMAT),t,this.getOption(d.UNITLESS_LINE_HEIGHT),this.getOption(d.SHOW_DEFAULT_VALUES))}layer(e){return r(e,this._project,t,this.getOption(d.COLOR_FORMAT),this.getOption(d.MIXIN),this.getOption(d.SHOW_DIMENSIONS),this.getOption(d.SHOW_DEFAULT_VALUES),this.getOption(d.UNITLESS_LINE_HEIGHT))}comment(e){return"/* "+e+" */"}exportStyleguideColors(e){var t=this.styleguideColors(e);return{code:this.comment(u.a)+"\n\n"+t.code,filename:"colors."+t.mode,mode:t.mode}}exportStyleguideTextStyles(e){var t=this.styleguideTextStyles(e);return{code:this.comment(u.a)+"\n\n"+t.code,filename:"fonts."+t.mode,mode:t.mode}}}}n.d(t,"a",function(){return b}),n.d(t,"c",function(){return v}),n.d(t,"d",function(){return S}),n.d(t,"b",function(){return j}),n.d(t,"e",function(){return E});var l=n(34),c=n(12),u=n(48),d={COLOR_FORMAT:"colorFormat",SHOW_DEFAULT_VALUES:"showDefaultValues",SHOW_DIMENSIONS:"showDimensions",UNITLESS_LINE_HEIGHT:"unitlessLineHeight",MIXIN:"mixin"},m=[{name:"Color format",type:"picker",id:d.COLOR_FORMAT,submenu:!0,options:[{name:"Default",value:"default"},{name:"HEX",value:"hex"},{name:"RGB",value:"rgb"},{name:"HSL",value:"hsl"}],default:"default"},{name:"Dimensions",type:"switch",id:d.SHOW_DIMENSIONS,default:!0},{name:"Unitless line-height",type:"switch",id:d.UNITLESS_LINE_HEIGHT,default:!0},{name:"Text styles as mixins",type:"switch",id:d.MIXIN,default:!0},{name:"Default values",type:"switch",id:d.SHOW_DEFAULT_VALUES,default:!0}],p={name:"Sass",id:"stylesheet_sass",type:"internal",options:m},g={name:"SCSS",id:"stylesheet_scss",type:"internal",options:m},f={name:"Less",id:"stylesheet_less",type:"internal",options:m},h={name:"Stylus",id:"stylesheet_stylus",type:"internal",options:m},y={css:{prefix:"  --",midfix:": ",suffix:";\n"},sass:{prefix:"$",midfix:": ",suffix:"\n"},scss:{prefix:"$",midfix:": ",suffix:";\n"},less:{prefix:"@",midfix:": ",suffix:";\n"},stylus:{prefix:"",midfix:" = ",suffix:"\n"}},b=s({name:"CSS",id:"stylesheet_css",type:"internal",options:m},"css"),v=s(p,"sass"),S=s(g,"scss"),j=s(f,"less"),E=s(h,"stylus")}]);
//# sourceMappingURL=maps/project.js.map
